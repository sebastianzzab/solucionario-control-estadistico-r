[
  {
    "objectID": "otros_metodos_estadisticos_cp.html",
    "href": "otros_metodos_estadisticos_cp.html",
    "title": "2  Otros Métodos Estadísticos de Control de Procesos Aplicados con \\({\\color{Blue} \\textbf{\\textsf{R}}}\\)",
    "section": "",
    "text": "3 Otros Métodos Estadísticos de Control de Procesos\nEn los capítulos anteriores hemos explorado los diagramas de control de Shewhart, tanto para variables \\((\\bar{X}-R\\), \\(\\bar{X}-S)\\) como para atributos \\((p, np, u, c)\\). Si bien estas herramientas son fundamentales, su principal deficiencia radica en su relativa insensibilidad para detectar de forma rápida los cambios pequeños pero persistentes en los parámetros del proceso.\nPara superar esta limitación, en esta sección nos adentraremos en métodos estadísticos alternativos que ofrecen mayor potencia. Específicamente, estudiaremos los diagramas de control CUSUM y EWMA, diseñados para detectar pequeños desplazamientos, y el diagrama T² de Hotelling para el control de procesos multivariados.\nEn el siguiente bloque de código se cargan todas las librerías o paquetes necesarios para el desarrollo de este capitulo, si no se tiene instalado alguno de ellos se instalaran automáticamente.\nDel mismo modo, se crea una base de datos .bib para los paquetes de R que se están utilizando en este capitulo, la cual se puede usar para crear una bibliografía al final del capitulo.\nPor otro lado, aqui se crean funciones propias para darle formato a las salidas imprimidas en pantalla. las cuales se pueden usar en cualquier parte del capitulo.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Otros Métodos Estadísticos de Control de Procesos Aplicados con ${\\color{Blue} \\textbf{\\textsf{R}}}$</span>"
    ]
  },
  {
    "objectID": "otros_metodos_estadisticos_cp.html#diagrama-de-control-cusum-para-monitorear-la-media-del-proceso",
    "href": "otros_metodos_estadisticos_cp.html#diagrama-de-control-cusum-para-monitorear-la-media-del-proceso",
    "title": "2  Otros Métodos Estadísticos de Control de Procesos Aplicados con \\({\\color{Blue} \\textbf{\\textsf{R}}}\\)",
    "section": "3.1 Diagrama de Control CUSUM para monitorear la Media del Proceso",
    "text": "3.1 Diagrama de Control CUSUM para monitorear la Media del Proceso\n\n\n\n\n\n\n\nEjemplo 3.1 (Aplicación del Diagrama de Control CUSUM para monitorear la Media del Proceso) A cierto producto químico orgánico comercial se le mide cada cuatro horas el nivel de una sustancia relacionada con su pureza. Los datos de 22 muestras se encuentran en la Tabla 3.1. Dado que el valor objetivo de esta sustancia es 15 y que se conoce que la desviación estándar es de alrededor de 1, construya la carta CUSUM para estos datos. Use k = 0.5 y h = 5. Aplique la CUSUM en forma tabular.Este ejemplo fue tomado de Gutiérrez Pulido y De la Vara Salazar (2009).\n\nCódigo\n# Se definen los parámetros del problema para fácil acceso y modificación\nmu0 &lt;- 15  # Valor objetivo\nk &lt;- 0.5   # Valor de referencia (allowance)\nh &lt;- 5     # Límite de decisión\n\ndata_cusum_raw &lt;- tibble::tibble(\n  `muestra` = 1:22,\n  `x_i` = c(\n    15.3, 15.7, 14.4, 14.0, 15.2, 15.8, 16.7, 16.6, 15.9,\n    17.4, 15.7, 15.9, 14.7, 15.2, 14.6, 13.7, 12.9, 13.2,\n    14.1, 14.2, 13.8, 14.6)\n)\ndata_cusum_prelim &lt;- data_cusum_raw |&gt;\n  dplyr::mutate(\n    `col_b` = x_i - mu0,\n    `col_c` = cumsum(col_b)\n  ) |&gt;\n  data.table::data.table()\n\nknitr::kable(\n  data_cusum_prelim,\n  format = \"markdown\",\n  digits = 4,\n  format.args = list(decimal.mark = \",\", big.mark = \".\"),\n  col.names = c(\n    \"$Muestra \\\\: (i)$\", \"$(a)\\\\:x_i$\", \"$(b)\\\\:x_i - 15$\",\n    \"$(c)\\\\: \\\\sum_{j=1}^{i} (x_j - 15)$\"\n  ),\n  align = \"cccc\",\n  escape = FALSE\n)\n\n\n\n\nTabla 3.1: Nivel de una sustancia relacionada con la pureza de cierto producto químico orgánico comercial\n\n\n\n\n\n\n\n\n\n\n\n\\(Muestra \\: (i)\\)\n\\((a)\\:x_i\\)\n\\((b)\\:x_i - 15\\)\n\\((c)\\: \\sum_{j=1}^{i} (x_j - 15)\\)\n\n\n\n\n1\n15,3\n0,3\n0,3\n\n\n2\n15,7\n0,7\n1,0\n\n\n3\n14,4\n-0,6\n0,4\n\n\n4\n14,0\n-1,0\n-0,6\n\n\n5\n15,2\n0,2\n-0,4\n\n\n6\n15,8\n0,8\n0,4\n\n\n7\n16,7\n1,7\n2,1\n\n\n8\n16,6\n1,6\n3,7\n\n\n9\n15,9\n0,9\n4,6\n\n\n10\n17,4\n2,4\n7,0\n\n\n11\n15,7\n0,7\n7,7\n\n\n12\n15,9\n0,9\n8,6\n\n\n13\n14,7\n-0,3\n8,3\n\n\n14\n15,2\n0,2\n8,5\n\n\n15\n14,6\n-0,4\n8,1\n\n\n16\n13,7\n-1,3\n6,8\n\n\n17\n12,9\n-2,1\n4,7\n\n\n18\n13,2\n-1,8\n2,9\n\n\n19\n14,1\n-0,9\n2,0\n\n\n20\n14,2\n-0,8\n1,2\n\n\n21\n13,8\n-1,2\n0,0\n\n\n22\n14,6\n-0,4\n-0,4\n\n\n\n\n\n\nUna vez que se tienen los datos, se procede a construir la tabla con todos los calculos relacionados directamente para la construccion del diagrama CUSUM, los cuales se pueden ver a continuación:\n\nCódigo\ncusum_stats &lt;- function(x, mu_0 = 0, K, C_0 = 0) {\n  c_mas &lt;- numeric(length = length(x))\n  n_mas &lt;- numeric(length = length(x))\n  c_menos &lt;- numeric(length = length(x))\n  n_menos &lt;- numeric(length = length(x))\n  c_mas[1] &lt;- max(0, x[1] - (mu_0 + K) + C_0)\n  n_mas[1] &lt;- ifelse(c_mas[1] == 0, 0, 1)\n  c_menos[1] &lt;- max(0, (mu_0 - K) - x[1] + C_0)\n  n_menos[1] &lt;- ifelse(c_menos[1] == 0, 0, 1)\n  for (i in 2:length(x)) {\n    c_mas[i] &lt;- max(0, x[i] - (mu_0 + K) + c_mas[i - 1])\n    n_mas[i] &lt;- ifelse(c_mas[i] != 0, 1 + n_mas[i - 1], 0)\n    c_menos[i] &lt;- max(0, (mu_0 - K) - x[i] + c_menos[i - 1])\n    n_menos[i] &lt;- ifelse(c_menos[i] != 0, 1 + n_menos[i - 1], 0)\n  }\n  return(list(c_mas = c_mas, n_mas = n_mas, c_menos = c_menos, n_menos = n_menos))\n}\n\ncusum_calcs &lt;- cusum_stats(data_cusum_raw$x_i, mu_0 = mu0, K = k)\n\ndata_cusum_tabular &lt;- data_cusum_raw |&gt;\n  dplyr::mutate(\n    # Columnas intermedias para la tabla\n    col_b = x_i - (mu0 + k),\n    c_mas = cusum_calcs$c_mas,\n    n_mas = cusum_calcs$n_mas,\n    col_c = (mu0 - k) - x_i,\n    c_menos = cusum_calcs$c_menos,\n    n_menos = cusum_calcs$n_menos\n  ) |&gt;\n  data.table::data.table()\n\n\nknitr::kable(  data_cusum_tabular,\n  format = \"markdown\",\n  digits = 4,\n  format.args = list(decimal.mark = \",\", big.mark = \".\"),\n  col.names = c(\n    \"Periodo ($i$)\", \"$x_i$\", \"$x_i - (\\\\mu_0+k) = x_i - 15,5$\",\n    \"$C_i^+$\", \"$N^+$\", \"$(\\\\mu_0-k) - x_i = 14,5 - x_i$\", \"$C_i^-$\",\n    \"$N^-$\"\n  ),\n  align = \"cccccccc\",\n  escape = FALSE\n)\n\n\n\n\nTabla 3.2: Cálculos para el diagrama CUSUM tabular\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPeriodo (\\(i\\))\n\\(x_i\\)\n\\(x_i - (\\mu_0+k) = x_i - 15,5\\)\n\\(C_i^+\\)\n\\(N^+\\)\n\\((\\mu_0-k) - x_i = 14,5 - x_i\\)\n\\(C_i^-\\)\n\\(N^-\\)\n\n\n\n\n1\n15,3\n-0,2\n0,0\n0\n-0,8\n0,0\n0\n\n\n2\n15,7\n0,2\n0,2\n1\n-1,2\n0,0\n0\n\n\n3\n14,4\n-1,1\n0,0\n0\n0,1\n0,1\n1\n\n\n4\n14,0\n-1,5\n0,0\n0\n0,5\n0,6\n2\n\n\n5\n15,2\n-0,3\n0,0\n0\n-0,7\n0,0\n0\n\n\n6\n15,8\n0,3\n0,3\n1\n-1,3\n0,0\n0\n\n\n7\n16,7\n1,2\n1,5\n2\n-2,2\n0,0\n0\n\n\n8\n16,6\n1,1\n2,6\n3\n-2,1\n0,0\n0\n\n\n9\n15,9\n0,4\n3,0\n4\n-1,4\n0,0\n0\n\n\n10\n17,4\n1,9\n4,9\n5\n-2,9\n0,0\n0\n\n\n11\n15,7\n0,2\n5,1\n6\n-1,2\n0,0\n0\n\n\n12\n15,9\n0,4\n5,5\n7\n-1,4\n0,0\n0\n\n\n13\n14,7\n-0,8\n4,7\n8\n-0,2\n0,0\n0\n\n\n14\n15,2\n-0,3\n4,4\n9\n-0,7\n0,0\n0\n\n\n15\n14,6\n-0,9\n3,5\n10\n-0,1\n0,0\n0\n\n\n16\n13,7\n-1,8\n1,7\n11\n0,8\n0,8\n1\n\n\n17\n12,9\n-2,6\n0,0\n0\n1,6\n2,4\n2\n\n\n18\n13,2\n-2,3\n0,0\n0\n1,3\n3,7\n3\n\n\n19\n14,1\n-1,4\n0,0\n0\n0,4\n4,1\n4\n\n\n20\n14,2\n-1,3\n0,0\n0\n0,3\n4,4\n5\n\n\n21\n13,8\n-1,7\n0,0\n0\n0,7\n5,1\n6\n\n\n22\n14,6\n-0,9\n0,0\n0\n-0,1\n5,0\n7\n\n\n\n\n\n\nUna vez que ya se han calculado cada uno de los elementos necesarios para realizar el diagrama de control cusum con el paquete highcharter, se procede a hacerlo. El cual se puede ver a continuación:\n\nCódigo\n# Definir color de puntos fuera de control usando el parámetro h\ncolor &lt;- ifelse(\n  data_cusum_tabular$c_mas &gt; h | data_cusum_tabular$c_menos &gt; h, \n  \"#FF0000\", # Rojo para puntos fuera de control\n  \"#0000FF\"  # Azul para puntos en control\n)\n\nhighchart() |&gt;\n  # Límites de control H y -H \n  hc_add_series(\n    data = data_cusum_tabular,\n    type = \"line\", hcaes(x = muestra, y = h), \n    useHTML = TRUE, color = \"red\", \n    dashStyle = \"Dash\", name = \"&lt;b&gt;&lt;i&gt;H&lt;/i&gt;&lt;/b&gt;\",\n    marker = list(enabled = FALSE)\n  ) |&gt;\n  hc_add_series(\n    data = data_cusum_tabular,\n    type = \"line\", hcaes(x = muestra, y = -h), useHTML = TRUE,\n    color = \"red\", dashStyle = \"Dash\", \n    name = \"&lt;b&gt;&lt;i&gt;-H&lt;/i&gt;&lt;/b&gt;\",\n    marker = list(enabled = FALSE)\n  ) |&gt;\n  \n  hc_add_series(\n    data = data_cusum_tabular, \n    type = \"errorbar\",\n    hcaes(\n      x = muestra, \n      low = -c_menos, # Límite inferior de la barra\n      high = c_mas,   # Límite superior de la barra\n      color = factor(color)\n    ),\n    showInLegend = TRUE, \n    lineWidth = 3, \n    useHTML = TRUE,\n    # Nombre en la leyenda más claro\n    name = \"&lt;b&gt;&lt;i&gt;Rango CUSUM (C⁺, -C⁻)&lt;/i&gt;&lt;/b&gt;\",\n    # Mantenemos los marcadores en los extremos de la barra\n    marker = list(enabled = TRUE, symbol = \"circle\", radius = 2),\n    tooltip = list(\n      pointFormat = '&lt;b&gt;C⁺:&lt;/b&gt; {point.high:.2f}&lt;br/&gt;&lt;b&gt;-C⁻:&lt;/b&gt; {point.low:.2f}&lt;br/&gt;',\n      shared = TRUE,\n      headerFormat = \"&lt;b&gt;Muestra {point.key}&lt;/b&gt;&lt;br/&gt;\"\n    )\n  ) |&gt;\n  \n  hc_xAxis(\n    title = list(useHTML = TRUE, text = \"&lt;b&gt;&lt;i&gt;Muestra (i)&lt;/i&gt;&lt;/b&gt;\"),\n    crosshair = TRUE\n  ) |&gt;\n  hc_yAxis(\n    title = list(useHTML = TRUE, text = \"&lt;b&gt;&lt;i&gt;Valor CUSUM&lt;/i&gt;&lt;/b&gt;\"),\n    plotLines = list(list(value = 0, color = \"grey\", width = 1, zIndex = 1))\n  ) |&gt;\n  hc_tooltip(shared = TRUE) |&gt;\n  hc_exporting(enabled = TRUE) |&gt;\n  hc_plotOptions(series = list(animation = FALSE))\n\n\n\nDiagrama de control CUSUM para el Nivel de una sustancia relacionada con la pureza de cierto producto químico orgánico comercial\nEl diagrama de control CUSUM muestra que el proceso está fuera de control estadístico, ya que se observan señales de alarma. En la muestra 11, el valor de la suma acumulada (C⁺) excede el límite superior H=5, indicando un corrimiento al alza en el nivel promedio de la sustancia. Más adelante, en la muestra 21, se genera otra señal al cruzar el límite inferior (-H=-5), lo que evidencia un corrimiento persistente a la baja en la media del proceso, alejándose en ambos casos del valor objetivo de 15. Por lo que se procedera a eliminar estos valores de nuestros y recalcular los valores de CUSUM, para ver si el proceso se encuentra en control estadístico nuevamente.\nSe tiene nuevamente la tabla de datos, pero esta vez sin los valores que se encuentran fuera de control, los cuales se pueden ver en la Tabla 3.3:\n\nCódigo\n#| table-caption: left\n#| class: output\n\n# Se definen los parámetros del problema para fácil acceso y modificación\nmu0 &lt;- 15  # Valor objetivo\nk &lt;- 0.5   # Valor de referencia (allowance)\nh &lt;- 5     # Límite de decisión\n\ndata_cusum_raw &lt;- tibble::tibble(\n  `muestra` = 1:18,\n  `x_i` = c(\n    15.3, 15.7, 14.4, 14.0, 15.2, 15.8, 16.7, 16.6, 15.9,\n    17.4, 14.7, 15.2, 14.6, 13.7, 12.9, 13.2,\n    14.1, 14.2)\n)\ndata_cusum_prelim &lt;- data_cusum_raw |&gt;\n  dplyr::mutate(\n    `col_b` = x_i - mu0,\n    `col_c` = cumsum(col_b)\n  ) |&gt;\n  data.table::data.table()\n\nknitr::kable(\n  data_cusum_prelim,\n  format = \"markdown\",\n  digits = 4,\n  format.args = list(decimal.mark = \",\", big.mark = \".\"),\n  col.names = c(\n    \"$Muestra \\\\: (i)$\", \"$(a)\\\\:x_i$\", \"$(b)\\\\:x_i - 15$\",\n    \"$(c)\\\\: \\\\sum_{j=1}^{i} (x_j - 15)$\"\n  ),\n  align = \"cccc\",\n  escape = FALSE\n)\n\n\n\n\nTabla 3.3: Nivel de una sustancia relacionada con la pureza de cierto producto químico orgánico comercial corregidos\n\n\n\n\n\n\n\n\n\n\n\n\\(Muestra \\: (i)\\)\n\\((a)\\:x_i\\)\n\\((b)\\:x_i - 15\\)\n\\((c)\\: \\sum_{j=1}^{i} (x_j - 15)\\)\n\n\n\n\n1\n15,3\n0,3\n0,3\n\n\n2\n15,7\n0,7\n1,0\n\n\n3\n14,4\n-0,6\n0,4\n\n\n4\n14,0\n-1,0\n-0,6\n\n\n5\n15,2\n0,2\n-0,4\n\n\n6\n15,8\n0,8\n0,4\n\n\n7\n16,7\n1,7\n2,1\n\n\n8\n16,6\n1,6\n3,7\n\n\n9\n15,9\n0,9\n4,6\n\n\n10\n17,4\n2,4\n7,0\n\n\n11\n14,7\n-0,3\n6,7\n\n\n12\n15,2\n0,2\n6,9\n\n\n13\n14,6\n-0,4\n6,5\n\n\n14\n13,7\n-1,3\n5,2\n\n\n15\n12,9\n-2,1\n3,1\n\n\n16\n13,2\n-1,8\n1,3\n\n\n17\n14,1\n-0,9\n0,4\n\n\n18\n14,2\n-0,8\n-0,4\n\n\n\n\n\n\nAhora se vuelven a calcular los valores de CUSUM, pero esta vez con los datos corregidos, los cuales se pueden ver en la Tabla 3.4:\n\nCódigo\ncusum_stats &lt;- function(x, mu_0 = 0, K, C_0 = 0) {\n  c_mas &lt;- numeric(length = length(x))\n  n_mas &lt;- numeric(length = length(x))\n  c_menos &lt;- numeric(length = length(x))\n  n_menos &lt;- numeric(length = length(x))\n  c_mas[1] &lt;- max(0, x[1] - (mu_0 + K) + C_0)\n  n_mas[1] &lt;- ifelse(c_mas[1] == 0, 0, 1)\n  c_menos[1] &lt;- max(0, (mu_0 - K) - x[1] + C_0)\n  n_menos[1] &lt;- ifelse(c_menos[1] == 0, 0, 1)\n  for (i in 2:length(x)) {\n    c_mas[i] &lt;- max(0, x[i] - (mu_0 + K) + c_mas[i - 1])\n    n_mas[i] &lt;- ifelse(c_mas[i] != 0, 1 + n_mas[i - 1], 0)\n    c_menos[i] &lt;- max(0, (mu_0 - K) - x[i] + c_menos[i - 1])\n    n_menos[i] &lt;- ifelse(c_menos[i] != 0, 1 + n_menos[i - 1], 0)\n  }\n  return(list(c_mas = c_mas, n_mas = n_mas, c_menos = c_menos, n_menos = n_menos))\n}\n\ncusum_calcs &lt;- cusum_stats(data_cusum_raw$x_i, mu_0 = mu0, K = k)\n\ndata_cusum_tabular &lt;- data_cusum_raw |&gt;\n  dplyr::mutate(\n    # Columnas intermedias para la tabla\n    col_b = x_i - (mu0 + k),\n    c_mas = cusum_calcs$c_mas,\n    n_mas = cusum_calcs$n_mas,\n    col_c = (mu0 - k) - x_i,\n    c_menos = cusum_calcs$c_menos,\n    n_menos = cusum_calcs$n_menos\n  ) |&gt;\n  data.table::data.table()\n\n\nknitr::kable(  data_cusum_tabular,\n  format = \"markdown\",\n  digits = 4,\n  format.args = list(decimal.mark = \",\", big.mark = \".\"),\n  col.names = c(\n    \"Periodo ($i$)\", \"$x_i$\", \"$x_i - (\\\\mu_0+k) = x_i - 15,5$\",\n    \"$C_i^+$\", \"$N^+$\", \"$(\\\\mu_0-k) - x_i = 14,5 - x_i$\", \"$C_i^-$\",\n    \"$N^-$\"\n  ),\n  align = \"cccccccc\",\n  escape = FALSE\n)\n\n\n\n\nTabla 3.4: Cálculos para el diagrama CUSUM tabular corregido\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPeriodo (\\(i\\))\n\\(x_i\\)\n\\(x_i - (\\mu_0+k) = x_i - 15,5\\)\n\\(C_i^+\\)\n\\(N^+\\)\n\\((\\mu_0-k) - x_i = 14,5 - x_i\\)\n\\(C_i^-\\)\n\\(N^-\\)\n\n\n\n\n1\n15,3\n-0,2\n0,0\n0\n-0,8\n0,0\n0\n\n\n2\n15,7\n0,2\n0,2\n1\n-1,2\n0,0\n0\n\n\n3\n14,4\n-1,1\n0,0\n0\n0,1\n0,1\n1\n\n\n4\n14,0\n-1,5\n0,0\n0\n0,5\n0,6\n2\n\n\n5\n15,2\n-0,3\n0,0\n0\n-0,7\n0,0\n0\n\n\n6\n15,8\n0,3\n0,3\n1\n-1,3\n0,0\n0\n\n\n7\n16,7\n1,2\n1,5\n2\n-2,2\n0,0\n0\n\n\n8\n16,6\n1,1\n2,6\n3\n-2,1\n0,0\n0\n\n\n9\n15,9\n0,4\n3,0\n4\n-1,4\n0,0\n0\n\n\n10\n17,4\n1,9\n4,9\n5\n-2,9\n0,0\n0\n\n\n11\n14,7\n-0,8\n4,1\n6\n-0,2\n0,0\n0\n\n\n12\n15,2\n-0,3\n3,8\n7\n-0,7\n0,0\n0\n\n\n13\n14,6\n-0,9\n2,9\n8\n-0,1\n0,0\n0\n\n\n14\n13,7\n-1,8\n1,1\n9\n0,8\n0,8\n1\n\n\n15\n12,9\n-2,6\n0,0\n0\n1,6\n2,4\n2\n\n\n16\n13,2\n-2,3\n0,0\n0\n1,3\n3,7\n3\n\n\n17\n14,1\n-1,4\n0,0\n0\n0,4\n4,1\n4\n\n\n18\n14,2\n-1,3\n0,0\n0\n0,3\n4,4\n5\n\n\n\n\n\n\nUna vez realizados los calculos necesarios para calcular el diagrama CUSUM nuevamente, el cual se puede ver a continuación:\n\nCódigo\n# Definir color de puntos fuera de control usando el parámetro h\ncolor &lt;- ifelse(\n  data_cusum_tabular$c_mas &gt; h | data_cusum_tabular$c_menos &gt; h, \n  \"#FF0000\", # Rojo para puntos fuera de control\n  \"#0000FF\"  # Azul para puntos en control\n)\n\nhighchart() |&gt;\n  # Límites de control H y -H \n  hc_add_series(\n    data = data_cusum_tabular,\n    type = \"line\", hcaes(x = muestra, y = h), \n    useHTML = TRUE, color = \"red\", \n    dashStyle = \"Dash\", name = \"&lt;b&gt;&lt;i&gt;H&lt;/i&gt;&lt;/b&gt;\",\n    marker = list(enabled = FALSE)\n  ) |&gt;\n  hc_add_series(\n    data = data_cusum_tabular,\n    type = \"line\", hcaes(x = muestra, y = -h), useHTML = TRUE,\n    color = \"red\", dashStyle = \"Dash\", \n    name = \"&lt;b&gt;&lt;i&gt;-H&lt;/i&gt;&lt;/b&gt;\",\n    marker = list(enabled = FALSE)\n  ) |&gt;\n  \n  hc_add_series(\n    data = data_cusum_tabular, \n    type = \"errorbar\",\n    hcaes(\n      x = muestra, \n      low = -c_menos, # Límite inferior de la barra\n      high = c_mas,   # Límite superior de la barra\n      color = factor(color)\n    ),\n    showInLegend = TRUE, \n    lineWidth = 3, \n    useHTML = TRUE,\n    # Nombre en la leyenda más claro\n    name = \"&lt;b&gt;&lt;i&gt;Rango CUSUM (C⁺, -C⁻)&lt;/i&gt;&lt;/b&gt;\",\n    # Mantenemos los marcadores en los extremos de la barra\n    marker = list(enabled = TRUE, symbol = \"circle\", radius = 2),\n    tooltip = list(\n      pointFormat = '&lt;b&gt;C⁺:&lt;/b&gt; {point.high:.2f}&lt;br/&gt;&lt;b&gt;-C⁻:&lt;/b&gt; {point.low:.2f}&lt;br/&gt;',\n      shared = TRUE,\n      headerFormat = \"&lt;b&gt;Muestra {point.key}&lt;/b&gt;&lt;br/&gt;\"\n    )\n  ) |&gt;\n  \n  hc_xAxis(\n    title = list(useHTML = TRUE, text = \"&lt;b&gt;&lt;i&gt;Muestra (i)&lt;/i&gt;&lt;/b&gt;\"),\n    crosshair = TRUE\n  ) |&gt;\n  hc_yAxis(\n    title = list(useHTML = TRUE, text = \"&lt;b&gt;&lt;i&gt;Valor CUSUM&lt;/i&gt;&lt;/b&gt;\"),\n    plotLines = list(list(value = 0, color = \"grey\", width = 1, zIndex = 1))\n  ) |&gt;\n  hc_tooltip(shared = TRUE) |&gt;\n  hc_exporting(enabled = TRUE) |&gt;\n  hc_plotOptions(series = list(animation = FALSE))\n\n\n\nDiagrama de control CUSUM corregido para el Nivel de una sustancia relacionada con la pureza de cierto producto químico orgánico comercial\nEn este diagrama de control CUSUM corregido, el proceso se muestra en estado de control estadístico. Una vez eliminadas las muestras que generaron las alarmas anteriores, se observa que todos los puntos del rango CUSUM (C⁺, C⁻) se encuentran dentro de los límites de decisión superior (H=5) e inferior (-H=-5). Esto indica que, sin la influencia de esas causas especiales de variación, el nivel de pureza de la sustancia se ha mantenido estable y dentro de los parámetros de control establecidos.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Otros Métodos Estadísticos de Control de Procesos Aplicados con ${\\color{Blue} \\textbf{\\textsf{R}}}$</span>"
    ]
  },
  {
    "objectID": "otros_metodos_estadisticos_cp.html#diagrama-de-control-de-promedio-móvil-ponderado-exponencialmente",
    "href": "otros_metodos_estadisticos_cp.html#diagrama-de-control-de-promedio-móvil-ponderado-exponencialmente",
    "title": "2  otros_metodos_estadisticos_cp",
    "section": "3.2 Diagrama de Control de Promedio Móvil Ponderado Exponencialmente",
    "text": "3.2 Diagrama de Control de Promedio Móvil Ponderado Exponencialmente",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Otros Métodos Estadísticos de Control de Procesos Aplicados con ${\\color{Blue} \\textbf{\\textsf{R}}}$</span>"
    ]
  },
  {
    "objectID": "otros_metodos_estadisticos_cp.html#diagrama-de-control-del-promedio-móvil",
    "href": "otros_metodos_estadisticos_cp.html#diagrama-de-control-del-promedio-móvil",
    "title": "2  Otros Métodos Estadísticos de Control de Procesos Aplicados con \\({\\color{Blue} \\textbf{\\textsf{R}}}\\)",
    "section": "3.3 Diagrama de Control del Promedio Móvil",
    "text": "3.3 Diagrama de Control del Promedio Móvil\n\n\n\n\n\n\n\nEjemplo 3.2 (Aplicación del Diagrama \\(MA\\) para individuos)  \n\n\n\n\n\n\n\n\n\n\n\n3.4 Aplicación del Diagrama \\(MA\\) para subgrupos",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Otros Métodos Estadísticos de Control de Procesos Aplicados con ${\\color{Blue} \\textbf{\\textsf{R}}}$</span>"
    ]
  },
  {
    "objectID": "otros_metodos_estadisticos_cp.html#el-diagrama-de-control-t2-de-hotelling",
    "href": "otros_metodos_estadisticos_cp.html#el-diagrama-de-control-t2-de-hotelling",
    "title": "2  otros_metodos_estadisticos_cp",
    "section": "3.4 El Diagrama de Control \\(T^2\\) de Hotelling",
    "text": "3.4 El Diagrama de Control \\(T^2\\) de Hotelling",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Otros Métodos Estadísticos de Control de Procesos Aplicados con ${\\color{Blue} \\textbf{\\textsf{R}}}$</span>"
    ]
  },
  {
    "objectID": "intro.html",
    "href": "intro.html",
    "title": "1  Introducción",
    "section": "",
    "text": "En el entorno industrial actual, donde la eficiencia y la calidad son pilares de la competitividad, el Control Estadístico de Procesos (CEP) se consolida como una estrategia fundamental para asegurar productos y servicios consistentes. Su enfoque permite no solo detectar desviaciones en los procesos, sino anticiparse a ellas mediante herramientas estadísticas de monitoreo continuo.\nEste libro se centra en tres técnicas avanzadas del CEP: los diagramas de control CUSUM, EWMA y el estadístico multivariado \\(T^2\\) de Hotelling. Estas metodologías son especialmente útiles cuando se requiere una detección temprana de cambios pequeños en la media o en la estructura del proceso, así como cuando se manejan múltiples variables de forma simultánea.\nLa propuesta de esta obra es eminentemente práctica. A través del uso del lenguaje de programación R y la plataforma Quarto, se resuelven ejercicios que guían al lector desde la organización de los datos hasta la interpretación gráfica de los resultados. Cada ejemplo está diseñado para fortalecer la comprensión técnica y facilitar su aplicación en contextos reales.\nEste material está dirigido a estudiantes, docentes y profesionales interesados en aplicar técnicas modernas de control estadístico mediante herramientas computacionales de código abierto, fomentando un aprendizaje reproducible y alineado con las exigencias actuales del análisis de calidad.\n\n\n\n\nGutiérrez Pulido, Humberto, y Román De la Vara Salazar. 2009. «Control estadı́stico de calidad y seis sigma». México, DF: Mc Graw-Hill.\n\n\nKnuth, Donald E. 1984. «Literate Programming». Comput. J. 27 (2): 97-111. https://doi.org/10.1093/comjnl/27.2.97.\n\n\nMontgomery, Douglas C, y Dirk Valckx Verbeeck. 2004. Control estadı́stico de la calidad. Limusa Wiley Spain.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Introducción</span>"
    ]
  },
  {
    "objectID": "summary.html",
    "href": "summary.html",
    "title": "3  Summary",
    "section": "",
    "text": "In summary, this book has no content whatsoever.\n\n1 + 1\n\n[1] 2",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Summary</span>"
    ]
  },
  {
    "objectID": "references.html",
    "href": "references.html",
    "title": "Referencias",
    "section": "",
    "text": "Gutiérrez Pulido, Humberto, and Román De la Vara Salazar. 2009.\n“Control Estadı́stico de Calidad y Seis Sigma.”\nMéxico, DF: Mc Graw-Hill.\n\n\nKnuth, Donald E. 1984. “Literate Programming.” Comput.\nJ. 27 (2): 97–111. https://doi.org/10.1093/comjnl/27.2.97.\n\n\nMontgomery, Douglas C, and Dirk Valckx Verbeeck. 2004. Control\nEstadı́stico de La Calidad. Limusa Wiley Spain.",
    "crumbs": [
      "Referencias"
    ]
  },
  {
    "objectID": "otros_metodos_estadisticos_cp.html#diagrama-de-control-t2-de-hotelling",
    "href": "otros_metodos_estadisticos_cp.html#diagrama-de-control-t2-de-hotelling",
    "title": "2  Otros Métodos Estadísticos de Control de Procesos Aplicados con \\({\\color{Blue} \\textbf{\\textsf{R}}}\\)",
    "section": "3.3 Diagrama de Control \\(T^2\\) de Hotelling",
    "text": "3.3 Diagrama de Control \\(T^2\\) de Hotelling\n\n\n\n\n\n\n\nEjemplo 3.3 (Aplicación del Diagrama \\(T^{2}\\) de Hotelling para Subgrupos) En el proceso de fabricación de una fibra textil sintética, la resistencia a la tensión (X₁) y el diámetro (X₂) son dos características de calidad críticas que deben ser monitoreadas de forma conjunta. Se sabe que estas variables están correlacionadas, por lo que un control univariado por separado podría no detectar problemas en la calidad final del producto. Para establecer un control estadístico del proceso (Fase I), un ingeniero de calidad ha recolectado 20 muestras preliminares (m = 20), cada una compuesta por 3 ejemplares de fibra (n = 3). El análisis de estos datos arrojó los siguientes estadísticos resumen: Vector de medias globales: \\(\\bar{\\bar{x}} = \\begin{bmatrix} 115.59 \\text{ psi} \\\\ 0.0106 \\text{ pulgadas} \\end{bmatrix}\\) Matriz de varianzas-covarianzas promedio:\n\\(\\bar{S} = \\begin{bmatrix} 1.23 & 0.79 \\\\ 0.79 & 0.83 \\end{bmatrix}\\) Se solicita: Establecer los límites de control para un diagrama T² de Hotelling que permita monitorear el proceso en el futuro. Utilizar un nivel de significancia de α = 0.001. Concluir si el proceso puede considerarse en estado de control estadístico a partir de estos datos preliminares.\n\nCódigo\n# Parámetros\np &lt;- 2      # variables\nn &lt;- 3     # observaciones por muestra\nm &lt;- 20     # número de muestras\n\n# Medias y matriz de varianza-covarianza\nvec_medias_objetivo &lt;- c(115.59, 1.06)\nmatriz_var_cov_objetivo &lt;- matrix(\n  c(1.23, 0.079,\n    0.079, 0.0083),\n  nrow = 2, byrow = TRUE,\n  dimnames = list(c(\"Resistencia\", \"Diametro\"), c(\"Resistencia\", \"Diametro\"))\n)\n\n# Simulación\nset.seed(135711)\ndatos_simulados &lt;- rmvnorm(n = m * n, mean = vec_medias_objetivo, sigma = matriz_var_cov_objetivo)\n\n# Data frame largo\ndata_fibra &lt;- data.frame(\n  Resistencia = datos_simulados[,1],\n  Diametro = datos_simulados[,2],\n  Muestra = factor(rep(1:m, each = n))\n)\n\n# Crear tabla ancha: cada fila es una muestra con R1..Rn y D1..Dn\ndata_fibra_ancha &lt;- dplyr::bind_cols(\n  qcc::qcc.groups(data_fibra$Resistencia, data_fibra$Muestra),\n  qcc::qcc.groups(data_fibra$Diametro, data_fibra$Muestra)\n) |&gt;\n  dplyr::rename_with(~paste0(\"R\", 1:n), 1:n) |&gt;\n  dplyr::rename_with(~paste0(\"D\", 1:n), (n + 1):(n + n)) |&gt;\n  dplyr::mutate(Muestra = 1:m, .before = 1)\n\n# Mostrar tabla con scroll horizontal\nhtmltools::div(\n  style = \"overflow-x: auto;\",\n  reactable::reactable(\n    data_fibra_ancha,\n    columns = list(\n      Muestra = colDef(name = \"Muestra (i)\", sticky = \"left\", style = list(fontWeight = \"bold\")),\n      .list = c(\n        lapply(paste0(\"R\", 1:n), function(col) {\n          colDef(name = gsub(\"R\", \"\", col), format = colFormat(digits = 2))\n        }),\n        lapply(paste0(\"D\", 1:n), function(col) {\n          colDef(name = gsub(\"D\", \"\", col), format = colFormat(digits = 4))\n        })\n      )\n    ),\n    columnGroups = list(\n      colGroup(name = \"Muestra\", columns = \"Muestra\"),\n      colGroup(name = \"Resistencia (psi)\", columns = paste0(\"R\", 1:n)),\n      colGroup(name = \"Diámetro (mm)\", columns = paste0(\"D\", 1:n))\n    ),\n    bordered = TRUE, striped = TRUE, highlight = TRUE,\n    defaultPageSize = 10,\n    resizable = TRUE, filterable = TRUE,\n    defaultColDef = colDef(minWidth = 80),\n    wrap = FALSE,\n    fullWidth = TRUE\n  )\n)\n\n\n\n\nTabla 3.7: Datos simulados de Resistencia y Diámetro para 20 muestras de fibra textil.\n\n\n\n\n\n\n\n\n\nSe procede ahora a calcular los estadísticos para los datos del proceso de fibra textil, los cuales se pueden ver a continuación:\n\nCódigo\n# Preparar datos para mqcc\ndata_list_fibra &lt;- list(\n  Resistencia = as.matrix(data_fibra_ancha[, paste0(\"R\", 1:n)]),\n  Diametro = as.matrix(data_fibra_ancha[, paste0(\"D\", 1:n)])\n)\n\n# Calcular T² con qcc::mqcc\nq_fibra &lt;- qcc::mqcc(data = data_list_fibra, type = \"T2\", plot = FALSE)\n\n# Calcular estadísticas por muestra\ndata_fibra_estad &lt;- data_fibra_ancha |&gt;\n  dplyr::rowwise() |&gt;\n  dplyr::transmute(\n    Muestra = Muestra,\n    X1_barra = mean(c_across(starts_with(\"R\"))),\n    X2_barra = mean(c_across(starts_with(\"D\"))),\n    S1_sq = var(c_across(starts_with(\"R\"))),\n    S2_sq = var(c_across(starts_with(\"D\"))),\n    S12 = cov(c_across(starts_with(\"R\")), c_across(starts_with(\"D\")))\n  ) |&gt;\n  dplyr::ungroup() |&gt;\n  dplyr::mutate(\n    T2 = q_fibra$statistics,\n    .after = S12\n  )\n\n# Mostrar tabla con scroll\nhtmltools::div(\n  style = \"overflow-x: auto;\",\n  reactable::reactable(\n    data_fibra_estad,\n    columns = list(\n      Muestra = colDef(name = \"\\\\(i\\\\)\"),\n      X1_barra = colDef(name = \"\\\\(\\\\overline{X}_{i1}\\\\)\", format = colFormat(digits = 2)),\n      X2_barra = colDef(name = \"\\\\(\\\\overline{X}_{i2}\\\\)\", format = colFormat(digits = 4)),\n      S1_sq = colDef(name = \"\\\\(S_{i1}^2\\\\)\", format = colFormat(digits = 2)),\n      S2_sq = colDef(name = \"\\\\(S_{i2}^2\\\\)\", format = colFormat(digits = 2)),\n      S12 = colDef(name = \"\\\\(S_{i12}\\\\)\", format = colFormat(digits = 2)),\n      T2 = colDef(name = \"\\\\(T_i^2\\\\)\", format = colFormat(digits = 2))\n    ),\n    columnGroups = list(\n      colGroup(name = \"Media muestral\", columns = c(\"X1_barra\", \"X2_barra\")),\n      colGroup(name = \"Varianza-Covarianza\", columns = c(\"S1_sq\", \"S2_sq\", \"S12\")),\n      colGroup(name = \"Estadístico\", columns = \"T2\")\n    ),\n    bordered = TRUE, striped = TRUE, highlight = TRUE,\n    defaultPageSize = 10,\n    defaultColDef = colDef(minWidth = 80),\n    wrap = FALSE,\n    fullWidth = TRUE\n  )\n)\n\n\n\n\nTabla 3.8: Estadísticos para los datos del proceso de fibra textil\n\n\n\n\n\n\n\n\n\nAhora se proceden a calcular los limites de control:\n\nCódigo\n# Nivel de significancia del problema\nalpha &lt;- 0.001\n\n# Límite de Control Superior (LSC) para Fase I\nLSC &lt;- ((p * (m - 1) * (n - 1)) / (m * n - m - p + 1)) * qf(1 - alpha, p, m * n - m - p + 1)\nLIC &lt;- 0\n\n# Mostrar los límites calculados\ncat(paste(\"LSC =\", round(LSC, 4), \"\\nLIC =\", LIC))\n\nLSC = 16.1539 LIC = 0\n\nCódigo\n# Nota: El límite calculado por qcc debería ser idéntico\n# q_fibra$limits\n\nComo ya se tienen los limites de control, ya es posible graficar el diagrama. El mismo se ve de la siguiente manera:\n\nCódigo\n# Añadir una columna para identificar violaciones\ndata_fibra_estad &lt;- data_fibra_estad |&gt;\n  mutate(\n    violacion = ifelse(T2 &gt; LSC, \"Fuera de Control\", \"En Control\")\n  )\n\nhighchart() |&gt;\n  hc_add_series(\n    data = data.frame(x = c(1, m), low = LIC, high = LSC),\n    type = \"arearange\", hcaes(x = x, low = low, high = high),\n    name = \"Zona de control\", color = \"rgba(144, 238, 144, 0.4)\",\n    showInLegend = TRUE, enableMouseTracking = FALSE\n  ) |&gt;\n  hc_add_series(\n    data = data.frame(x = c(1, m), y = LSC),\n    type = \"line\", hcaes(x = x, y = y),\n    name = \"LSC\", color = \"red\", dashStyle = \"Dash\",\n    marker = list(enabled = FALSE)\n  ) |&gt;\n  hc_add_series(\n    data = data_fibra_estad,\n    type = \"line\",\n    hcaes(x = Muestra, y = T2),\n    name = \"T²\", color = \"blue\",\n    marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 3)\n  ) |&gt;\n  # Serie separada para los puntos, para poder colorearlos\n  hc_add_series(\n    data = data_fibra_estad,\n    type = \"scatter\",\n    hcaes(x = Muestra, y = T2, color = violacion),\n    showInLegend = FALSE,\n    tooltip = list(pointFormat = \"&lt;b&gt;T²:&lt;/b&gt; {point.y:.3f}\")\n  ) |&gt;\n  hc_colors(c(\"blue\", \"red\")) |&gt; # Define los colores para \"En Control\" y \"Fuera de Control\"\n  hc_xAxis(\n    title = list(text = \"Muestra (i)\"),\n    allowDecimals = FALSE\n  ) |&gt;\n  hc_yAxis(\n    title = list(text = \"Estadístico T²\"),\n    plotLines = list(list(value = mean(data_fibra_estad$T2), color = \"darkgreen\", dashStyle = \"Dot\", width = 1, zIndex = 1, label = list(text = \"Media T²\")))\n  ) |&gt;\n  hc_tooltip(\n    crosshairs = TRUE, shared = TRUE, borderWidth = 2,\n    headerFormat = \"&lt;b&gt;Muestra {point.key}&lt;/b&gt;&lt;br/&gt;\"\n  ) |&gt;\n  hc_legend(align = \"right\", verticalAlign = \"top\") |&gt;\n  hc_title(text = \"Diagrama de Control T² de Hotelling\") |&gt;\n  hc_subtitle(text = \"Resistencia vs. Diámetro de Fibra Textil\")\n\n\n\nDiagrama T² de Hotelling para los datos del proceso de fibra textil.\nEl diagrama de control T² de Hotelling, que evalúa de forma conjunta la resistencia y el diámetro de la fibra textil, muestra que el proceso se encuentra en estado de control estadístico. Esta conclusión se deriva de que los valores del estadístico T² para las 20 muestras se sitúan por debajo del Límite de Control Superior (LSC). Al no observarse puntos fuera de control ni patrones extraños, se confirma que la variabilidad conjunta de ambas características es estable, por lo que estos datos son adecuados para establecer los límites de control para la vigilancia futura del proceso (Fase II).\n\n\n\n\n\n\n\n\nGutiérrez Pulido, Humberto, y Román De la Vara Salazar. 2009. «Control estadı́stico de calidad y seis sigma». México, DF: Mc Graw-Hill.\n\n\nKnuth, Donald E. 1984. «Literate Programming». Comput. J. 27 (2): 97-111. https://doi.org/10.1093/comjnl/27.2.97.\n\n\nMontgomery, Douglas C, y Dirk Valckx Verbeeck. 2004. Control estadı́stico de la calidad. Limusa Wiley Spain.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Otros Métodos Estadísticos de Control de Procesos Aplicados con ${\\color{Blue} \\textbf{\\textsf{R}}}$</span>"
    ]
  },
  {
    "objectID": "otros_metodos_estadisticos_cp.html#diagrama-de-control-de-promedio-móvil-ponderado-exponencialmente-ewma",
    "href": "otros_metodos_estadisticos_cp.html#diagrama-de-control-de-promedio-móvil-ponderado-exponencialmente-ewma",
    "title": "2  Otros Métodos Estadísticos de Control de Procesos Aplicados con \\({\\color{Blue} \\textbf{\\textsf{R}}}\\)",
    "section": "3.2 Diagrama de Control de Promedio Móvil Ponderado Exponencialmente (EWMA)",
    "text": "3.2 Diagrama de Control de Promedio Móvil Ponderado Exponencialmente (EWMA)\n\n\n\n\n\n\n\nEjemplo 3.2 (Aplicación del Diagrama de Control de Promedio Móvil Ponderado Exponencialmente (EWMA)) Los datos en la Tabla 3.5 representan observaciones individuales del peso molecular tomadas cada hora en un proceso químico. El valor objetivo del peso molecular es 1050 y se piensa que la desviación estándar del proceso es de aproximadamente \\(\\sigma=25\\). Utilice una carta de control EWMA con \\(\\lambda=0.1\\) y \\(L=2.7\\). Este ejercicio fue extraído de Montgomery y Verbeeck (2004).\n\nCódigo\ndata_ewma &lt;- tibble::tibble(\n  `muestra` = 1:20,\n  `x_i` = c(\n    1045, 1055,1037,1064,1095,1008,1050,1087,1125,1146,\n    1139,1169,1151,1128,1238,1125,1163,1188,1146,1167\n  )\n)\n\ndata_ewma &lt;- data_ewma |&gt;\n  dplyr::mutate(\n    ewma = qcc::ewma(\n      data = data_ewma$x_i, sizes = 1, center = 1050, std.dev = 25, \n      lambda = 0.1, nsigmas = 2.7, plot = FALSE\n    )$y\n  ) |&gt;\n  dplyr::bind_cols(\n    qcc::ewma(\n      data = data_ewma$x_i, sizes = 1, center = 1050, std.dev = 25, \n      lambda = 0.1, nsigmas = 2.7, plot = FALSE\n    )$limits\n  ) |&gt; \n  data.table::data.table()\n\nknitr::kable(\n  data_ewma,\n  format = \"markdown\",\n  digits = 4,\n  format.args = list(decimal.mark = \",\", big.mark = \".\"),\n  col.names = c(\n    \"$\\\\textbf{Periodo} \\\\: \\\\left( i \\\\right)$\", \"$x_i$\", \n    \"$\\\\textbf{EWMA} \\\\: \\\\left( z_i \\\\right)$\",\n    \"$LCI$\", \"$LCS$\"\n  ),\n  align = \"ccccc\",\n  escape = FALSE\n)\n\n\n\n\nTabla 3.5: Cálculo del EWMA para los pesos moleculares de un proceso químico.\n\n\n\n\n\n\n\n\n\n\n\n\n\\(\\textbf{Periodo} \\: \\left( i \\right)\\)\n\\(x_i\\)\n\\(\\textbf{EWMA} \\: \\left( z_i \\right)\\)\n\\(LCI\\)\n\\(LCS\\)\n\n\n\n\n1\n1.045\n1.049,500\n1.043,250\n1.056,750\n\n\n2\n1.055\n1.050,050\n1.040,919\n1.059,081\n\n\n3\n1.037\n1.048,745\n1.039,400\n1.060,600\n\n\n4\n1.064\n1.050,271\n1.038,313\n1.061,687\n\n\n5\n1.095\n1.054,743\n1.037,503\n1.062,497\n\n\n6\n1.008\n1.050,069\n1.036,882\n1.063,118\n\n\n7\n1.050\n1.050,062\n1.036,401\n1.063,599\n\n\n8\n1.087\n1.053,756\n1.036,023\n1.063,977\n\n\n9\n1.125\n1.060,880\n1.035,724\n1.064,276\n\n\n10\n1.146\n1.069,392\n1.035,486\n1.064,514\n\n\n11\n1.139\n1.076,353\n1.035,297\n1.064,703\n\n\n12\n1.169\n1.085,618\n1.035,145\n1.064,855\n\n\n13\n1.151\n1.092,156\n1.035,023\n1.064,977\n\n\n14\n1.128\n1.095,740\n1.034,925\n1.065,075\n\n\n15\n1.238\n1.109,966\n1.034,846\n1.065,154\n\n\n16\n1.125\n1.111,470\n1.034,783\n1.065,217\n\n\n17\n1.163\n1.116,623\n1.034,731\n1.065,269\n\n\n18\n1.188\n1.123,761\n1.034,690\n1.065,310\n\n\n19\n1.146\n1.125,984\n1.034,656\n1.065,344\n\n\n20\n1.167\n1.130,086\n1.034,629\n1.065,371\n\n\n\n\n\n\nUna vez ya calcualdos los respectivos valores de EWMA para los pesos moleculares de un proceso químico. Se procede a realizar el diagrama de control utilizando el paquete highcharter. La cual se puede observar a continuación:\n\nCódigo\nq &lt;-  ewma(\n  data = data_ewma$x_i, sizes = 1, center = 1050, std.dev = 25, \n  lambda = 0.1, nsigmas = 2.7, plot = FALSE\n) \n\ncolor &lt;- ifelse(data_ewma$muestra %in% q$violations, \"#FF0000\", \"#000000\")\nsymbol &lt;- ifelse(data_ewma$muestra %in% q$violations, \"asterisk-open\", \"circle\")\n\nhighchart() |&gt;\n  hc_add_series(\n    data = data_ewma, hcaes(x = muestra, low = UCL, high = 1050),\n    step = \"hv\", marker = list(enabled = FALSE, visible = FALSE),\n    type = \"arearange\", fillOpacity = 0.2, \n    name = \"\", color = \"green\",\n    showInLegend = FALSE, tooltip = list(pointFormat = \"{NULL}\")\n  ) |&gt;\n  hc_add_series(\n    data = data_ewma, hcaes(x = muestra, low = LCL, high = 1050),\n    step = \"hv\", marker = list(enabled = FALSE, visible = FALSE),\n    type = \"arearange\", fillOpacity = 0.2, \n    name = \"\", color = \"blue\",\n    showInLegend = FALSE, tooltip = list(pointFormat = \"{NULL}\")\n  ) |&gt;\n  hc_add_series(\n    data_ewma, type = \"line\", \n    hcaes(x = muestra, y = UCL), useHTML = TRUE,\n    color = \"red\", dashStyle = \"Dash\", name = \"&lt;b&gt;&lt;i&gt;LCS&lt;/i&gt;&lt;/b&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 4)\n  ) |&gt;\n  hc_add_series(\n    data_ewma,\n    type = \"line\", hcaes(x = muestra, y = 1050), useHTML = TRUE,\n    color = \"blue\", name = \"&lt;b&gt;&lt;i&gt;LC&lt;/i&gt;&lt;/b&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 0)\n  ) |&gt;\n  hc_add_series(\n    data_ewma, type = \"line\", hcaes(x = muestra, y = LCL), \n    useHTML = TRUE, color = \"red\", dashStyle = \"Dash\", \n    name = \"&lt;b&gt;&lt;i&gt;LCI&lt;/i&gt;&lt;/b&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list( valueDecimals = 4)\n  ) |&gt;\n  hc_add_series(\n    data_ewma, type = \"line\", color = \"black\",\n    hcaes(\n      x = muestra, y = ewma, segmentColor = color, \n      color = color, symbol = symbol\n    ),\n    marker = list(radius = 3, color = color, symbol = symbol),\n    useHTML = TRUE, name = \"&lt;b&gt;&lt;i&gt;EWMA&lt;/i&gt;&lt;/b&gt;\",\n    dashStyle = \"Dash\",\n    tooltip = list( valueDecimals = 4)\n  ) |&gt;\n  hc_xAxis(\n    title = list(\n      useHTML = TRUE,\n      text = \"&lt;b&gt;&lt;i&gt;Periodo (i)&lt;/i&gt;&lt;/b&gt;&lt;br&gt;\"\n    )\n  ) |&gt;\n  hc_yAxis(\n    title = list(\n      useHTML = TRUE,\n      text = \"&lt;b&gt;&lt;i&gt;EWMA\",\n      # max = 0.5,\n      # min = 0,\n      startOnTick = FALSE\n    )\n  ) |&gt;\n  hc_tooltip(crosshairs = TRUE, shared = TRUE) |&gt; \n  hc_plotOptions( series = list(animation = TRUE)) \n\n\n\nDiagrama EWMA con el paquete highcharter\nEl diagrama de control EWMA para el peso molecular muestra que el proceso operó de manera estable durante los primeros nueve períodos, con el estadístico fluctuando alrededor del valor objetivo de 1050. Sin embargo, a partir del período 10, se genera una clara señal de fuera de control, ya que el valor de EWMA cruza y se mantiene por encima del Límite de Control Superior (LCS). Esto indica que ha ocurrido un corrimiento persistente al alza en el peso molecular promedio del producto, evidenciando que el proceso ha perdido su estabilidad estadística. Por lo que se procedera a eliminar aquellos puntos que causan el corroimiento. Teniendo entonces que los datos corregidos se pueden ver en la Tabla 3.6:\n\nCódigo\ndata_ewma &lt;- tibble::tibble(\n  `muestra` = 1:9,\n  `x_i` = c(\n    1045, 1055,1037,1064,1095,1008,1050,1087,1125\n  )\n)\n\ndata_ewma &lt;- data_ewma |&gt;\n  dplyr::mutate(\n    ewma = qcc::ewma(\n      data = data_ewma$x_i, sizes = 1, center = 1050, std.dev = 25, \n      lambda = 0.1, nsigmas = 2.7, plot = FALSE\n    )$y\n  ) |&gt;\n  dplyr::bind_cols(\n    qcc::ewma(\n      data = data_ewma$x_i, sizes = 1, center = 1050, std.dev = 25, \n      lambda = 0.1, nsigmas = 2.7, plot = FALSE\n    )$limits\n  ) |&gt; \n  data.table::data.table()\n\nknitr::kable(\n  data_ewma,\n  format = \"markdown\",\n  digits = 4,\n  format.args = list(decimal.mark = \",\", big.mark = \".\"),\n  col.names = c(\n    \"$\\\\textbf{Periodo} \\\\: \\\\left( i \\\\right)$\", \"$x_i$\", \n    \"$\\\\textbf{EWMA} \\\\: \\\\left( z_i \\\\right)$\",\n    \"$LCI$\", \"$LCS$\"\n  ),\n  align = \"ccccc\",\n  escape = FALSE\n)\n\n\n\n\nTabla 3.6: Cálculo del EWMA para los datos de la Tabla 3.5 corregidos\n\n\n\n\n\n\n\n\n\n\n\n\n\\(\\textbf{Periodo} \\: \\left( i \\right)\\)\n\\(x_i\\)\n\\(\\textbf{EWMA} \\: \\left( z_i \\right)\\)\n\\(LCI\\)\n\\(LCS\\)\n\n\n\n\n1\n1.045\n1.049,500\n1.043,250\n1.056,750\n\n\n2\n1.055\n1.050,050\n1.040,919\n1.059,081\n\n\n3\n1.037\n1.048,745\n1.039,400\n1.060,600\n\n\n4\n1.064\n1.050,271\n1.038,313\n1.061,687\n\n\n5\n1.095\n1.054,743\n1.037,503\n1.062,497\n\n\n6\n1.008\n1.050,069\n1.036,882\n1.063,118\n\n\n7\n1.050\n1.050,062\n1.036,401\n1.063,599\n\n\n8\n1.087\n1.053,756\n1.036,023\n1.063,977\n\n\n9\n1.125\n1.060,880\n1.035,724\n1.064,276\n\n\n\n\n\n\nUna vez que se tienen los datos corregidos, se procede a realizar el diagrama de control utilizando el paquete highcharter. La cual se puede observar a continuación:\n\nCódigo\nq &lt;-  ewma(\n  data = data_ewma$x_i, sizes = 1, center = 1050, std.dev = 25, \n  lambda = 0.1, nsigmas = 2.7, plot = FALSE\n) \n\ncolor &lt;- ifelse(data_ewma$muestra %in% q$violations, \"#FF0000\", \"#000000\")\nsymbol &lt;- ifelse(data_ewma$muestra %in% q$violations, \"asterisk-open\", \"circle\")\n\nhighchart() |&gt;\n  hc_add_series(\n    data = data_ewma, hcaes(x = muestra, low = UCL, high = 1050),\n    step = \"hv\", marker = list(enabled = FALSE, visible = FALSE),\n    type = \"arearange\", fillOpacity = 0.2, \n    name = \"\", color = \"green\",\n    showInLegend = FALSE, tooltip = list(pointFormat = \"{NULL}\")\n  ) |&gt;\n  hc_add_series(\n    data = data_ewma, hcaes(x = muestra, low = LCL, high = 1050),\n    step = \"hv\", marker = list(enabled = FALSE, visible = FALSE),\n    type = \"arearange\", fillOpacity = 0.2, \n    name = \"\", color = \"blue\",\n    showInLegend = FALSE, tooltip = list(pointFormat = \"{NULL}\")\n  ) |&gt;\n  hc_add_series(\n    data_ewma, type = \"line\", \n    hcaes(x = muestra, y = UCL), useHTML = TRUE,\n    color = \"red\", dashStyle = \"Dash\", name = \"&lt;b&gt;&lt;i&gt;LCS&lt;/i&gt;&lt;/b&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 4)\n  ) |&gt;\n  hc_add_series(\n    data_ewma,\n    type = \"line\", hcaes(x = muestra, y = 1050), useHTML = TRUE,\n    color = \"blue\", name = \"&lt;b&gt;&lt;i&gt;LC&lt;/i&gt;&lt;/b&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 0)\n  ) |&gt;\n  hc_add_series(\n    data_ewma, type = \"line\", hcaes(x = muestra, y = LCL), \n    useHTML = TRUE, color = \"red\", dashStyle = \"Dash\", \n    name = \"&lt;b&gt;&lt;i&gt;LCI&lt;/i&gt;&lt;/b&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list( valueDecimals = 4)\n  ) |&gt;\n  hc_add_series(\n    data_ewma, type = \"line\", color = \"black\",\n    hcaes(\n      x = muestra, y = ewma, segmentColor = color, \n      color = color, symbol = symbol\n    ),\n    marker = list(radius = 3, color = color, symbol = symbol),\n    useHTML = TRUE, name = \"&lt;b&gt;&lt;i&gt;EWMA&lt;/i&gt;&lt;/b&gt;\",\n    dashStyle = \"Dash\",\n    tooltip = list( valueDecimals = 4)\n  ) |&gt;\n  hc_xAxis(\n    title = list(\n      useHTML = TRUE,\n      text = \"&lt;b&gt;&lt;i&gt;Periodo (i)&lt;/i&gt;&lt;/b&gt;&lt;br&gt;\"\n    )\n  ) |&gt;\n  hc_yAxis(\n    title = list(\n      useHTML = TRUE,\n      text = \"&lt;b&gt;&lt;i&gt;EWMA\",\n      # max = 0.5,\n      # min = 0,\n      startOnTick = FALSE\n    )\n  ) |&gt;\n  hc_tooltip(crosshairs = TRUE, shared = TRUE) |&gt; \n  hc_plotOptions( series = list(animation = TRUE)) \n\n\n\nDiagrama EWMA con el paquete highcharter corregido\nEn este diagrama EWMA corregido, que analiza los primeros nueve períodos del proceso, se observa que el peso molecular se encuentra en estado de control estadístico. El estadístico EWMA (línea negra punteada) fluctúa de manera estable alrededor de la línea central de 1050, manteniéndose en todo momento dentro de los límites de control superior (LCS) e inferior (LCI). Esto confirma que, antes del corrimiento al alza detectado en el gráfico original, el proceso operaba de forma predecible y sin la presencia de causas especiales de variación.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Otros Métodos Estadísticos de Control de Procesos Aplicados con ${\\color{Blue} \\textbf{\\textsf{R}}}$</span>"
    ]
  },
  {
    "objectID": "otros_metodos_estadisticos_cp.html#sec-ejemplo-diagrama-mas",
    "href": "otros_metodos_estadisticos_cp.html#sec-ejemplo-diagrama-mas",
    "title": "2  Otros Métodos Estadísticos de Control de Procesos Aplicados con \\({\\color{Blue} \\textbf{\\textsf{R}}}\\)",
    "section": "3.4 Aplicación del Diagrama \\(MA\\) para subgrupos",
    "text": "3.4 Aplicación del Diagrama \\(MA\\) para subgrupos",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Otros Métodos Estadísticos de Control de Procesos Aplicados con ${\\color{Blue} \\textbf{\\textsf{R}}}$</span>"
    ]
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Otros Métodos Estadísticos de Control de Procesos Aplicados con \\({\\color{Blue} \\textbf{\\textsf{R}}}\\)",
    "section": "",
    "text": "Prefacio\nEste trabajo surge del interés por integrar la teoría del Control Estadístico de Procesos con herramientas computacionales modernas. A lo largo de la asignatura Control Estadístico de la Calidad en la Universidad de Oriente, comprendí que más allá de los cálculos manuales, el uso de R permite automatizar, visualizar e interpretar los resultados de manera más eficaz.\nEsta guía reúne ejercicios resueltos sobre los diagramas CUSUM, EWMA y \\(T^2\\) de Hotelling, con el objetivo de facilitar su comprensión y aplicación práctica. Cada ejemplo busca ser un puente entre el aprendizaje académico y los desafíos reales del análisis de procesos en la industria.\nMi agradecimiento al profesor Oswaldo Bello por su orientación y por motivar el uso de herramientas como R en el estudio del control de calidad.\n\n\n\n\nGutiérrez Pulido, Humberto, y Román De la Vara Salazar. 2009. «Control estadı́stico de calidad y seis sigma». México, DF: Mc Graw-Hill.\n\n\nKnuth, Donald E. 1984. «Literate Programming». Comput. J. 27 (2): 97-111. https://doi.org/10.1093/comjnl/27.2.97.\n\n\nMontgomery, Douglas C, y Dirk Valckx Verbeeck. 2004. Control estadı́stico de la calidad. Limusa Wiley Spain.",
    "crumbs": [
      "Prefacio"
    ]
  }
]