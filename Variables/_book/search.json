[
  {
    "objectID": "variables_indices_cap.html",
    "href": "variables_indices_cap.html",
    "title": "2  Diagramas de Control para Variables y Análisis de Indices de Capacidad de Procesos Aplicados con \\({\\color{Blue} \\textbf{\\textsf{R}}}\\)",
    "section": "",
    "text": "3 Diagramas de control para variables\nLos diagramas de control para variables son herramientas gráficas del Control Estadístico de Procesos (CEP) que se usan para monitorear y analizar un proceso a lo largo del tiempo. Su objetivo principal es distinguir entre las variaciones comunes (aleatorias e inherentes al proceso) y las variaciones especiales o asignables (causadas por eventos específicos e inesperados).\nEstos diagramas se aplican a características de calidad que se pueden medir en una escala continua, como:",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Diagramas de Control para Variables y Análisis de Indices de Capacidad de Procesos Aplicados con ${\\color{Blue} \\textbf{\\textsf{R}}}$</span>"
    ]
  },
  {
    "objectID": "variables_indices_cap.html#diagrama-de-control-para-la-mediabarx-y-el-rangor",
    "href": "variables_indices_cap.html#diagrama-de-control-para-la-mediabarx-y-el-rangor",
    "title": "2  Diagramas de Control para Variables y Análisis de Indices de Capacidad de Procesos Aplicados con \\({\\color{Blue} \\textbf{\\textsf{R}}}\\)",
    "section": "3.3 Diagrama de control para la Media(\\(\\bar{X}\\)) y el Rango(\\(R\\))",
    "text": "3.3 Diagrama de control para la Media(\\(\\bar{X}\\)) y el Rango(\\(R\\))\nLos diagramas de control para la media (\\(\\bar{X}\\)) y el rango (\\(R\\)) son herramientas fundamentales en el Control Estadístico de Procesos (CEP). Estos diagramas permiten monitorear la tendencia central y la variabilidad de un proceso a lo largo del tiempo, ayudando a identificar si el proceso está bajo control estadístico o si existen causas asignables que afectan su desempeño. Los mismos seran ejemplificados a continuación.\n\n\n\n\n\n\n\nEjemplo 3.1 (Aplicación del diagrama de control para la Media(\\(\\bar{X}\\)) y el Rango(\\(R\\))) Se van a establecer gráficas de control para \\(\\bar{X}\\) y \\(R\\) en determinada dimensión, en milímetros, de una parte. Se reunieron datos en tamaños de subgrupo igual a 6, y se citan a continuación en la Tabla 3.1. Determine la línea central y los límites de control tentativos. Suponga que hay causas asignables, y revise la línea central y los límites.Este ejemplo fue tomado de Besterfield, Gutiérrez, y Dı́az (1995).\n\n\nCódigo\n# Creando vectoress para X barra y R\nX_bar &lt;- c(20.35, 20.40, 20.36, 20.65, 20.20, 20.40, 20.43, 20.37, 20.48, 20.42, 20.39, 20.38, 20.40, 20.41, 20.45, 20.34, 20.36, 20.42, 20.50, 20.31, 20.39, 20.39, 20.40, 20.41, 20.40)\nR &lt;- c(0.34, 0.36, 0.32, 0.36, 0.36, 0.35, 0.31, 0.34, 0.30, 0.37, 0.29, 0.30, 0.33, 0.36, 0.34, 0.36, 0.37, 0.73, 0.38, 0.35, 0.38, 0.33, 0.32, 0.34, 0.30)\n\n\n# Creando el dataframe\ndf &lt;- data.frame(X_bar = X_bar, R = R)\n\ndatos &lt;- df |&gt;\n  dplyr::mutate(\n    muestra = 1:nrow(df)\n  ) |&gt;\n  dplyr::rename(\n    media = X_bar, \n    rango = R     \n  ) |&gt;\n  dplyr::relocate(\n    muestra,\n    .before = media\n  ) |&gt;\n  data.table::as.data.table()\n\nformato &lt;- function(x, digits = 4) {\n  formatC(x, format = \"f\", digits = digits, big.mark = \".\", decimal.mark = \",\")\n}\n\n# Configuraciones Reactable \noptions(\n  reactable.language = reactableLang(\n    searchPlaceholder = \"buscar...\",\n    pageNext = \"Siguiente\",\n    pagePrevious = \"Anterior\",\n    noData = \"No entries found\",\n    pageInfo = \"{rowStart} de {rowEnd} de {rows} filas\"\n  )\n)\n\n# Reactable tabla para los nuevos datos\nreactable::reactable(\n  datos,\n  list(\n    muestra = colDef(header = \"Muestra\", align = \"right\"),\n    media = colDef(\n      header = \"\\\\( \\\\bar{x}_i \\\\)\", align = \"right\",\n      format = colFormat(\n        separators = TRUE, digits = 3, locales = \"es-ES\"\n      )\n    ),\n    rango = colDef(\n      header = \"\\\\( R_i \\\\)\", align = \"right\",\n      format = colFormat(\n        separators = TRUE, digits = 3, locales = \"es-ES\"\n      )\n    )\n  ),\n  defaultColDef = colDef(align = \"center\"),\n  striped = TRUE,\n  bordered = TRUE,\n  highlight = TRUE\n)\n\n\n\n\nTabla 3.1: Mediciones del peso promedio y el rango en milímetros de una parte\n\n\n\n\n\n\n\n\n\n\nUna vez observados los datos, Se procederá ahora a calcular los limites para ambos diagramas de control, para lo cual se usara el paquete SixSigma que contiene las constantes necesarias para calcular los limites de control, recordando que es un estudio inicial por lo que no se tienen ni los parámetros ni estimaciones de los mismos.\nPrimeramente, para la construcción del diagrama \\(R\\), se requiere determinar \\(D_{3}\\) y \\(D_{4}\\), lo cual se puede obtener de la respectiva tabla, teniendo en cuenta que \\(n=6\\), o mediante el siguiente bloque de código:\n\n\nCódigo\nn &lt;- 6 # Tamaño de muestra\nD_3 &lt;- ifelse(\n  1 - 3 * (SixSigma::ss.cc.getd3(n) / SixSigma::ss.cc.getd2(n)) &lt; 0, 0, 1 - 3 * (SixSigma::ss.cc.getd3(n) / SixSigma::ss.cc.getd3(n))\n)\nD_4 &lt;- 1 + 3 * (SixSigma::ss.cc.getd3(n) / SixSigma::ss.cc.getd2(n))\n\npaste0(\"D_3 = \", formato(D_3), \"   D_4 = \", formato(D_4))\n\n\n[1] \"D_3 = 0,0000   D_4 = 2,0038\"\n\n\nDe manera que, el calculo de los límites de control vendría dado por la siguiente expresión:\n\\[\n\\begin{align*}\nLCI & = D_{3}\\,\\bar{R}  \\\\\nLC & = \\bar{R}\\\\\nLCS & = D_{4}\\,\\bar{R}\n\\end{align*}\n\\tag{3.1}\\]\nA continuación se muestran los calculos en siguiente bloque de código para el diagrama \\(R\\):\n\n\nCódigo\nn &lt;- 6 # Tamaño de muestra \n\n# Calculo D3 y D4 usando el paquete SixSigma \nD_3 &lt;- ifelse(\n  1 - 3 * (SixSigma::ss.cc.getd3(n) / SixSigma::ss.cc.getd2(n)) &lt; 0, 0, 1 - 3 * (SixSigma::ss.cc.getd3(n) / SixSigma::ss.cc.getd2(n))\n)\nD_4 &lt;- 1 + 3 * (SixSigma::ss.cc.getd3(n) / SixSigma::ss.cc.getd2(n))\n\n# Calculo el promedio de los rangos\nR_barra &lt;- mean(datos$rango)\n\n# Calculo de los limites de control\nlci_R &lt;- R_barra * D_3\nlc_R &lt;- R_barra\nlcs_R &lt;- R_barra * D_4\n\n# Imprimir los resultados\npaste0(\"LCI_R = \", formato(lci_R), \"    LC_R = \", formato(lc_R), \"    LCS_R = \", formato(lcs_R))\n\n\n[1] \"LCI_R = 0,0000    LC_R = 0,3556    LCS_R = 0,7126\"\n\n\nManualmente, el calculo es el siguiente:\n\\[\n\\begin{align*}\nLCI & = D_{3}\\,\\bar{R} = 0*0.3556 = 0,0000  \\\\\nLC & = \\bar{R} = 0.3556  \\\\\nLCS & = D_{4}\\,\\bar{R} = 2,0038*0.3556  = 0,7126\n\\end{align*}\n\\] La estimación de la varianza viene dada por:\n\\[\n\\hat{\\sigma}=\\frac{\\bar{R}}{d_{2}}= \\frac{0.3556}{2,5344} = 0,1403\n\\] Para el diagrama \\(\\bar{x}\\), los limites se obtienen mediante la siguiente formula:\n\\[\n\\begin{align*}\nLCS & = \\bar{\\bar{x}} + A_2 \\bar{R} \\\\\nLC  & = \\bar{\\bar{x}} \\\\\nLCI & = \\bar{\\bar{x}} - A_2 \\bar{R}\n\\end{align*}\n\\tag{3.2}\\]\nIgualmente se calculan ahora los limites para el diagrama \\(\\bar{X}\\), para lo cual se usara el paquete SixSigma que contiene las constantes necesarias para calcular los limites de control.\n\n\nCódigo\nn &lt;- 6\n\n# Calculo A_2 usando el paquete SixSigma \nA_2 &lt;- 3 / (sqrt(n) * SixSigma::ss.cc.getd2(n))\n\n# Calculo del promedio general de las medias muestrales\nmedia_est &lt;- mean(datos$media) \n\n# Calculo los limites de control\nlci_X &lt;- media_est - A_2 * R_barra\nlc_X &lt;- media_est\nlcs_X &lt;- media_est + A_2 * R_barra\n\n# print de resultados\npaste0(\"LCI_X = \", formato(lci_X), \"    LC_X = \", formato(lc_X), \"    LCS_X = \", formato(lcs_X))\n\n\n[1] \"LCI_X = 20,2286    LC_X = 20,4004    LCS_X = 20,5722\"\n\n\nManualmente, los calculos se realizan de la siguiente forma:\n\\[\n\\begin{align*}\nLCS & = \\bar{\\bar{x}} + A_2 \\bar{R} = 20,4004+0,4832*0.3556= 20,5722 \\\\\nLC  & = \\bar{\\bar{x}} = 20,4004\\\\\nLCI & = \\bar{\\bar{x}} - A_2 \\bar{R} = 20,4004-0,4832*0.3556= 20,2286\n\\end{align*}\n\\]\nUna vez determinados los limites de control ya es posible realizar los diagramas de control respectivos con el paquete highcharter. Los cuales se pueden ver a continuación:\n\n\nCódigo\n# Diagrama de Control para el Rango (Gráfico R)\n\nhighchart() |&gt;\n  hc_add_series(\n    data = datos,\n    hcaes(x = muestra, low = lc_R, high = lcs_R),\n    step = \"hv\", marker = list(enabled = FALSE, visible = FALSE),\n    type = \"arearange\", fillOpacity = 0.2, name = \"\",\n    color = \"green\",\n    showInLegend = FALSE, tooltip = list(pointFormat = \"{NULL}\")\n  ) |&gt;\n  hc_add_series(\n    data = datos,\n    hcaes(x = muestra, low = lci_R, high = lc_R),\n    step = \"hv\", marker = list(enabled = FALSE, visible = FALSE),\n    type = \"arearange\", fillOpacity = 0.2, name = \"\",\n    color = \"blue\",\n    showInLegend = FALSE, tooltip = list(pointFormat = \"{NULL}\")\n  ) |&gt;\n  hc_add_series(\n    data = datos,\n    type = \"line\", hcaes(x = muestra, y = lcs_R), useHTML = TRUE,\n    color = \"red\", dashStyle = \"Dash\", name = \"&lt;b&gt;&lt;i&gt;LCS&lt;/b&gt;&lt;/i&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_add_series(\n    data = datos,\n    type = \"line\", hcaes(x = muestra, y = lc_R), useHTML = TRUE,\n    color = \"blue\", name = \"&lt;b&gt;&lt;i&gt;LC&lt;/b&gt;&lt;/i&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_add_series(\n    data = datos,\n    type = \"line\", hcaes(x = muestra, y = lci_R), useHTML = TRUE,\n    color = \"red\", dashStyle = \"Dash\", name = \"&lt;b&gt;&lt;i&gt;LCI&lt;/b&gt;&lt;/i&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_add_series(\n    data = datos,\n    type = \"line\", color = \"black\",\n    hcaes(x = muestra, y = rango),\n    marker = list(\n      radius = 3, fillColor = \"blue\", symbol = \"circle\"\n    ),\n    useHTML = TRUE,\n    name = \"&lt;b&gt;&lt;i&gt;R&lt;sub&gt;i&lt;/sub&gt;&lt;/i&gt;&lt;/b&gt;\",\n    dashStyle = \"Dash\",\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_xAxis(\n    title = list(\n      useHTML = TRUE,\n      text = \"&lt;b&gt;&lt;i&gt;Muestra (n&lt;sub&gt;i&lt;/sub&gt;)&lt;/i&gt;&lt;/b&gt;&lt;br&gt;\"\n    )\n  ) |&gt;\n  hc_yAxis(\n    title = list(\n      useHTML = TRUE,\n      text = \"&lt;b&gt;&lt;i&gt;Rango (R&lt;sub&gt;i&lt;/sub&gt;)&lt;/i&gt;&lt;/b&gt;&lt;br&gt;\"\n    )\n  ) |&gt;\n  hc_tooltip(crosshairs = TRUE, shared = TRUE) |&gt;\n  hc_plotOptions(series = list(animation = FALSE) )\n\n\n\n\n\n\n\n\nFigura 3.1: Diagramas \\(R\\) para el diámetro interior (mm) de los anillos en la fase I con el paquete highcharter\n\n\n\n\nSe puede observar en la Figura 3.1 el rango asociado al subgrupo 18 se encuentra fuera de los limites de control, por lo que suponiendo causas asignables el proceso esta fuera de control estadístico. Por lo que se tiene que recalcular los limites de control y construir nuevamente el diagrama \\(R\\).\n\n\nCódigo\nhighchart() |&gt;\n  hc_add_series(\n    data = datos,\n    hcaes(x = muestra, low = lc_X, high = lcs_X),\n    step = \"hv\", marker = list(enabled = FALSE, visible = FALSE),\n    type = \"arearange\", fillOpacity = 0.2, name = \"\",\n    color = \"green\",\n    showInLegend = FALSE, tooltip = list(pointFormat = \"{NULL}\")\n  ) |&gt;\n  hc_add_series(\n    data = datos,\n    hcaes(x = muestra, low = lci_X, high = lc_X),\n    step = \"hv\", marker = list(enabled = FALSE, visible = FALSE),\n    type = \"arearange\", fillOpacity = 0.2, name = \"\",\n    color = \"blue\",\n    showInLegend = FALSE, tooltip = list(pointFormat = \"{NULL}\")\n  ) |&gt;\n  hc_add_series(\n    data = datos,\n    type = \"line\", hcaes(x = muestra, y = lcs_X), useHTML = TRUE,\n    color = \"red\", dashStyle = \"Dash\", name = \"&lt;b&gt;&lt;i&gt;LCS&lt;/b&gt;&lt;/i&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_add_series(\n    data = datos,\n    type = \"line\", hcaes(x = muestra, y = lc_X), useHTML = TRUE,\n    color = \"blue\", name = \"&lt;b&gt;&lt;i&gt;LC&lt;/b&gt;&lt;/i&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_add_series(\n    data = datos,\n    type = \"line\", hcaes(x = muestra, y = lci_X), useHTML = TRUE,\n    color = \"red\", dashStyle = \"Dash\", name = \"&lt;b&gt;&lt;i&gt;LCI&lt;/b&gt;&lt;/i&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_add_series(\n    data = datos,\n    type = \"line\", color = \"black\", hcaes(x = muestra, y = media),\n    marker = list(radius = 3, fillColor = \"blue\"),\n    useHTML = TRUE,\n    name = \"&lt;b&gt;&lt;i&gt;Media&lt;/i&gt;&lt;/b&gt;\", dashStyle = \"Dash\",\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_xAxis(\n    title = list(\n      useHTML = TRUE,\n      text = \"&lt;b&gt;&lt;i&gt;Muestra (n&lt;sub&gt;i&lt;/sub&gt;)&lt;/i&gt;&lt;/b&gt;&lt;br&gt;\"\n    )\n  ) |&gt;\n  hc_yAxis(\n    title = list(\n      useHTML = TRUE,\n      text = \"&lt;b&gt;&lt;i&gt;Media&lt;/i&gt;&lt;/b&gt;&lt;br&gt;\"\n    )\n  ) |&gt;\n  hc_tooltip(crosshairs = TRUE, shared = TRUE) |&gt;\n  hc_plotOptions(series = list(animation = FALSE) )\n\n\n\n\n\n\n\n\nFigura 3.2: Diagramas \\(\\bar{x}\\) para el diámetro interior (mm) de los anillos en la fase I con el paquete highcharter\n\n\n\n\nSe puede observar igualmente en la Figura 3.2 que aqui existen dos puntos consecutivos (4 y 5) fuera de los limites de control , por lo que suponiendo causas atribuibles el proceso se encuentra fuera de control estadistico. Por lo que se tiene que recalcular los limites de control y contruir nuevamente el diagrama \\(\\bar{X}\\).\nLos limites para el diagrama \\(R\\), serian ahora los siguientes:\n\n\nCódigo\ndatos &lt;- datos[-c(4,5,18)]\n# Calculo D3 y D4 usando el paquete SixSigma \nD_3 &lt;- ifelse(\n  1 - 3 * (SixSigma::ss.cc.getd3(n) / SixSigma::ss.cc.getd2(n)) &lt; 0, 0, 1 - 3 * (SixSigma::ss.cc.getd3(n) / SixSigma::ss.cc.getd2(n))\n)\nD_4 &lt;- 1 + 3 * (SixSigma::ss.cc.getd3(n) / SixSigma::ss.cc.getd2(n))\n\n# Calculo el promedio de los rangos \nR_barra &lt;- mean(datos$rango)\n\n# Calculo los limites de control\nlci_R &lt;- R_barra * D_3\nlc_R &lt;- R_barra\nlcs_R &lt;- R_barra * D_4\n\n# print los resultados\npaste0(\"LCI_R = \", formato(lci_R), \"    LC_R = \", formato(lc_R), \"    LCS_R = \", formato(lcs_R))\n\n\n[1] \"LCI_R = 0,0000    LC_R = 0,3382    LCS_R = 0,6777\"\n\n\nPor otro lado, los limites para el diagrama \\(\\bar{X}\\) son los siguientes:\n\n\nCódigo\nn &lt;- 6\n\n# Calculo A_2 usando el paquete SixSigma \nA_2 &lt;- 3 / (sqrt(n) * SixSigma::ss.cc.getd2(n))\n\n# Calculo del promedio global de the muestra means\nmedia_est &lt;- mean(datos$media) \n\n# Calculo los limites de control\nlci_X &lt;- media_est - A_2 * R_barra\nlc_X &lt;- media_est\nlcs_X &lt;- media_est + A_2 * R_barra\n\n# print los resultados\npaste0(\"LCI_X = \", formato(lci_X), \"    LC_X = \", formato(lc_X), \"    LCS_X = \", formato(lcs_X))\n\n\n[1] \"LCI_X = 20,2338    LC_X = 20,3973    LCS_X = 20,5607\"\n\n\n\n\nCódigo\nhighchart() |&gt;\n  hc_add_series(\n    data = datos,\n    hcaes(x = muestra, low = lc_R, high = lcs_R),\n    step = \"hv\", marker = list(enabled = FALSE, visible = FALSE),\n    type = \"arearange\", fillOpacity = 0.2, name = \"\",\n    color = \"green\",\n    showInLegend = FALSE, tooltip = list(pointFormat = \"{NULL}\")\n  ) |&gt;\n  hc_add_series(\n    data = datos,\n    hcaes(x = muestra, low = lci_R, high = lc_R),\n    step = \"hv\", marker = list(enabled = FALSE, visible = FALSE),\n    type = \"arearange\", fillOpacity = 0.2, name = \"\",\n    color = \"blue\",\n    showInLegend = FALSE, tooltip = list(pointFormat = \"{NULL}\")\n  ) |&gt;\n  hc_add_series(\n    data = datos,\n    type = \"line\", hcaes(x = muestra, y = lcs_R), useHTML = TRUE,\n    color = \"red\", dashStyle = \"Dash\", name = \"&lt;b&gt;&lt;i&gt;LCS&lt;/b&gt;&lt;/i&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_add_series(\n    data = datos,\n    type = \"line\", hcaes(x = muestra, y = lc_R), useHTML = TRUE,\n    color = \"blue\", name = \"&lt;b&gt;&lt;i&gt;LC&lt;/b&gt;&lt;/i&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_add_series(\n    data = datos,\n    type = \"line\", hcaes(x = muestra, y = lci_R), useHTML = TRUE,\n    color = \"red\", dashStyle = \"Dash\", name = \"&lt;b&gt;&lt;i&gt;LCI&lt;/b&gt;&lt;/i&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_add_series(\n    data = datos,\n    type = \"line\", color = \"black\",\n    hcaes(x = muestra, y = rango),\n    marker = list(\n      radius = 3, fillColor = \"blue\", symbol = \"circle\"\n    ),\n    useHTML = TRUE,\n    name = \"&lt;b&gt;&lt;i&gt;R&lt;sub&gt;i&lt;/sub&gt;&lt;/i&gt;&lt;/b&gt;\",\n    dashStyle = \"Dash\",\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_xAxis(\n    title = list(\n      useHTML = TRUE,\n      text = \"&lt;b&gt;&lt;i&gt;Muestra (n&lt;sub&gt;i&lt;/sub&gt;)&lt;/i&gt;&lt;/b&gt;&lt;br&gt;\"\n    )\n  ) |&gt;\n  hc_yAxis(\n    title = list(\n      useHTML = TRUE,\n      text = \"&lt;b&gt;&lt;i&gt;Rango (R&lt;sub&gt;i&lt;/sub&gt;)&lt;/i&gt;&lt;/b&gt;&lt;br&gt;\"\n    )\n  ) |&gt;\n  hc_tooltip(crosshairs = TRUE, shared = TRUE) |&gt;\n  hc_plotOptions(series = list(animation = FALSE) )\n\n\n\n\n\n\n\n\nFigura 3.3: Diagramas \\(R\\) para el diámetro interior (mm) de los anillos en la fase I con el paquete highcharter\n\n\n\n\nComo se puede observar ninguno de los puntos se encuentra fuera de los limites de control.\n\n\nCódigo\nhighchart() |&gt;\n  hc_add_series(\n    data = datos,\n    hcaes(x = muestra, low = lc_X, high = lcs_X),\n    step = \"hv\", marker = list(enabled = FALSE, visible = FALSE),\n    type = \"arearange\", fillOpacity = 0.2, name = \"\",\n    color = \"green\",\n    showInLegend = FALSE, tooltip = list(pointFormat = \"{NULL}\")\n  ) |&gt;\n  hc_add_series(\n    data = datos,\n    hcaes(x = muestra, low = lci_X, high = lc_X),\n    step = \"hv\", marker = list(enabled = FALSE, visible = FALSE),\n    type = \"arearange\", fillOpacity = 0.2, name = \"\",\n    color = \"blue\",\n    showInLegend = FALSE, tooltip = list(pointFormat = \"{NULL}\")\n  ) |&gt;\n  hc_add_series(\n    data = datos,\n    type = \"line\", hcaes(x = muestra, y = lcs_X), useHTML = TRUE,\n    color = \"red\", dashStyle = \"Dash\", name = \"&lt;b&gt;&lt;i&gt;LCS&lt;/b&gt;&lt;/i&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_add_series(\n    data = datos,\n    type = \"line\", hcaes(x = muestra, y = lc_X), useHTML = TRUE,\n    color = \"blue\", name = \"&lt;b&gt;&lt;i&gt;LC&lt;/b&gt;&lt;/i&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_add_series(\n    data = datos,\n    type = \"line\", hcaes(x = muestra, y = lci_X), useHTML = TRUE,\n    color = \"red\", dashStyle = \"Dash\", name = \"&lt;b&gt;&lt;i&gt;LCI&lt;/b&gt;&lt;/i&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_add_series(\n    data = datos,\n    type = \"line\", color = \"black\", hcaes(x = muestra, y = media),\n    marker = list(radius = 3, fillColor = \"blue\"),\n    useHTML = TRUE,\n    name = \"&lt;b&gt;&lt;i&gt;Media&lt;/i&gt;&lt;/b&gt;\", dashStyle = \"Dash\",\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_xAxis(\n    title = list(\n      useHTML = TRUE,\n      text = \"&lt;b&gt;&lt;i&gt;Muestra (n&lt;sub&gt;i&lt;/sub&gt;)&lt;/i&gt;&lt;/b&gt;&lt;br&gt;\"\n    )\n  ) |&gt;\n  hc_yAxis(\n    title = list(\n      useHTML = TRUE,\n      text = \"&lt;b&gt;&lt;i&gt;Media&lt;/i&gt;&lt;/b&gt;&lt;br&gt;\"\n    )\n  ) |&gt;\n  hc_tooltip(crosshairs = TRUE, shared = TRUE) |&gt;\n  hc_plotOptions(series = list(animation = FALSE) )\n\n\n\n\n\n\n\n\nFigura 3.4: Diagramas \\(\\bar{x}\\) para el diámetro interior (mm) de los anillos en la fase I con el paquete highcharter\n\n\n\n\nIgualmente, como se puede observar ninguno de los puntos se encuentra fuera de los limites de control. Por lo que, dado que para ambos diagramas de control (Figura 3.3 y Figura 3.4) no se encuentran ahora puntos fuera de control, se puede decir entonces que el proceso es estable o bajo control tanto en media como en varianza.\n\n3.3.1 Capacidad del Proceso\nPara determinar la capacidad del proceso estabilizado, se informa que la especificación superior (LSE) para la dimensión de la parte es de 20.80 mm y la especificación inferior (LIE) es de 20.00 mm. Con estos datos y las propiedades del proceso que has determinado (media del proceso revisada y desviación estándar estimada a partir del rango promedio revisado), calcula los índices de capacidad del proceso (\\(C_p\\) y \\(C_{pk}\\)) y evalúa qué tan bien está operando el proceso en relación con las especificaciones.\nPara empezar, una vez determinado que el proceso se encuentra bajo control estadistico , se procede a calcular los indices de capacidad del proceso, por este motivo se supondrá que los datos siguen una distribución normal.\nLos limites de tolerancia natural fueron los establecidos anteriormente, siendo estos \\(20,2338\\) y \\(20,5607\\).\n\n\nCódigo\nX_bar &lt;- datos$media \nR &lt;- datos$rango     \n\n# Establecer los límites de especificación\nspec.limits &lt;- c(20, 20.80)\nn &lt;- 6 # Tamaño del subgrupo\n\n# Calcular la media del rango revisada\nR_barra &lt;- mean(R)\n\n# Estimar la desviación estándar del proceso (sigma) a partir de R_barra\n# Usamos d2(n) para convertir el rango promedio en una estimación de sigma\nsd_estimado_proceso &lt;- R_barra / SixSigma::ss.cc.getd2(n)\n\nxbar_chart_obj &lt;- qcc(X_bar, type = \"xbar\", sizes = n, plot = FALSE,\n                      std.dev = sd_estimado_proceso)\ncapability &lt;- process.capability(xbar_chart_obj, spec.limits = spec.limits , print = FALSE)\n\n# Mostrar los índices de capacidad del proceso\n#print(capability)\n#summary(capability)\n#plot(capability) # Para ver la gráfica de capacidad corregida\n\n# Calcular la porción caída \nmean_data &lt;- mean(X_bar) # Usar la media de las X_bar revisadas\n\nlower_limit &lt;- spec.limits[1]\nupper_limit &lt;- spec.limits[2]\n\n# Proporción de unidades por debajo del límite inferior\nportion_below &lt;- pnorm(lower_limit, mean = mean_data, sd = sd_estimado_proceso)\n\n# Proporción de unidades por encima del límite superior\nportion_above &lt;- 1 - pnorm(upper_limit, mean = mean_data, sd = sd_estimado_proceso)\n\n# Porción caída total\nportion_fallen &lt;- portion_below + portion_above\n\nportion_fallen &lt;- sum(capability$exp)\n\n# Mostrar la porción caída\ncat(\"Porción caída:\", formato(portion_fallen), \"\\n\")\n\n\nPorción caída: 0,0027 \n\n\n\n\n\n\n\n\nFigura 3.5: Capacidad del proceso\n\n\n\n\n\nEl análisis de capacidad del proceso para la dimensión de la parte revela que, aunque hay un margen, el desempeño no es completamente óptimo.\nEl índice de capacidad potencial del proceso (\\(C_p\\)) de 0.999 indica una capacidad potencial marginal. Esto sugiere que la variabilidad intrínseca del proceso es casi igual a la amplitud de las especificaciones. Según Montgomery, valores de \\(C_p\\) entre 0.67 y 1.0 son no adecuados para el trabajo, señalando que el proceso requiere un análisis prdeundo y modificaciones para alcanzar una calidad satisfactoria, a pesar de estar muy cerca de 1.0.\nEl índice de capacidad real del proceso (\\(C_{pk}\\)) de 0.992 es la preocupación principal. Al ser el menor de los \\(C_{pL}\\) y \\(C_{pU}\\) (siendo \\(C_{pL}\\) el que lo determina), revela que el proceso no está perfectamente centrado dentro de los límites de especificación, mostrando una ligera tendencia hacia el límite inferior. Este valor por debajo de 1.0 confirma que el proceso no es capaz de cumplir consistentemente con los requisitos, ya que existe una probabilidad real de producir piezas fuera de especificación.\nEl índice de capacidad de Taguchi (\\(C_{pm}\\)) de 0.999, siendo muy cercano al \\(C_p\\), sugiere que, aunque hay una variabilidad inherente que “casi” cabe en las especificaciones, la desviación respecto al valor objetivo (Target) es mínima. Esto refuerza la necesidad de mejorar la uniformidad y precisión, principalmente enfocándose en reducir la variabilidad para aumentar la holgura del proceso dentro de las especificaciones.\nLa porción caída esperada (suma de Exp&lt;LSL 0.15% y Exp&gt;USL 0.13%) es de 0.28%. Esto significa que aproximadamente el 0.28% de las partes producidas se espera que estén fuera de los límites de especificación. Aunque el porcentaje observado (Obs&lt;LSL 0%, Obs&gt;USL 0%) fue cero en las 22 muestras, la expectativa de casi un 0.3% de defectos subraya la importancia de implementar medidas correctivas para reducir esta proporción y mejorar la precisión general del proceso de manufactura.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Diagramas de Control para Variables y Análisis de Indices de Capacidad de Procesos Aplicados con ${\\color{Blue} \\textbf{\\textsf{R}}}$</span>"
    ]
  },
  {
    "objectID": "variables_indices_cap.html#diagrama-de-control-para-la-barx-y-s",
    "href": "variables_indices_cap.html#diagrama-de-control-para-la-barx-y-s",
    "title": "2  Diagramas de Control para Variables y Análisis de Indices de Capacidad de Procesos Aplicados con \\({\\color{Blue} \\textbf{\\textsf{R}}}\\)",
    "section": "3.4 Diagrama de control para la \\(\\bar{X}\\)) y \\(S\\)",
    "text": "3.4 Diagrama de control para la \\(\\bar{X}\\)) y \\(S\\)\n\n\n\n\n\n\n\nEjemplo 3.2 (Aplicación del diagrama de control para la Media(\\(\\bar{X}\\)) y el Rango(\\(R\\))) Se van a establecer gráficas de control para la dureza Brinell de acero endurecido para herramientas, en kilogramos por milímetro cuadrado. A continuación se muestran los datos para tamaños de subgrupo igual a 8. Determine la línea central y los límites de control tentativos para las gráficas \\(\\bar{x}\\) y \\(s\\). Suponga que los puntos fuera de control tienen causas asignables, y calcule los límites y línea central revisados.\n\n\nCódigo\n# Crear el dataframe en R\nnumero_de_subgrupo &lt;- 1:25\nX_bar &lt;- c(540, 534, 545, 561, 576, 523, 571, 547, 584, 552, 541, 545, 546, 551, 522, 579, 549, 508, 569, 574, 563, 561, 548, 556, 553)\nS &lt;- c(26, 23, 24, 27, 25, 50, 29, 29, 23, 24, 28, 25, 26, 24, 29, 26, 28, 23, 22, 28, 33, 23, 25, 27, 23)\n\ndf_dureza &lt;- data.frame(NUMERO_DE_SUBGRUPO = numero_de_subgrupo, X_bar = X_bar, S = S)\n\n# Prepare the data for reactable, adapting from 'pistones' structure\ndureza &lt;- df_dureza |&gt;\n  dplyr::mutate(\n    # 'muestra' corresponds to 'numero_de_subgrupo'\n    muestra = numero_de_subgrupo\n  ) |&gt;\n  dplyr::rename(\n    media = X_bar,        \n    desviacion = S        \n  ) |&gt;\n  dplyr::select(\n    muestra,\n    media,\n    desviacion\n  ) |&gt;\n  data.table::as.data.table()\n\n# Set reactable language options\noptions(\n  reactable.language = reactableLang(\n    searchPlaceholder = \"Buscar...\",\n    pageNext = \"Siguiente\",\n    pagePrevious = \"Anterior\",\n    noData = \"No se encontraron entradas\",\n    pageInfo = \"{rowStart} de {rowEnd} de {rows} filas\"\n  )\n)\n\n# Generate the reactable table\nreactable::reactable(\n  dureza,\n  columns = list(\n    muestra = colDef(header = \"Muestra\", align = \"right\"),\n    media = colDef(\n      header = \"\\\\( \\\\bar{x}_{i} \\\\)\", align = \"right\",\n      format = colFormat(\n        separators = TRUE, digits = 3, locales = \"es-ES\" # Adjusted digits for your data\n      )\n    ),\n    desviacion = colDef(\n      header = \"\\\\( S_{i} \\\\)\", align = \"right\", # Changed 'r' to correct S_i notation\n      format = colFormat(\n        separators = TRUE, digits = 2, locales = \"es-ES\" # Adjusted digits for your data\n      )\n    )\n  ),\n  striped = TRUE,\n  bordered = TRUE,\n  highlight = TRUE,\n  filterable = TRUE,\n  # You can add a defaultColDef if you want to apply common styles to all columns\n  defaultColDef = colDef(align = \"center\")\n)\n\n\n\n\nTabla 3.2: Mediciones para la dureza Brinell de acero endurecido para herramientas, en kilogramos por milímetro cuadrado\n\n\n\n\n\n\n\n\n\n\n\n\nCódigo\n# Define the sample size (n) as specified in the Brinell problem\nn &lt;- 8\n\n# Calculate control chart constants B_3 and B_4 for the S-chart\n# These constants depend on the sample size 'n' and SixSigma::ss.cc.getc4(n)\nB_3 &lt;- ifelse(\n  1 - 3 * sqrt(1 - SixSigma::ss.cc.getc4(n)^2) / SixSigma::ss.cc.getc4(n) &lt; 0, 0,\n  1 - 3 * sqrt(1 - SixSigma::ss.cc.getc4(n)^2) / SixSigma::ss.cc.getc4(n)\n)\nB_4 &lt;- 1 + 3 * sqrt(1 - SixSigma::ss.cc.getc4(n)^2) / SixSigma::ss.cc.getc4(n)\n\n# Calculate the overall average of the subgroup standard deviations (S-bar)\nS_barra &lt;- mean(dureza$desviacion)\n\n# Calculate the control limits for the S-chart\nlci_S &lt;- B_3 * S_barra # Lower Control Limit for S-chart\nlc_S &lt;- S_barra        # Center Line for S-chart\nlcs_S &lt;- B_4 * S_barra # Upper Control Limit for S-chart\n\n# Define the 'formato' function as it was used in your original snippet\n# (Assuming it formats numbers with commas as decimal separators and two digits)\nformato &lt;- function(x, digits = 4) {\n  formatC(x, format = \"f\", digits = digits, big.mark = \".\", decimal.mark = \",\")\n}\n\n# Print the calculated control limits\npaste0(\"LCI_S = \", formato(lci_S), \"    LC_S = \", formato(lc_S), \"    LCS_S = \", formato(lcs_S))\n\n\n[1] \"LCI_S = 4,9604    LC_S = 26,8000    LCS_S = 48,6396\"\n\n\n\n\nCódigo\nmedia_est &lt;- mean(dureza$media)\nA_3 &lt;- 3 / (sqrt(n) * SixSigma::ss.cc.getc4(n))\nlci_X &lt;- media_est - A_3 * S_barra\nlc_X &lt;-  media_est\nlcs_X &lt;- media_est + A_3 * S_barra\npaste0(\"LCI = \", formato(lci_X), \"    LC = \", formato(lc_X), \"    LCS = \", formato(lcs_X))\n\n\n[1] \"LCI = 522,4643    LC = 551,9200    LCS = 581,3757\"\n\n\n\n\nCódigo\nhighchart() |&gt;\n  hc_add_series(\n    data = dureza,\n    hcaes(x = muestra, low = lc_S, high = lcs_S),\n    step = \"hv\", marker = list(enabled = FALSE, visible = FALSE),\n    type = \"arearange\", fillOpacity = 0.2, name = \"\",\n    color = \"green\",\n    showInLegend = FALSE, tooltip = list(pointFormat = \"{NULL}\")\n  ) |&gt;\n  hc_add_series(\n    data = dureza, \n    hcaes(x = muestra, low = lci_S, high = lc_S),\n    step = \"hv\", marker = list(enabled = FALSE, visible = FALSE),\n    type = \"arearange\", fillOpacity = 0.2,\n    name = \"\", color = \"blue\",\n    showInLegend = FALSE, tooltip = list(pointFormat = \"{NULL}\")\n  ) |&gt;\n  hc_add_series(\n    data = dureza,\n    type = \"line\", hcaes(x = muestra, y = lcs_S), useHTML = TRUE,\n    color = \"red\", dashStyle = \"Dash\", name = \"&lt;b&gt;&lt;i&gt;LCS&lt;/b&gt;&lt;/i&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_add_series(\n    data = dureza, \n    type = \"line\", hcaes(x = muestra, y = lc_S), useHTML = TRUE,\n    color = \"blue\", name = \"&lt;b&gt;&lt;i&gt;LC&lt;/b&gt;&lt;/i&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_add_series(\n    data = dureza, \n    type = \"line\", hcaes(x = muestra, y = lci_S), useHTML = TRUE,\n    color = \"red\", dashStyle = \"Dash\", name = \"&lt;b&gt;&lt;i&gt;LCI&lt;/b&gt;&lt;/i&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_add_series(\n    data = dureza, # Puntos de datos reales\n    type = \"line\", color = \"black\",\n    hcaes(x = muestra, y = desviacion),\n    marker = list(radius = 3, fillColor = \"blue\"), # Añadido fillColor para consistencia\n    useHTML = TRUE, name = \"&lt;b&gt;&lt;i&gt;S&lt;sub&gt;i&lt;/sub&gt;&lt;/i&gt;&lt;/b&gt;\",\n    dashStyle = \"Dash\",\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_xAxis(\n    title = list(\n      useHTML = TRUE,\n      text = \"&lt;b&gt;&lt;i&gt;Muestra (n&lt;sub&gt;i&lt;/sub&gt;)&lt;/i&gt;&lt;/b&gt;&lt;br&gt;\"\n    )\n  ) |&gt;\n  hc_yAxis(\n    title = list(\n      useHTML = TRUE,\n      text = \"&lt;b&gt;&lt;i&gt;Desviación estándar (S&lt;sub&gt;i&lt;/sub&gt;)&lt;/i&gt;&lt;/b&gt;&lt;br&gt;\")\n  ) |&gt;\n  hc_tooltip(crosshairs = TRUE, shared = TRUE) |&gt;\n  hc_plotOptions(series = list(animation = FALSE) )\n\n\n\n\n\n\n\n\nFigura 3.5: Diagrama \\(S\\) para la dureza Brinell del acero (kg/mm²) en la fase I\n\n\n\n\nComo se puede observar en la Figura 3.5 se observa que el punto 6 esta fuera de los limites de control, se concluye que el proceso no esta bajo control estadistico en varianza. Por lo que suponiendo causas asignables se eliminara del diagrama para recalcular los limites y observar nuevamente el comportamiento del proceso.\n\n\nCódigo\nhighchart() |&gt;\n  hc_add_series(\n    data = dureza, # Usar datos auxiliares para los límites\n    hcaes(x = muestra, low = lc_X, high = lcs_X),\n    step = \"hv\", marker = list(enabled = FALSE, visible = FALSE),\n    type = \"arearange\", fillOpacity = 0.2, name = \"\",\n    color = \"green\",\n    showInLegend = FALSE, tooltip = list(pointFormat = \"{NULL}\")\n  ) |&gt;\n  hc_add_series(\n    data = dureza, # Usar datos auxiliares para los límites\n    hcaes(x = muestra, low = lci_X, high = lc_X),\n    step = \"hv\", marker = list(enabled = FALSE, visible = FALSE),\n    type = \"arearange\", fillOpacity = 0.2, name = \"\",\n    color = \"blue\",\n    showInLegend = FALSE, tooltip = list(pointFormat = \"{NULL}\")\n  ) |&gt;\n  hc_add_series(\n    data = dureza, # Usar datos auxiliares para los límites\n    type = \"line\", hcaes(x = muestra, y = lcs_X), useHTML = TRUE,\n    color = \"red\", dashStyle = \"Dash\", name = \"&lt;b&gt;&lt;i&gt;LCS&lt;/b&gt;&lt;/i&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_add_series(\n    data = dureza, # Usar datos auxiliares para los límites\n    type = \"line\", hcaes(x = muestra, y = lc_X), useHTML = TRUE,\n    color = \"blue\", name = \"&lt;b&gt;&lt;i&gt;LC&lt;/b&gt;&lt;/i&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_add_series(\n    data = dureza, # Usar datos auxiliares para los límites\n    type = \"line\", hcaes(x = muestra, y = lci_X), useHTML = TRUE,\n    color = \"red\", dashStyle = \"Dash\", name = \"&lt;b&gt;&lt;i&gt;LCI&lt;/b&gt;&lt;/i&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_add_series(\n    data = dureza, # Puntos de datos reales\n    type = \"line\", color = \"black\", hcaes(x = muestra, y = media),\n    marker = list(radius = 3, fillColor = \"blue\"),\n    useHTML = TRUE,\n    name = \"&lt;b&gt;&lt;i&gt;Media&lt;/i&gt;&lt;/b&gt;\", dashStyle = \"Dash\",\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_xAxis(\n    title = list(\n      useHTML = TRUE,\n      text = \"&lt;b&gt;&lt;i&gt;Muestra (n&lt;sub&gt;i&lt;/sub&gt;)&lt;/i&gt;&lt;/b&gt;&lt;br&gt;\"\n    )\n  ) |&gt;\n  hc_yAxis(\n    title = list(\n      useHTML = TRUE,\n      text = \"&lt;b&gt;&lt;i&gt;Media&lt;/i&gt;&lt;/b&gt;&lt;br&gt;\"\n    )\n  ) |&gt;\n  hc_tooltip(crosshairs = TRUE, shared = TRUE) |&gt;\n  hc_plotOptions(series = list(animation = FALSE) )\n\n\n\n\n\n\n\n\nFigura 3.6: Diagrama \\(\\bar{x}\\) para la dureza Brinell del acero (kg/mm²) en la fase I\n\n\n\n\nSe puede observar en la Figura 3.6 que se tienen dos puntos fuera de los limites de control, siendo los puntos 8 y 18. Ahora bien, el punto 15 se encuentra muy cercano teniendo una diferencia con este de 0,46, lo cual es menor a unidad. Basado en uno de los criterios de General Electric, el cual establece que un punto que se encuentre muy cercano a uno de los limites debera considerarse como una advertencia de que el proceso no esta funcionando como deberia. Por lo que el proceso no se encuentra bajo control estadistico en su media, suponiendo causas asignables se procedera a eliminar los tres puntos de proceso, recalcular los limites y graficar nuevamente el diagrama.\nLos limites para el diagrama \\(S\\), serian ahora los siguientes:\n\n\nCódigo\ndureza &lt;- dureza[-c(6,8,15,18)]\n# Calculate control chart constants B_3 and B_4 for the S-chart\n# These constants depend on the sample size 'n' and SixSigma::ss.cc.getc4(n)\nB_3 &lt;- ifelse(\n  1 - 3 * sqrt(1 - SixSigma::ss.cc.getc4(n)^2) / SixSigma::ss.cc.getc4(n) &lt; 0, 0,\n  1 - 3 * sqrt(1 - SixSigma::ss.cc.getc4(n)^2) / SixSigma::ss.cc.getc4(n)\n)\nB_4 &lt;- 1 + 3 * sqrt(1 - SixSigma::ss.cc.getc4(n)^2) / SixSigma::ss.cc.getc4(n)\n\n\n\n# Calculate the overall average of the subgroup standard deviations (S-bar)\nS_barra &lt;- mean(dureza$desviacion)\n\n# Calculate the control limits for the S-chart\nlci_S &lt;- B_3 * S_barra # Lower Control Limit for S-chart\nlc_S &lt;- S_barra        # Center Line for S-chart\nlcs_S &lt;- B_4 * S_barra # Upper Control Limit for S-chart\n\n# Define the 'formato' function as it was used in your original snippet\n# (Assuming it formats numbers with commas as decimal separators and two digits)\nformato &lt;- function(x, digits = 4) {\n  formatC(x, format = \"f\", digits = digits, big.mark = \".\", decimal.mark = \",\")\n}\n\n# Print the calculated control limits\npaste0(\"LCI_S = \", formato(lci_S), \"    LC_S = \", formato(lc_S), \"    LCS_S = \", formato(lcs_S))\n\n\n[1] \"LCI_S = 4,7506    LC_S = 25,6667    LCS_S = 46,5827\"\n\n\n\n\nCódigo\nmedia_est &lt;- mean(dureza$media)\nA_3 &lt;- 3 / (sqrt(n) * SixSigma::ss.cc.getc4(n))\nlci_X &lt;- media_est - A_3 * S_barra\nlc_X &lt;-  media_est\nlcs_X &lt;- media_est + A_3 * S_barra\npaste0(\"LCI = \", formato(lci_X), \"    LC = \", formato(lc_X), \"    LCS = \", formato(lcs_X))\n\n\n[1] \"LCI = 528,8375    LC = 557,0476    LCS = 585,2577\"\n\n\n\n\nCódigo\nhighchart() |&gt;\n  hc_add_series(\n    data = dureza,\n    hcaes(x = muestra, low = lc_S, high = lcs_S),\n    step = \"hv\", marker = list(enabled = FALSE, visible = FALSE),\n    type = \"arearange\", fillOpacity = 0.2, name = \"\",\n    color = \"green\",\n    showInLegend = FALSE, tooltip = list(pointFormat = \"{NULL}\")\n  ) |&gt;\n  hc_add_series(\n    data = dureza, \n    hcaes(x = muestra, low = lci_S, high = lc_S),\n    step = \"hv\", marker = list(enabled = FALSE, visible = FALSE),\n    type = \"arearange\", fillOpacity = 0.2,\n    name = \"\", color = \"blue\",\n    showInLegend = FALSE, tooltip = list(pointFormat = \"{NULL}\")\n  ) |&gt;\n  hc_add_series(\n    data = dureza,\n    type = \"line\", hcaes(x = muestra, y = lcs_S), useHTML = TRUE,\n    color = \"red\", dashStyle = \"Dash\", name = \"&lt;b&gt;&lt;i&gt;LCS&lt;/b&gt;&lt;/i&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_add_series(\n    data = dureza, \n    type = \"line\", hcaes(x = muestra, y = lc_S), useHTML = TRUE,\n    color = \"blue\", name = \"&lt;b&gt;&lt;i&gt;LC&lt;/b&gt;&lt;/i&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_add_series(\n    data = dureza, \n    type = \"line\", hcaes(x = muestra, y = lci_S), useHTML = TRUE,\n    color = \"red\", dashStyle = \"Dash\", name = \"&lt;b&gt;&lt;i&gt;LCI&lt;/b&gt;&lt;/i&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_add_series(\n    data = dureza, # Puntos de datos reales\n    type = \"line\", color = \"black\",\n    hcaes(x = muestra, y = desviacion),\n    marker = list(radius = 3, fillColor = \"blue\"), # Añadido fillColor para consistencia\n    useHTML = TRUE, name = \"&lt;b&gt;&lt;i&gt;S&lt;sub&gt;i&lt;/sub&gt;&lt;/i&gt;&lt;/b&gt;\",\n    dashStyle = \"Dash\",\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_xAxis(\n    title = list(\n      useHTML = TRUE,\n      text = \"&lt;b&gt;&lt;i&gt;Muestra (n&lt;sub&gt;i&lt;/sub&gt;)&lt;/i&gt;&lt;/b&gt;&lt;br&gt;\"\n    )\n  ) |&gt;\n  hc_yAxis(\n    title = list(\n      useHTML = TRUE,\n      text = \"&lt;b&gt;&lt;i&gt;Desviación estándar (S&lt;sub&gt;i&lt;/sub&gt;)&lt;/i&gt;&lt;/b&gt;&lt;br&gt;\")\n  ) |&gt;\n  hc_tooltip(crosshairs = TRUE, shared = TRUE) |&gt;\n  hc_plotOptions(series = list(animation = FALSE) )\n\n\n\n\n\n\n\n\nFigura 3.7: Diagrama \\(S\\) para la dureza Brinell del acero (kg/mm²) en la fase I\n\n\n\n\nComo se puede observar ninguno de los puntos se encuentra fuera de los limites de control.\n\n\nCódigo\nhighchart() |&gt;\n  hc_add_series(\n    data = dureza, # Usar datos auxiliares para los límites\n    hcaes(x = muestra, low = lc_X, high = lcs_X),\n    step = \"hv\", marker = list(enabled = FALSE, visible = FALSE),\n    type = \"arearange\", fillOpacity = 0.2, name = \"\",\n    color = \"green\",\n    showInLegend = FALSE, tooltip = list(pointFormat = \"{NULL}\")\n  ) |&gt;\n  hc_add_series(\n    data = dureza, # Usar datos auxiliares para los límites\n    hcaes(x = muestra, low = lci_X, high = lc_X),\n    step = \"hv\", marker = list(enabled = FALSE, visible = FALSE),\n    type = \"arearange\", fillOpacity = 0.2, name = \"\",\n    color = \"blue\",\n    showInLegend = FALSE, tooltip = list(pointFormat = \"{NULL}\")\n  ) |&gt;\n  hc_add_series(\n    data = dureza, # Usar datos auxiliares para los límites\n    type = \"line\", hcaes(x = muestra, y = lcs_X), useHTML = TRUE,\n    color = \"red\", dashStyle = \"Dash\", name = \"&lt;b&gt;&lt;i&gt;LCS&lt;/b&gt;&lt;/i&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_add_series(\n    data = dureza, # Usar datos auxiliares para los límites\n    type = \"line\", hcaes(x = muestra, y = lc_X), useHTML = TRUE,\n    color = \"blue\", name = \"&lt;b&gt;&lt;i&gt;LC&lt;/b&gt;&lt;/i&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_add_series(\n    data = dureza, # Usar datos auxiliares para los límites\n    type = \"line\", hcaes(x = muestra, y = lci_X), useHTML = TRUE,\n    color = \"red\", dashStyle = \"Dash\", name = \"&lt;b&gt;&lt;i&gt;LCI&lt;/b&gt;&lt;/i&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_add_series(\n    data = dureza, # Puntos de datos reales\n    type = \"line\", color = \"black\", hcaes(x = muestra, y = media),\n    marker = list(radius = 3, fillColor = \"blue\"),\n    useHTML = TRUE,\n    name = \"&lt;b&gt;&lt;i&gt;Media&lt;/i&gt;&lt;/b&gt;\", dashStyle = \"Dash\",\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_xAxis(\n    title = list(\n      useHTML = TRUE,\n      text = \"&lt;b&gt;&lt;i&gt;Muestra (n&lt;sub&gt;i&lt;/sub&gt;)&lt;/i&gt;&lt;/b&gt;&lt;br&gt;\"\n    )\n  ) |&gt;\n  hc_yAxis(\n    title = list(\n      useHTML = TRUE,\n      text = \"&lt;b&gt;&lt;i&gt;Media&lt;/i&gt;&lt;/b&gt;&lt;br&gt;\"\n    )\n  ) |&gt;\n  hc_tooltip(crosshairs = TRUE, shared = TRUE) |&gt;\n  hc_plotOptions(series = list(animation = FALSE) )\n\n\n\n\n\n\n\n\nFigura 3.8: Diagrama \\(\\bar{x}\\) para la dureza Brinell del acero (kg/mm²) en la fase I\n\n\n\n\nIgualmente, como se puede observar ninguno de los puntos se encuentra fuera de los limites de control. Por lo que, dado que para ambos diagramas de control (Figura 3.7 y Figura 3.8) no se encuentran ahora puntos fuera de control, se puede decir entonces que la dureza Brinell de acero endurecido para herramientas, en kilogramos por milímetro cuadrado es estable tanto en media como en varianza.\n\n\n\n\n\n\n\n\n\n\n\nEjemplo 3.3 (Aplicación de los Diagramas \\(\\bar{x}\\) y \\(S\\) con tamaño de muestra variable.) Una empresa de producción de alimentos se encuentra interesada en supervisar la concentración de un conservante en los productos que ofrece, para ello toman entre 10 y 15 muestras de 20 lotes de producción distintos, midiendo la concentración del conservante en su respectiva unidad.\nLa Tabla 3.3 muestra las medias y las desviaciones que presentó cada lote inspeccionado, junto con su la cantidad de muestras que se tomó en el lote correspondiente.\n\n\n\n\nTabla 3.3: Número total de defectos en cada unidad de inspección\n\n\n\n\n\n\nLote\nMedia\nDesviación\nTamaño\n\n\n\n\n1\n1.76\n0.486\n11\n\n\n2\n1.55\n0.508\n12\n\n\n3\n1.79\n0.396\n14\n\n\n4\n1.73\n0.622\n14\n\n\n5\n1.74\n0.484\n10\n\n\n6\n1.68\n0.377\n15\n\n\n7\n1.84\n0.532\n13\n\n\n8\n1.88\n0.424\n12\n\n\n9\n1.83\n0.527\n14\n\n\n10\n1.89\n0.409\n11\n\n\n11\n1.76\n0.443\n12\n\n\n12\n1.76\n0.403\n15\n\n\n13\n1.85\n0.578\n10\n\n\n14\n1.51\n0.409\n13\n\n\n15\n2.08\n0.424\n14\n\n\n16\n1.85\n0.479\n11\n\n\n17\n1.69\n0.438\n10\n\n\n18\n1.90\n0.429\n12\n\n\n19\n1.84\n0.484\n15\n\n\n20\n1.62\n0.434\n13\n\n\n\n\n\n\n\n\n\n\nLos datos de este ejemplo fueron extraidos de Rendón (2013).\nPara la construcción del diagrama de control, se utilizará el criterio del tamaño de muestra promedio, calculado de la siguiente forma:\n\\[\n\\begin{equation}\n\\bar{n}= \\frac{\\sum_{i=1}^{m}n_i}{m}\n\\end{equation}\n\\tag{3.1}\\]\nEn R, el calculo se realiza de la siguiente forma:\n\n\nCódigo\nsumn &lt;- sum(datos_xstmv$tamano)\nm &lt;- 20\nnpro &lt;- round(sumn/m,0)\npaste(npro)\n\n\n[1] \"13\"\n\n\nLos limites de control para el diagrama \\(S\\) se obtienen de la siguiente forma: \\[\n\\begin{align*}\nLCI & = B_{3}\\left(\\bar{n} \\right)\\,\\bar{S} \\\\\nLC & = \\bar{S} \\\\\nLCS & = B_{4}\\left(\\bar{n} \\right)\\,\\bar{S}\n\\end{align*}\n\\tag{3.2}\\]\nDel mismo, se calculan con R utilizando el siguiente bloque de código:\n\n\nCódigo\nB_3 &lt;- ifelse(\n  1 - 3 * sqrt(1 - SixSigma::ss.cc.getc4(npro)^2) / SixSigma::ss.cc.getc4(npro) &lt; 0, 0,\n  1 - 3 * sqrt(1 - SixSigma::ss.cc.getc4(npro)^2) / SixSigma::ss.cc.getc4(npro)\n)\nB_4 &lt;- 1 + 3 * sqrt(1 - SixSigma::ss.cc.getc4(npro)^2) / SixSigma::ss.cc.getc4(npro)\n\nmedia_est &lt;- mean(datos_xstmv$medias)\nS_barra &lt;- mean(datos_xstmv$des)\nlci_S &lt;- B_3 * S_barra\nlc_S &lt;- S_barra\nlcs_S &lt;- B_4 * S_barra\npaste0(\"LCI = \", formato(lci_S), \"    LC = \", formato(lc_S), \"    LCS = \", formato(lcs_S))\n\n\n[1] \"LCI = 0,1772    LC = 0,4643    LCS = 0,7514\"\n\n\nLos limites de control para \\(\\bar{x}\\) vienen dados por la siguiente expresión:\n\\[\n\\begin{align*}\nLCI & = \\bar{\\bar{x}} - A_{3}\\left(\\bar{n} \\right)\\,\\bar{S}  \\\\\nLC & = \\bar{\\bar{x}} \\\\\nLCS & = \\bar{\\bar{x}} + A_{3}\\left(\\bar{n} \\right)\\,\\bar{S}\n\\end{align*}\n\\tag{3.3}\\]\nEn R, el calculo se realiza mediante el siguiente bloque de código:\n\n\nCódigo\nA_3 &lt;- 3 / (sqrt(npro) * SixSigma::ss.cc.getc4(npro))\nlci &lt;- media_est - A_3 * S_barra\nlc &lt;-  media_est\nlcs &lt;- media_est + A_3 * S_barra\npaste0(\"LCI = \", formato(lci), \"    LC = \", formato(lc), \"    LCS = \", formato(lcs))\n\n\n[1] \"LCI = 1,3831    LC = 1,7775    LCS = 2,1719\"\n\n\nLa representación gráfica de este diagrama se realiza de la siguiente forma:\n\nCódigo\n# Diagrama S en la fase 1\nS1 &lt;- qcc(\n  datos_xstmv$des,sizes = npro,limits = c(lci_S, lcs_S),\n  type = \"S\", plot = FALSE\n)\nplot(\n  S1,\n  add.stats = FALSE, label.limits = c(\"LCI\", \"LCS\"),\n  title = \"\", xlab = \"Lote\", ylab = \"Desviación estándar\",\n  chart.all = TRUE\n)\n\n# Diagrama xbarra en la fase 1\nxbarra_xs2 &lt;- qcc(\n  datos_xstmv$medias, sizes = npro,limits = c(lci, lcs),\n  type = \"xbar\",\n  plot = FALSE\n)\nplot(\n  xbarra_xs2,\n  add.stats = FALSE, label.limits = c(\"LCI\", \"LCS\"),\n  title = \"\", xlab = \"Lote\", ylab = \"Medias\",\n  chart.all = TRUE\n)\n\n\n\n\n\n\n\n\n\n\n\n\n(a) Diagrama \\(S\\) inicial\n\n\n\n\n\n\n\n\n\n\n\n(b) Diagrama \\(\\bar{x}\\) inicial\n\n\n\n\n\n\n\nFigura 3.9: Diagramas \\(\\bar{x}\\) y \\(S\\) para el diámetro interior (mm) de los anillos en las fases 1 y 2 con el paquete qcc\n\n\n\nSe observa en la Figura 3.9, especificamente en el diagrama de \\(S\\), que todos los puntos se encuentran dentro de los limites de control, por lo que se concluye que la varianza está bajo control y se puede utilizar la estimación de 0.4643 para controlar las futuras concentraciones de conservantes en los alimentos producidos. De igual forma, se observa en el diagrama de \\(\\bar{x}\\) que todos los puntos se encuentran bajo control, por lo que se concluye que el proceso funciona bajo causas fortuitas y puede ser utilizada la estimación de 1.7775 para supervisas las futuras concentraciones de conservantes en los alimentos producidos.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Diagramas de Control para Variables y Análisis de Indices de Capacidad de Procesos Aplicados con ${\\color{Blue} \\textbf{\\textsf{R}}}$</span>"
    ]
  },
  {
    "objectID": "variables_indices_cap.html#diagrama-de-control-para-observaciones-individuales",
    "href": "variables_indices_cap.html#diagrama-de-control-para-observaciones-individuales",
    "title": "2  Diagramas de Control para Variables y Análisis de Indices de Capacidad de Procesos Aplicados con \\({\\color{Blue} \\textbf{\\textsf{R}}}\\)",
    "section": "3.6 Diagrama de Control Para Observaciones Individuales",
    "text": "3.6 Diagrama de Control Para Observaciones Individuales\n\n\n\n\n\n\n\nEjemplo 3.4 (Aplicación del diagrama de control \\(MR\\)) En el departamento de sistemas se lleva un registro del tiempo de respuesta a solicitudes de servicio de clientes internos. Los últimos datos en horas y en el orden de ocurrencia se muestran en la Tabla 3.4. Obtenga los límites de control para una carta de control de individuales e interprételos. Este ejemplo fue tomado de Gutiérrez Pulido y De la Vara Salazar (2009).\n\n\nCódigo\nresponse_times &lt;- c(\n  39, 35, 49, 92, 41, 57, 38, 37, 33, 33, 44, 34, 119, 37,\n  34, 32, 34, 23, 96, 43, 36, 32, 35, 42, 42, 34, 86, 27,\n  42, 117, 33, 39, 43, 37, 78, 42, 37, 37, 33, 96, 26, 37,\n  29, 32, 38, 98, 39, 43, 126, 87, 46, 31, 109, 37, 40, 37,\n  28, 52, 122, 40, 29, 33, 35, 71, 62\n)\n\n# Create a dataframe for individual observations\n# For individual charts, each observation is a \"subgroup\" de size 1.\n# We'll create an index for each observation.\nindividual_times &lt;- data.table::data.table(\n  check.names = FALSE,\n  Observacion = 1:length(response_times),\n  Tiempo_Respuesta_Horas = response_times\n) |&gt;\n  dplyr::mutate(\n    MR = c(NA, abs(diff(Tiempo_Respuesta_Horas)))\n  ) |&gt;\n  data.table::data.table()\n\noptions(\n  reactable.language = reactableLang(\n    searchPlaceholder = \"Buscar\",\n    pageNext = \"Siguiente\",\n    pagePrevious = \"Anterior\",\n    noData = \"Ninguna fila encontrada\",\n    pageInfo = \"{rowStart} de {rowEnd} de {rows} filas\"\n  )\n)\n\nreactable::reactable(\n  individual_times,\n  # defaultColDef = colDef(\n  #   headerStyle = list(background = \"#f7f7f8\")\n  # ),\n  columns = list(\n    Observacion = colDef(header = \"Número de Observacion\", align = \"right\"),\n    Tiempo_Respuesta_Horas = colDef(\n      header = \"Tiempo de respuesta \\\\(\\\\left( x_{i} \\\\right) \\\\)\", \n      align = \"right\",\n      format = colFormat(\n        separators = TRUE, digits = 2, locales = \"es-ES\"\n      )\n    ),\n    MR = colDef(\n      header = \"Rango Móvil \\\\(\\\\left({MR}_{i}\\\\right)\\\\)\", \n      align = \"right\",\n      format = colFormat(\n        separators = TRUE, digits = 2, locales = \"es-ES\"\n      )\n    )\n  ),\n  striped = TRUE,\n  bordered = TRUE,\n  highlight = TRUE,\n  filterable = TRUE,\n  minRows = 10\n)\n\n\n\n\nTabla 3.4: Registros del tiempo de respuesta a solicitudes de servicio de clientes internos\n\n\n\n\n\n\n\n\n\n\nPara estimar los parametros del diagrama es necesario calcular la media de la variable de interes, en este caso el tiempo de respuesta, y la media de los rangos moviles, este calculo es bastante sencillo, teniendo entonces \\(\\bar{x}\\)= 49,9231 y \\(\\overline{MR}\\)= 27,5781\nLos limites para el diagrama \\(x\\) inicial se calculan de la siguiente forma:\n\\[\n\\begin{align*}\nLCS  & =  \\bar{x} + 2,6596 \\, \\overline{MR} \\\\\nLC  & =  \\bar{x} \\\\\nLCI  & = \\bar{x} - 2,6596\\, \\overline{MR}\n\\end{align*}\n\\tag{3.8}\\]\nMediante R, se calculan utilizando el siguiente bloque de código:\n\n\nCódigo\nxbarra &lt;- mean(individual_times$Tiempo_Respuesta_Horas)\nMRbarra &lt;- mean(individual_times$MR, na.rm = TRUE)\ndesviacion &lt;- MRbarra / 1.128\n\nlci &lt;- xbarra - 2.6596 * MRbarra\nlc &lt;-  xbarra\nlcs &lt;- xbarra + 2.6596 * MRbarra\npaste0(\"LCI = \", formato(lci), \"    LC = \", formato(lc), \"    LCS = \", formato(lcs))\n\n\n[1] \"LCI = -23,4237    LC = 49,9231    LCS = 123,2699\"\n\n\nManualmente, estos limites se calculan de la siguiente forma:\n\\[\n\\begin{align*}\nLCS  & =  \\bar{x} + 2,6596 \\, \\overline{MR} = 49,9231+2,6596*27,5781= 123,2699 \\\\\nLC  & =  \\bar{x} = 49,9231 \\\\\nLCI  & = \\bar{x} - 2,6596\\, \\overline{MR} = 49,9231-2,6596*27,5781= -23,4237\n\\end{align*}\n\\] Los limites para el diagrama inicial \\(MR\\) se obtienen de la siguiente forma: \\[\n\\begin{align*}\nLCS  & = 3,2677 \\, \\overline{MR}\\\\\nLC  & = \\overline{MR} \\\\\nLCI  & = 0\n\\end{align*}.\n\\tag{3.9}\\]\nUtilizando R, se calculan utilizando el siguiente bloque de código:\n\n\nCódigo\nlci_MR &lt;- 0\nlc_MR &lt;- MRbarra\nlcs_MR &lt;- 3.2677 * MRbarra\npaste0(\n  \"LCI = \", formato(lci_MR), \"    LC = \", formato(lc_MR), \"    LCS = \", formato(lcs_MR)\n)\n\n\n[1] \"LCI = 0,0000    LC = 27,5781    LCS = 90,1170\"\n\n\nManualmente, se obtienen mediante el siguiente calculo:\n\\[\n\\begin{align*}\nLCS  & = 3,2677 \\, \\overline{MR}= 3,2677*27,5781= 90,1170\\\\\nLC  & = \\overline{MR} = 27,5781 \\\\\nLCI  & = 0\n\\end{align*}.\n\\] La estimación de la desviación viene dada por la siguiente expresión:\n\\[\n\\begin{equation}\n\\hat{\\sigma}=\\frac{\\overline{\\textit{MR}}}{1,1284} = \\frac{27.578125}{1,1284}=24,4487\n\\end{equation}\n\\]\nUna vez los limites de control, ya es posible graficar los diagramas de control. Los cuales se pueden observar a continuacion:\n\n\nCódigo\nhighchart() |&gt;\n  hc_add_series(\n    data = individual_times, \n    hcaes(x = Observacion, low = lc_MR, high = lcs_MR),\n    step = \"hv\", marker = list(enabled = FALSE, visible = FALSE),\n    type = \"arearange\", fillOpacity = 0.2, \n    name = \"\", color = \"green\",\n    showInLegend = FALSE, tooltip = list(pointFormat = \"{NULL}\")\n  ) |&gt;\n  hc_add_series(\n    data = individual_times, \n    hcaes(x = Observacion, low = lci_MR, high = lc_MR),\n    step = \"hv\", marker = list(enabled = FALSE, visible = FALSE),\n    type = \"arearange\", fillOpacity = 0.2, \n    name = \"\", color = \"blue\",\n    showInLegend = FALSE, tooltip = list(pointFormat = \"{NULL}\")\n  ) |&gt;\n  hc_add_series(\n    data = individual_times, \n    type = \"line\", hcaes(x = Observacion, y = lcs_MR), useHTML = TRUE,\n    color = \"red\", dashStyle = \"Dash\", name = \"&lt;b&gt;&lt;i&gt;LCS&lt;/b&gt;&lt;/i&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_add_series(\n    data = individual_times,\n    type = \"line\", hcaes(x = Observacion, y = lc_MR), useHTML = TRUE,\n    color = \"blue\", name = \"&lt;b&gt;&lt;i&gt;LC&lt;/b&gt;&lt;/i&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_add_series(\n    data = individual_times, \n    type = \"line\", hcaes(x = Observacion, y = lci_MR), useHTML = TRUE,\n    color = \"red\", dashStyle = \"Dash\", name = \"&lt;b&gt;&lt;i&gt;LCI&lt;/b&gt;&lt;/i&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_add_series(\n    data = individual_times,\n    type = \"line\", color = \"black\",\n    hcaes(x = Observacion, y = MR),\n    marker = list(radius = 3),useHTML = TRUE, \n    name = \"&lt;b&gt;&lt;i&gt;MR&lt;sub&gt;i&lt;/sub&gt;&lt;/i&gt;&lt;/b&gt;\",\n    dashStyle = \"Dash\",\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_xAxis(\n    title = list(\n      useHTML = TRUE,\n      text = \"&lt;b&gt;&lt;i&gt;Número de Observacion&lt;/b&gt;&lt;br&gt;\"\n    )\n  ) |&gt;\n  hc_yAxis(\n    title = list(\n      useHTML = TRUE,\n      text = \"&lt;b&gt;&lt;i&gt;Rango móvil (MR&lt;sub&gt;i&lt;/sub&gt;)&lt;/i&gt;&lt;/b&gt;&lt;br&gt;\"\n    )\n  ) |&gt;\n  hc_tooltip(crosshairs = TRUE, shared = TRUE) |&gt; \n  hc_plotOptions(series = list(animation = FALSE) )\n\n\n\n\n\n\n\n\nFigura 3.13: Diagrama \\(\\textit{MR}\\) inicial para el tiempo de respuesta a solicitudes de servicio de clientes internos con el paquete highcharter\n\n\n\n\nComo se puede observar en la Figura 3.13, el diagrama de control \\(MR\\) inicial muestra que todos los puntos están dentro de los límites de control, lo que indica que el proceso está bajo control estadístico. Esto significa que la variabilidad del proceso es consistente y no hay evidencia de causas especiales que afecten el rango móvil entre observaciones consecutivas.\n\n\nCódigo\nhighchart() |&gt;\n  hc_add_series(\n    data = individual_times, \n    hcaes(x = Observacion, low = lc, high = lcs),\n    step = \"hv\", marker = list(enabled = FALSE, visible = FALSE),\n    type = \"arearange\", fillOpacity = 0.2, name = \"\", color = \"green\",\n    showInLegend = FALSE, tooltip = list(pointFormat = \"{NULL}\")\n  ) |&gt;\n  hc_add_series(\n    data = individual_times, \n    hcaes(x = Observacion, low = lci, high = lc),\n    step = \"hv\", marker = list(enabled = FALSE, visible = FALSE),\n    type = \"arearange\", fillOpacity = 0.2, name = \"\", color = \"blue\",\n    showInLegend = FALSE, tooltip = list(pointFormat = \"{NULL}\")\n  ) |&gt;\n  hc_add_series(\n    data = individual_times, \n    type = \"line\", hcaes(x = Observacion, y = lcs), useHTML = TRUE,\n    color = \"red\", dashStyle = \"Dash\", name = \"&lt;b&gt;&lt;i&gt;LCS&lt;/b&gt;&lt;/i&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_add_series(\n    data = individual_times,\n    type = \"line\", hcaes(x = Observacion, y = lc), useHTML = TRUE,\n    color = \"blue\", name = \"&lt;b&gt;&lt;i&gt;LC&lt;/b&gt;&lt;/i&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_add_series(\n    data = individual_times, \n    type = \"line\", hcaes(x = Observacion, y = lci), useHTML = TRUE,\n    color = \"red\", dashStyle = \"Dash\", name = \"&lt;b&gt;&lt;i&gt;LCI&lt;/b&gt;&lt;/i&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_add_series(\n    data = individual_times,\n    type = \"line\", color = \"black\", \n    hcaes(x = Observacion, y = Tiempo_Respuesta_Horas),\n    marker = list(radius = 3),  useHTML = TRUE, \n    name = \"&lt;b&gt;&lt;i&gt;x&lt;sub&gt;i&lt;/sub&gt;&lt;/i&gt;&lt;/b&gt;\", dashStyle = \"Dash\",\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_xAxis(\n    title = list(\n      useHTML = TRUE,\n      text = \"&lt;b&gt;&lt;i&gt;Número de observacion&lt;/b&gt;&lt;br&gt;\"\n    )\n  ) |&gt;\n  hc_yAxis(\n    title = list(\n      useHTML = TRUE,\n      text = \"&lt;b&gt;&lt;i&gt;Tiempo de respuesta de solicitudes  (x&lt;sub&gt;i&lt;/sub&gt;)&lt;/i&gt;&lt;/b&gt;&lt;br&gt;\"\n    )\n  ) |&gt;\n  hc_tooltip(crosshairs = TRUE, shared = TRUE) |&gt; \n  hc_plotOptions(series = list(animation = FALSE) )\n\n\n\n\n\n\n\n\nFigura 3.14: Diagrama \\(x\\) incial para el tiempo de respuesta a solicitudes de servicio de clientes internos con el paquete highcharter\n\n\n\n\nEl diagrama de control \\(x\\) inicial, como se muestra en la Figura 3.14, indica que el punto numero 49 esta fuera de los limites de control. Esto sugiere que el proceso de respuesta a solicitudes de servicio no está bajo control estadístico, y la media del tiempo de respuesta no es consistente a lo largo del tiempo.\nSe calculan nuevamente los limites para el diagrama \\(x\\) y \\(MR\\) eliminando el punto 49, que es el único punto fuera de los limites de control:\n\n\nCódigo\nindividual_times1 &lt;- individual_times[-49]\nxbarra &lt;- mean(individual_times1$Tiempo_Respuesta_Horas)\nMRbarra &lt;- mean(individual_times1$MR, na.rm = TRUE)\ndesviacion &lt;- MRbarra / 1.128\n\nlci &lt;- xbarra - 2.6596 * MRbarra\nlc &lt;-  xbarra\nlcs &lt;- xbarra + 2.6596 * MRbarra\npaste0(\"LCI = \", formato(lci), \"    LC = \", formato(lc), \"    LCS = \", formato(lcs))\n\n\n[1] \"LCI = -22,2727    LC = 48,7344    LCS = 119,7415\"\n\n\nLos nuevos limites para el diagrama \\(x\\) son:\n\n\nCódigo\nlci_MR &lt;- 0\nlc_MR &lt;- MRbarra\nlcs_MR &lt;- 3.2677 * MRbarra\npaste0(\n  \"LCI = \", formato(lci_MR), \"    LC = \", formato(lc_MR), \"    LCS = \", formato(lcs_MR)\n)\n\n\n[1] \"LCI = 0,0000    LC = 26,6984    LCS = 87,2424\"\n\n\n\n\nCódigo\nhighchart() |&gt;\n  hc_add_series(\n    data = individual_times1, \n    hcaes(x = Observacion, low = lc_MR, high = lcs_MR),\n    step = \"hv\", marker = list(enabled = FALSE, visible = FALSE),\n    type = \"arearange\", fillOpacity = 0.2, \n    name = \"\", color = \"green\",\n    showInLegend = FALSE, tooltip = list(pointFormat = \"{NULL}\")\n  ) |&gt;\n  hc_add_series(\n    data = individual_times1, \n    hcaes(x = Observacion, low = lci_MR, high = lc_MR),\n    step = \"hv\", marker = list(enabled = FALSE, visible = FALSE),\n    type = \"arearange\", fillOpacity = 0.2, \n    name = \"\", color = \"blue\",\n    showInLegend = FALSE, tooltip = list(pointFormat = \"{NULL}\")\n  ) |&gt;\n  hc_add_series(\n    data = individual_times1, \n    type = \"line\", hcaes(x = Observacion, y = lcs_MR), useHTML = TRUE,\n    color = \"red\", dashStyle = \"Dash\", name = \"&lt;b&gt;&lt;i&gt;LCS&lt;/b&gt;&lt;/i&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_add_series(\n    data = individual_times1,\n    type = \"line\", hcaes(x = Observacion, y = lc_MR), useHTML = TRUE,\n    color = \"blue\", name = \"&lt;b&gt;&lt;i&gt;LC&lt;/b&gt;&lt;/i&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_add_series(\n    data = individual_times1, \n    type = \"line\", hcaes(x = Observacion, y = lci_MR), useHTML = TRUE,\n    color = \"red\", dashStyle = \"Dash\", name = \"&lt;b&gt;&lt;i&gt;LCI&lt;/b&gt;&lt;/i&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_add_series(\n    data = individual_times1,\n    type = \"line\", color = \"black\",\n    hcaes(x = Observacion, y = MR),\n    marker = list(radius = 3),useHTML = TRUE, \n    name = \"&lt;b&gt;&lt;i&gt;MR&lt;sub&gt;i&lt;/sub&gt;&lt;/i&gt;&lt;/b&gt;\",\n    dashStyle = \"Dash\",\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_xAxis(\n    title = list(\n      useHTML = TRUE,\n      text = \"&lt;b&gt;&lt;i&gt;Número de Observacion&lt;/b&gt;&lt;br&gt;\"\n    )\n  ) |&gt;\n  hc_yAxis(\n    title = list(\n      useHTML = TRUE,\n      text = \"&lt;b&gt;&lt;i&gt;Rango móvil (MR&lt;sub&gt;i&lt;/sub&gt;)&lt;/i&gt;&lt;/b&gt;&lt;br&gt;\"\n    )\n  ) |&gt;\n  hc_tooltip(crosshairs = TRUE, shared = TRUE) |&gt; \n  hc_plotOptions(series = list(animation = FALSE) )\n\n\n\n\n\n\n\n\nFigura 3.15: Diagrama \\(\\textit{MR}\\) inicial para el tiempo de respuesta a solicitudes de servicio de clientes internos con el paquete highcharter\n\n\n\n\n\n\nCódigo\nhighchart() |&gt;\n  hc_add_series(\n    data = individual_times1, \n    hcaes(x = Observacion, low = lc, high = lcs),\n    step = \"hv\", marker = list(enabled = FALSE, visible = FALSE),\n    type = \"arearange\", fillOpacity = 0.2, name = \"\", color = \"green\",\n    showInLegend = FALSE, tooltip = list(pointFormat = \"{NULL}\")\n  ) |&gt;\n  hc_add_series(\n    data = individual_times1, \n    hcaes(x = Observacion, low = lci, high = lc),\n    step = \"hv\", marker = list(enabled = FALSE, visible = FALSE),\n    type = \"arearange\", fillOpacity = 0.2, name = \"\", color = \"blue\",\n    showInLegend = FALSE, tooltip = list(pointFormat = \"{NULL}\")\n  ) |&gt;\n  hc_add_series(\n    data = individual_times1, \n    type = \"line\", hcaes(x = Observacion, y = lcs), useHTML = TRUE,\n    color = \"red\", dashStyle = \"Dash\", name = \"&lt;b&gt;&lt;i&gt;LCS&lt;/b&gt;&lt;/i&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_add_series(\n    data = individual_times1,\n    type = \"line\", hcaes(x = Observacion, y = lc), useHTML = TRUE,\n    color = \"blue\", name = \"&lt;b&gt;&lt;i&gt;LC&lt;/b&gt;&lt;/i&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_add_series(\n    data = individual_times1, \n    type = \"line\", hcaes(x = Observacion, y = lci), useHTML = TRUE,\n    color = \"red\", dashStyle = \"Dash\", name = \"&lt;b&gt;&lt;i&gt;LCI&lt;/b&gt;&lt;/i&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_add_series(\n    data = individual_times1,\n    type = \"line\", color = \"black\", \n    hcaes(x = Observacion, y = Tiempo_Respuesta_Horas),\n    marker = list(radius = 3),  useHTML = TRUE, \n    name = \"&lt;b&gt;&lt;i&gt;x&lt;sub&gt;i&lt;/sub&gt;&lt;/i&gt;&lt;/b&gt;\", dashStyle = \"Dash\",\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_xAxis(\n    title = list(\n      useHTML = TRUE,\n      text = \"&lt;b&gt;&lt;i&gt;Número de observacion&lt;/b&gt;&lt;br&gt;\"\n    )\n  ) |&gt;\n  hc_yAxis(\n    title = list(\n      useHTML = TRUE,\n      text = \"&lt;b&gt;&lt;i&gt;Tiempo de respuesta de solicitudes  (x&lt;sub&gt;i&lt;/sub&gt;)&lt;/i&gt;&lt;/b&gt;&lt;br&gt;\"\n    )\n  ) |&gt;\n  hc_tooltip(crosshairs = TRUE, shared = TRUE) |&gt; \n  hc_plotOptions(series = list(animation = FALSE) )\n\n\n\n\n\n\n\n\nFigura 3.16: Diagrama \\(x\\) incial para el tiempo de respuesta a solicitudes de servicio de clientes internos con el paquete highcharter\n\n\n\n\nAl observar la Figura 3.16 se tiene que el punto 59 esta fuera de control. A partir de este paso se requieren de una serie de iteraciones para poder obtener un diagrama de control \\(x\\) y \\(MR\\) que cumpla con los requisitos de control estadístico. Se utilizo en la parte de analisis del statgraphics correspondiente para el analisis de este diagrama, que exluyera automaticamente segun hubieran puntos fuera de control. Este proceso iterativo determino que las mediciones excluidas son la 4,5,6,7,8,9,10,13,19,20, 27,28,30,31,32,35,40,41,46,49,50,53,58,59,64 y 65.\nSe calculan nuevamente los limites para el diagrama \\(x\\) y \\(MR\\) eliminando los puntos fuera de control, que son los puntos 4,5,6,7,8,9,10,13,19,20,27,28,30,31,32,35,40,41,46,49,50,53,58,59,64 y 65:\n\n\nCódigo\nindividual_times &lt;- individual_times[-c(4,5,6,7,8,9,10,13,19,20,27,28,30,31,32,35,40,41,46,49,50,53,58,59,64,65)]\n\nindividual_times &lt;- individual_times %&gt;%\n  dplyr::mutate(\n    MR = c(NA, abs(diff(Tiempo_Respuesta_Horas)))\n  )\n\n# Se necesita reindexar las observaciones después de eliminar filas:\nindividual_times$Observacion_Nueva &lt;- 1:nrow(individual_times)\n\nxbarra &lt;- mean(individual_times$Tiempo_Respuesta_Horas)\nMRbarra &lt;- mean(individual_times$MR, na.rm = TRUE)\ndesviacion &lt;- MRbarra / 1.128\n\nlci &lt;- xbarra - 2.6596 * MRbarra\nlc &lt;-  xbarra\nlcs &lt;- xbarra + 2.6596 * MRbarra\npaste0(\"LCI = \", formato(lci), \"    LC = \", formato(lc), \"    LCS = \", formato(lcs))\n\n\n[1] \"LCI = 21,7520    LC = 36,5897    LCS = 51,4275\"\n\n\nLos nuevos limites para el diagrama \\(x\\) son:\n\n\nCódigo\nlci_MR &lt;- 0\nlc_MR &lt;- MRbarra\nlcs_MR &lt;- 3.2677 * MRbarra\npaste0(\n  \"LCI = \", formato(lci_MR), \"    LC = \", formato(lc_MR), \"    LCS = \", formato(lcs_MR)\n)\n\n\n[1] \"LCI = 0,0000    LC = 5,5789    LCS = 18,2303\"\n\n\nSe grafican los diagramas de control \\(x\\) y \\(MR\\) con los nuevos limites de control:\n\n\nCódigo\nhighchart() |&gt;\n  hc_add_series(\n    data = individual_times, \n    hcaes(x = Observacion, low = lc_MR, high = lcs_MR),\n    step = \"hv\", marker = list(enabled = FALSE, visible = FALSE),\n    type = \"arearange\", fillOpacity = 0.2, \n    name = \"\", color = \"green\",\n    showInLegend = FALSE, tooltip = list(pointFormat = \"{NULL}\")\n  ) |&gt;\n  hc_add_series(\n    data = individual_times, \n    hcaes(x = Observacion, low = lci_MR, high = lc_MR),\n    step = \"hv\", marker = list(enabled = FALSE, visible = FALSE),\n    type = \"arearange\", fillOpacity = 0.2, \n    name = \"\", color = \"blue\",\n    showInLegend = FALSE, tooltip = list(pointFormat = \"{NULL}\")\n  ) |&gt;\n  hc_add_series(\n    data = individual_times, \n    type = \"line\", hcaes(x = Observacion, y = lcs_MR), useHTML = TRUE,\n    color = \"red\", dashStyle = \"Dash\", name = \"&lt;b&gt;&lt;i&gt;LCS&lt;/b&gt;&lt;/i&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_add_series(\n    data = individual_times,\n    type = \"line\", hcaes(x = Observacion, y = lc_MR), useHTML = TRUE,\n    color = \"blue\", name = \"&lt;b&gt;&lt;i&gt;LC&lt;/b&gt;&lt;/i&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_add_series(\n    data = individual_times, \n    type = \"line\", hcaes(x = Observacion, y = lci_MR), useHTML = TRUE,\n    color = \"red\", dashStyle = \"Dash\", name = \"&lt;b&gt;&lt;i&gt;LCI&lt;/b&gt;&lt;/i&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_add_series(\n    data = individual_times,\n    type = \"line\", color = \"black\",\n    hcaes(x = Observacion, y = MR),\n    marker = list(radius = 3),useHTML = TRUE, \n    name = \"&lt;b&gt;&lt;i&gt;MR&lt;sub&gt;i&lt;/sub&gt;&lt;/i&gt;&lt;/b&gt;\",\n    dashStyle = \"Dash\",\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_xAxis(\n    title = list(\n      useHTML = TRUE,\n      text = \"&lt;b&gt;&lt;i&gt;Número de Observacion&lt;/b&gt;&lt;br&gt;\"\n    )\n  ) |&gt;\n  hc_yAxis(\n    title = list(\n      useHTML = TRUE,\n      text = \"&lt;b&gt;&lt;i&gt;Rango móvil (MR&lt;sub&gt;i&lt;/sub&gt;)&lt;/i&gt;&lt;/b&gt;&lt;br&gt;\"\n    )\n  ) |&gt;\n  hc_tooltip(crosshairs = TRUE, shared = TRUE) |&gt; \n  hc_plotOptions(series = list(animation = FALSE) )\n\n\n\n\n\n\n\n\nFigura 3.17: Diagrama \\(\\textit{MR}\\) inicial para el tiempo de respuesta a solicitudes de servicio de clientes internos con el paquete highcharter\n\n\n\n\n\n\nCódigo\nhighchart() |&gt;\n  hc_add_series(\n    data = individual_times, \n    hcaes(x = Observacion, low = lc, high = lcs),\n    step = \"hv\", marker = list(enabled = FALSE, visible = FALSE),\n    type = \"arearange\", fillOpacity = 0.2, name = \"\", color = \"green\",\n    showInLegend = FALSE, tooltip = list(pointFormat = \"{NULL}\")\n  ) |&gt;\n  hc_add_series(\n    data = individual_times, \n    hcaes(x = Observacion, low = lci, high = lc),\n    step = \"hv\", marker = list(enabled = FALSE, visible = FALSE),\n    type = \"arearange\", fillOpacity = 0.2, name = \"\", color = \"blue\",\n    showInLegend = FALSE, tooltip = list(pointFormat = \"{NULL}\")\n  ) |&gt;\n  hc_add_series(\n    data = individual_times, \n    type = \"line\", hcaes(x = Observacion, y = lcs), useHTML = TRUE,\n    color = \"red\", dashStyle = \"Dash\", name = \"&lt;b&gt;&lt;i&gt;LCS&lt;/b&gt;&lt;/i&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_add_series(\n    data = individual_times,\n    type = \"line\", hcaes(x = Observacion, y = lc), useHTML = TRUE,\n    color = \"blue\", name = \"&lt;b&gt;&lt;i&gt;LC&lt;/b&gt;&lt;/i&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_add_series(\n    data = individual_times, \n    type = \"line\", hcaes(x = Observacion, y = lci), useHTML = TRUE,\n    color = \"red\", dashStyle = \"Dash\", name = \"&lt;b&gt;&lt;i&gt;LCI&lt;/b&gt;&lt;/i&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_add_series(\n    data = individual_times,\n    type = \"line\", color = \"black\", \n    hcaes(x = Observacion, y = Tiempo_Respuesta_Horas),\n    marker = list(radius = 3),  useHTML = TRUE, \n    name = \"&lt;b&gt;&lt;i&gt;x&lt;sub&gt;i&lt;/sub&gt;&lt;/i&gt;&lt;/b&gt;\", dashStyle = \"Dash\",\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_xAxis(\n    title = list(\n      useHTML = TRUE,\n      text = \"&lt;b&gt;&lt;i&gt;Número de observacion&lt;/b&gt;&lt;br&gt;\"\n    )\n  ) |&gt;\n  hc_yAxis(\n    title = list(\n      useHTML = TRUE,\n      text = \"&lt;b&gt;&lt;i&gt;Tiempo de respuesta de solicitudes  (x&lt;sub&gt;i&lt;/sub&gt;)&lt;/i&gt;&lt;/b&gt;&lt;br&gt;\"\n    )\n  ) |&gt;\n  hc_tooltip(crosshairs = TRUE, shared = TRUE) |&gt; \n  hc_plotOptions(series = list(animation = FALSE) )\n\n\n\n\n\n\n\n\nFigura 3.18: Diagrama \\(x\\) incial para el tiempo de respuesta a solicitudes de servicio de clientes internos con el paquete highcharter\n\n\n\n\nLa interpretación de los gráficos de control de individuales y rango móvil (I-MR) (Figura 3.17 y Figura 3.18) para el tiempo de respuesta a solicitudes de servicio de clientes internos indica que el proceso se encuentra en estado de control estadístico. Esto significa que la variabilidad del proceso y su centrado son estables y predecibles.\n\n3.6.1 Capacidad del Proceso\nEl departamento de sistemas, buscando no solo la estabilidad del tiempo de respuesta, sino también su adecuación a las expectativas del cliente interno, ha establecido nuevos requisitos de servicio. Para una satisfacción óptima, se ha determinado que el tiempo de respuesta a las solicitudes no debe ser inferior a 25 horas ni exceder las 50 horas. Además, la meta ideal es un tiempo de respuesta de 35 horas.\nCon base en estos nuevos valores, se requiere calcular los índices de capacidad del proceso (\\(C_p\\),\\(C_{pk}\\), \\(C_{pm}\\)) para evaluar qué tan bien el proceso actual satisface estas especificaciones.\n\n\nCódigo\nresponse_times &lt;- response_times[-c(4,5,6,7,8,9,10,13,19,20,27,28,30,31,32,35,40,41,46,49,50,53,58,59,64,65)]\n\nx &lt;- qcc(\n  data = response_times,\n  type = \"xbar.one\", # Use \"xbar\" type with sizes = 1 for individual charts\n  sizes = 1,     # CRITICAL: Each observation is a subgroup de size 1\n  plot = FALSE\n)\n\n# Establecer los límites de especificación\nspec.limits &lt;- c(25, 50)\n\n# Realizar el análisis de capacidad del proceso\ncapability &lt;- process.capability(x, spec.limits = spec.limits, target = 35, print = FALSE)\n\n\n\n\n\nCapacidad del proceso\n\n\n\n\nCódigo\n# Mostrar los índices de capacidad del proceso\n#print(capability)\n\n# Calcular la porción caída\n# Suponemos que los datos siguen una distribución normal\nmean_data &lt;- capability$center  # Media del proceso estimada por qcc\nsd_data &lt;- capability$std.dev      # Desviación estándar del proceso estimada por qcc\nlower_limit &lt;- spec.limits[1]\nupper_limit &lt;- spec.limits[2]\n\n# Proporción de unidades por debajo del límite inferior\nportion_below &lt;- pnorm(lower_limit, mean = mean_data, sd = sd_data)\n\n# Proporción de unidades por encima del límite superior\nportion_above &lt;- 1 - pnorm(upper_limit, mean = mean_data, sd = sd_data)\n\n# Porción caída total\nportion_fallen &lt;- portion_below + portion_above\n\nportion_fallen &lt;- sum(capability$exp)\n\ncat(\"Porción caída:\", formato(portion_fallen), \"\\n\")\n\n\nPorción caída: 0,0129 \n\n\nEl análisis de capacidad del proceso para el tiempo de respuesta a solicitudes de servicio de clientes internos revela un desempeño con claras deficiencias y la necesidad de mejoras urgentes.\nEl índice de capacidad potencial del proceso (\\(C_p\\)) de 0.842 indica una capacidad potencial inadecuada. Este valor, siendo significativamente menor que 1.0, sugiere que incluso si el proceso estuviera perfectamente centrado, su variabilidad intrínseca es demasiado grande para ajustarse completamente dentro de los límites de especificación establecidos (25 a 50 horas). Con un \\(C_p\\) inferior a 1.0, el proceso inherentemente generará productos fuera de las especificaciones, lo que señala una necesidad crítica de reducir la variabilidad en el tiempo de respuesta.\nEl índice de capacidad real del proceso (\\(C_{pk}\\)) de 0.781 es la preocupación principal en este análisis. Al ser el menor de \\(C_{pL}\\) (0.781) y \\(C_{pU}\\) (0.904), este valor revela que el proceso no solo es inherentemente incapaz (\\(C_p &lt; 1.0\\)) sino que, además, está descentrado, mostrando una ligera tendencia hacia el límite inferior de especificación (LSL) de 25 horas. Un \\(C_{pk}\\) tan bajo confirma que el proceso no es capaz de cumplir consistentemente con los requisitos de tiempo de respuesta, con una probabilidad real de producir solicitudes fuera de especificación por debajo del límite inferior.\nEl índice de capacidad de Taguchi (\\(C_{pm}\\)) de 0.802 corrobora la deficiencia general del proceso. Este valor, también por debajo de 1.0 y cercano al \\(C_{pk}\\), refleja que la desviación del proceso no solo es notable en relación con las especificaciones, sino que también está alejado del valor objetivo (Target = 35 horas). La media del proceso (36.58974 horas) se ha desplazado ligeramente del objetivo, lo que penaliza este índice y refuerza la necesidad de ajustar el centrado del proceso y, sobre todo, reducir su variabilidad para acercarse al tiempo de respuesta ideal de 35 horas.\nLa porción caída esperada (suma de Exp&lt;LSL 0.96% y Exp&gt;USL 0.33%) es de 1.29%. Esto significa que se espera que aproximadamente el 1.29% de las solicitudes de servicio tengan un tiempo de respuesta fuera de los límites de especificación, siendo la mayoría de estos defectos por tiempos de respuesta demasiado bajos (0.96% por debajo del LSL). Aunque el porcentaje observado (Obs&lt;LSL 0%, Obs&gt;USL 2.6%) es bajo, la expectativa de más del 1% de defectos subraya la importancia crítica de implementar medidas correctivas inmediatas para reducir la variabilidad del proceso y mejorar su centrado para asegurar que los tiempos de respuesta cumplan consistentemente con los requisitos establecidos.\n\n\n\n\n\n\n\n\n\nBesterfield, Dale H, Raúl Bautista Gutiérrez, y Guillermo Haaz Dı́az. 1995. «Control de calidad».\n\n\nCampos Robles, Emmanuel. 1995. «Control estadı́stico de calidad: Una recopilación de técnicas aplicables a la supervisión en los procesos de producción».\n\n\nGutiérrez Pulido, Humberto, y Román De la Vara Salazar. 2009. «Control estadı́stico de calidad y seis sigma». México, DF: Mc Graw-Hill.\n\n\nKnuth, Donald E. 1984. «Literate Programming». Comput. J. 27 (2): 97-111. https://doi.org/10.1093/comjnl/27.2.97.\n\n\nRendón, Hernán. 2013. «Control estadı́stico de calidad». Medellı́n: Universidad Nacional de Colombia.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Diagramas de Control para Variables y Análisis de Indices de Capacidad de Procesos Aplicados con ${\\color{Blue} \\textbf{\\textsf{R}}}$</span>"
    ]
  },
  {
    "objectID": "intro.html",
    "href": "intro.html",
    "title": "1  Introducción",
    "section": "",
    "text": "En el competitivo panorama industrial del siglo XXI, la calidad ha dejado de ser una ventaja para convertirse en un requisito indispensable. El Control Estadístico de Procesos (CEP) emerge como una filosofía y un conjunto de herramientas estadísticas que permiten a las organizaciones monitorear, controlar y mejorar sus procesos de producción, pasando de una detección de fallas reactiva a una prevención proactiva.\nEste libro se enfoca en dos de los pilares fundamentales del CEP: los diagramas de control para variables y el análisis de la capacidad del proceso. Se abordan en detalle los diagramas más comunes, como los de medias y rangos \\((\\bar{X}−R)\\) y los de medias y desviación estándar \\((\\bar{X}-S)\\), que son esenciales para evaluar la estabilidad y variabilidad de un proceso a lo largo del tiempo. Posteriormente, se profundiza en el cálculo e interpretación de los índices de capacidad \\((C_p)\\) y capacidad ajustada \\((C_pk)\\), métricas cruciales que nos indican si un proceso estable es capaz de cumplir con las especificaciones de diseño establecidas por el cliente.\nLa principal característica de esta obra es su enfoque eminentemente práctico, utilizando el lenguaje de programación R como única herramienta computacional. R, por ser un software libre, potente y el estándar de facto en la comunidad científica y estadística, ofrece un entorno ideal para la implementación de estas técnicas. 💻 A lo largo de los capítulos, el lector encontrará:\nEl planteamiento detallado de cada problema.\nEl código en R, comentado paso a paso, para realizar los cálculos y generar los gráficos.\nLa interpretación de los resultados: ¿Está el proceso bajo control estadístico? ¿Es capaz de cumplir las especificaciones? ¿Qué decisiones se deben tomar?\nEste material está dirigido a estudiantes de ingeniería y ciencias que cursen asignaturas de control de calidad, así como a profesionales que deseen una guía práctica para implementar estas herramientas estadísticas utilizando un software moderno y de alta demanda.\n\n\n\n\nKnuth, Donald E. 1984. «Literate Programming». Comput. J. 27 (2): 97-111. https://doi.org/10.1093/comjnl/27.2.97.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Introducción</span>"
    ]
  },
  {
    "objectID": "references.html",
    "href": "references.html",
    "title": "References",
    "section": "",
    "text": "Knuth, Donald E. 1984. “Literate Programming.” Comput.\nJ. 27 (2): 97–111. https://doi.org/10.1093/comjnl/27.2.97.",
    "crumbs": [
      "References"
    ]
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Diagramas de Control para Variables con R",
    "section": "",
    "text": "Prefacio\nEl presente trabajo nació de la necesidad de conectar la teoría del Control Estadístico de la Calidad con la práctica computacional moderna. Durante mi tránsito por la asignatura de Control Estadístico de la Calidad, dictada por el profesor Oswaldo Bello en nuestra casa de estudios, la Universidad de Oriente, Núcleo Nueva Esparta, comprendí que la aplicación manual de fórmulas es fundamental para entender los conceptos, pero el verdadero poder de estas herramientas se desata cuando se combinan con la eficiencia de un lenguaje de programación como R.\nEste solucionario no es solo una colección de ejercicios resueltos; es el reflejo de un proceso de aprendizaje. Es la bitácora de mi viaje para traducir los principios de los diagramas de control y los índices de capacidad a un código funcional, reproducible y visualmente potente. Cada script, cada gráfico y cada interpretación representa un puente entre la fórmula en la pizarra y el análisis de datos real que enfrentaremos en el campo profesional.\nAgradezco al profesor Bello por su guía y por fomentar un enfoque práctico en la materia. Es mi más sincero deseo que este compendio sirva como una herramienta de apoyo para futuras generaciones de estudiantes, facilitándoles la adopción de R y demostrando que el control de la calidad es una disciplina dinámica y en constante evolución.\n\n\n\n\nCampos Robles, Emmanuel. 1995. «Control estadı́stico de calidad: Una recopilación de técnicas aplicables a la supervisión en los procesos de producción».\n\n\nKnuth, Donald E. 1984. «Literate Programming». Comput. J. 27 (2): 97-111. https://doi.org/10.1093/comjnl/27.2.97.\n\n\nRendón, Hernán. 2013. «Control estadı́stico de calidad». Medellı́n: Universidad Nacional de Colombia.",
    "crumbs": [
      "Prefacio"
    ]
  },
  {
    "objectID": "introduccion.html",
    "href": "introduccion.html",
    "title": "1  Introducción",
    "section": "",
    "text": "En el competitivo panorama industrial del siglo XXI, la calidad ha dejado de ser una ventaja para convertirse en un requisito indispensable. El Control Estadístico de Procesos (CEP) emerge como una filosofía y un conjunto de herramientas estadísticas que permiten a las organizaciones monitorear, controlar y mejorar sus procesos de producción, pasando de una detección de fallas reactiva a una prevención proactiva.\nEste libro se enfoca en dos de los pilares fundamentales del CEP: los diagramas de control para variables y el análisis de la capacidad del proceso. Se abordan en detalle los diagramas más comunes, como los de medias y rangos \\((\\bar{X}−R)\\) y los de medias y desviación estándar \\((\\bar{X}-S)\\), que son esenciales para evaluar la estabilidad y variabilidad de un proceso a lo largo del tiempo. Posteriormente, se profundiza en el cálculo e interpretación de los índices de capacidad \\((C_p)\\) y capacidad ajustada \\((C_{pk})\\), métricas cruciales que nos indican si un proceso estable es capaz de cumplir con las especificaciones de diseño establecidas por el cliente.\nLa principal característica de esta obra es su enfoque eminentemente práctico, utilizando el lenguaje de programación R como única herramienta computacional. R, por ser un software libre, potente y el estándar de facto en la comunidad científica y estadística, ofrece un entorno ideal para la implementación de estas técnicas. 💻 A lo largo de los capítulos, el lector encontrará:\nEl planteamiento detallado de cada problema.\nEl código en R, comentado paso a paso, para realizar los cálculos y generar los gráficos.\nLa interpretación de los resultados: ¿Está el proceso bajo control estadístico? ¿Es capaz de cumplir las especificaciones? ¿Qué decisiones se deben tomar?\nEste material está dirigido a estudiantes de ingeniería y ciencias que cursen asignaturas de control de calidad, así como a profesionales que deseen una guía práctica para implementar estas herramientas estadísticas utilizando un software moderno y de alta demanda.\n\n\n\n\nCampos Robles, Emmanuel. 1995. «Control estadı́stico de calidad: Una recopilación de técnicas aplicables a la supervisión en los procesos de producción».\n\n\nKnuth, Donald E. 1984. «Literate Programming». Comput. J. 27 (2): 97-111. https://doi.org/10.1093/comjnl/27.2.97.\n\n\nRendón, Hernán. 2013. «Control estadı́stico de calidad». Medellı́n: Universidad Nacional de Colombia.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Introducción</span>"
    ]
  },
  {
    "objectID": "variables_indices_cap.html#cómo-funcionan",
    "href": "variables_indices_cap.html#cómo-funcionan",
    "title": "2  Diagramas de Control para Variables y Análisis de Indices de Capacidad de Procesos Aplicados con \\({\\color{Blue} \\textbf{\\textsf{R}}}\\)",
    "section": "3.1 ¿Cómo funcionan?",
    "text": "3.1 ¿Cómo funcionan?\n📈 Un diagrama de control para variables grafica los datos de tu proceso en una secuencia de tiempo. Típicamente, consta de tres líneas horizontales:\nLínea Central (LC): Representa el promedio histórico o el valor objetivo de la característica que se está midiendo. Es el rendimiento esperado del proceso.\nLímite de Control Superior (LCS): Se ubica tres desviaciones estándar por encima de la línea central.\nLímite de Control Inferior (LCI): Se ubica tres desviaciones estándar por debajo de la línea central.\nLa idea es que, si un proceso es estable y solo presenta variaciones comunes, casi todos los puntos graficados se encontrarán dentro de estos límites de control y distribuidos de manera aleatoria alrededor de la línea central.\nUn punto fuera de los límites de control o un patrón no aleatorio (como una tendencia ascendente, 7 puntos seguidos de un mismo lado de la línea central, etc.) es una señal de que existe una causa especial de variación. Esto indica que algo inusual ha ocurrido y que el proceso está “fuera de control”, lo que requiere una investigación para identificar y corregir el problema.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Diagramas de Control para Variables y Análisis de Indices de Capacidad de Procesos Aplicados con ${\\color{Blue} \\textbf{\\textsf{R}}}$</span>"
    ]
  },
  {
    "objectID": "variables_indices_cap.html#tipos-más-comunes",
    "href": "variables_indices_cap.html#tipos-más-comunes",
    "title": "2  Diagramas de Control para Variables y Análisis de Indices de Capacidad de Procesos Aplicados con \\({\\color{Blue} \\textbf{\\textsf{R}}}\\)",
    "section": "3.2 Tipos más comunes",
    "text": "3.2 Tipos más comunes\nGeneralmente, se usan en pares para monitorear tanto la tendencia central como la dispersión (variabilidad) del proceso:\nGráfica \\(\\bar{X}−R\\) (Medias y Rangos): Es la más común. La gráfica \\(\\bar{X}\\) (de medias) monitorea el promedio del proceso, mientras que la gráfica \\(R\\) (de rangos) monitorea la variabilidad dentro de las muestras. Se usa típicamente con tamaños de muestra pequeños (entre 2 y 10).\nGráfica \\(\\bar{X}−S\\) (Medias y Desviación Estándar): Similar a la anterior, pero la gráfica \\(S\\) usa la desviación estándar en lugar del rango para medir la variabilidad. Es estadísticamente más robusta y se prefiere cuando los tamaños de muestra son más grandes (mayores a 10).\nGráfica \\(I-MR\\) (Individuales y Rango Móvil): Se utiliza cuando solo se tiene una medición por cada punto en el tiempo (tamaño de muestra = 1), como en procesos lentos o donde la medición es costosa o destructiva.\nEn el siguiente bloque de código se cargan todas las librerías o paquetes necesarios para el desarrollo de este capitulo, si no se tiene instalado alguno de ellos se instalaran automáticamente.\nDel mismo modo, se crea una base de datos bib para los paquetes de R que se están utilizando en este capitulo, la cual se puede usar para crear una bibliografía al final del capitulo.\nPor otro lado, aqui se crean funciones propias para darle formato a las salidas imprimidas en pantalla. las cuales se pueden usar en cualquier parte del capitulo.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Diagramas de Control para Variables y Análisis de Indices de Capacidad de Procesos Aplicados con ${\\color{Blue} \\textbf{\\textsf{R}}}$</span>"
    ]
  },
  {
    "objectID": "variables_indices_cap.html#diagrama-de-control-para-la-mediabarx-y-la-desviación-estándarr",
    "href": "variables_indices_cap.html#diagrama-de-control-para-la-mediabarx-y-la-desviación-estándarr",
    "title": "2  Diagramas de Control para Variables y Análisis de Indices de Capacidad de Procesos Aplicados con \\({\\color{Blue} \\textbf{\\textsf{R}}}\\)",
    "section": "3.4 Diagrama de control para la Media(\\(\\bar{X}\\)) y la Desviación Estándar(\\(R\\))",
    "text": "3.4 Diagrama de control para la Media(\\(\\bar{X}\\)) y la Desviación Estándar(\\(R\\))\n\n\n\n\n\n\n\nEjemplo 3.2 (Aplicación del diagrama de control para la Media(\\(\\bar{X}\\)) y la Desviación Estándar(\\(R\\))) Se van a establecer gráficas de control para la dureza Brinell de acero endurecido para herramientas, en kilogramos por milímetro cuadrado. A continuación se muestran los datos para tamaños de subgrupo igual a 8. Determine la línea central y los límites de control tentativos para las gráficas \\(\\bar{x}\\) y \\(s\\). Suponga que los puntos fuera de control tienen causas asignables, y calcule los límites y línea central revisados.\n\n\nCódigo\n# Crear el dataframe en R\nnumero_de_subgrupo &lt;- 1:25\nX_bar &lt;- c(540, 534, 545, 561, 576, 523, 571, 547, 584, 552, 541, 545, 546, 551, 522, 579, 549, 508, 569, 574, 563, 561, 548, 556, 553)\nS &lt;- c(26, 23, 24, 27, 25, 50, 29, 29, 23, 24, 28, 25, 26, 24, 29, 26, 28, 23, 22, 28, 33, 23, 25, 27, 23)\n\ndf_dureza &lt;- data.frame(NUMERO_DE_SUBGRUPO = numero_de_subgrupo, X_bar = X_bar, S = S)\n\n# Prepare the data for reactable, adapting from 'pistones' structure\ndureza &lt;- df_dureza |&gt;\n  dplyr::mutate(\n    # 'muestra' corresponds to 'numero_de_subgrupo'\n    muestra = numero_de_subgrupo\n  ) |&gt;\n  dplyr::rename(\n    media = X_bar,        \n    desviacion = S        \n  ) |&gt;\n  dplyr::select(\n    muestra,\n    media,\n    desviacion\n  ) |&gt;\n  data.table::as.data.table()\n\n# Set reactable language options\noptions(\n  reactable.language = reactableLang(\n    searchPlaceholder = \"Buscar...\",\n    pageNext = \"Siguiente\",\n    pagePrevious = \"Anterior\",\n    noData = \"No se encontraron entradas\",\n    pageInfo = \"{rowStart} de {rowEnd} de {rows} filas\"\n  )\n)\n\n# Generate the reactable table\nreactable::reactable(\n  dureza,\n  columns = list(\n    muestra = colDef(header = \"Muestra\", align = \"right\"),\n    media = colDef(\n      header = \"\\\\( \\\\bar{x}_{i} \\\\)\", align = \"right\",\n      format = colFormat(\n        separators = TRUE, digits = 3, locales = \"es-ES\" # Adjusted digits for your data\n      )\n    ),\n    desviacion = colDef(\n      header = \"\\\\( S_{i} \\\\)\", align = \"right\", # Changed 'r' to correct S_i notation\n      format = colFormat(\n        separators = TRUE, digits = 2, locales = \"es-ES\" # Adjusted digits for your data\n      )\n    )\n  ),\n  striped = TRUE,\n  bordered = TRUE,\n  highlight = TRUE,\n  filterable = TRUE,\n  # You can add a defaultColDef if you want to apply common styles to all columns\n  defaultColDef = colDef(align = \"center\")\n)\n\n\n\n\nTabla 3.2: Mediciones para la dureza Brinell de acero endurecido para herramientas, en kilogramos por milímetro cuadrado\n\n\n\n\n\n\n\n\n\n\n\n\nCódigo\n# Define the sample size (n) as specified in the Brinell problem\nn &lt;- 8\n\n# Calculate control chart constants B_3 and B_4 for the S-chart\n# These constants depend on the sample size 'n' and SixSigma::ss.cc.getc4(n)\nB_3 &lt;- ifelse(\n  1 - 3 * sqrt(1 - SixSigma::ss.cc.getc4(n)^2) / SixSigma::ss.cc.getc4(n) &lt; 0, 0,\n  1 - 3 * sqrt(1 - SixSigma::ss.cc.getc4(n)^2) / SixSigma::ss.cc.getc4(n)\n)\nB_4 &lt;- 1 + 3 * sqrt(1 - SixSigma::ss.cc.getc4(n)^2) / SixSigma::ss.cc.getc4(n)\n\n# Calculate the overall average of the subgroup standard deviations (S-bar)\nS_barra &lt;- mean(dureza$desviacion)\n\n# Calculate the control limits for the S-chart\nlci_S &lt;- B_3 * S_barra # Lower Control Limit for S-chart\nlc_S &lt;- S_barra        # Center Line for S-chart\nlcs_S &lt;- B_4 * S_barra # Upper Control Limit for S-chart\n\n# Define the 'formato' function as it was used in your original snippet\n# (Assuming it formats numbers with commas as decimal separators and two digits)\nformato &lt;- function(x, digits = 4) {\n  formatC(x, format = \"f\", digits = digits, big.mark = \".\", decimal.mark = \",\")\n}\n\n# Print the calculated control limits\npaste0(\"LCI_S = \", formato(lci_S), \"    LC_S = \", formato(lc_S), \"    LCS_S = \", formato(lcs_S))\n\n\n[1] \"LCI_S = 4,9604    LC_S = 26,8000    LCS_S = 48,6396\"\n\n\n\n\nCódigo\nmedia_est &lt;- mean(dureza$media)\nA_3 &lt;- 3 / (sqrt(n) * SixSigma::ss.cc.getc4(n))\nlci_X &lt;- media_est - A_3 * S_barra\nlc_X &lt;-  media_est\nlcs_X &lt;- media_est + A_3 * S_barra\npaste0(\"LCI = \", formato(lci_X), \"    LC = \", formato(lc_X), \"    LCS = \", formato(lcs_X))\n\n\n[1] \"LCI = 522,4643    LC = 551,9200    LCS = 581,3757\"\n\n\n\n\nCódigo\nhighchart() |&gt;\n  hc_add_series(\n    data = dureza,\n    hcaes(x = muestra, low = lc_S, high = lcs_S),\n    step = \"hv\", marker = list(enabled = FALSE, visible = FALSE),\n    type = \"arearange\", fillOpacity = 0.2, name = \"\",\n    color = \"green\",\n    showInLegend = FALSE, tooltip = list(pointFormat = \"{NULL}\")\n  ) |&gt;\n  hc_add_series(\n    data = dureza, \n    hcaes(x = muestra, low = lci_S, high = lc_S),\n    step = \"hv\", marker = list(enabled = FALSE, visible = FALSE),\n    type = \"arearange\", fillOpacity = 0.2,\n    name = \"\", color = \"blue\",\n    showInLegend = FALSE, tooltip = list(pointFormat = \"{NULL}\")\n  ) |&gt;\n  hc_add_series(\n    data = dureza,\n    type = \"line\", hcaes(x = muestra, y = lcs_S), useHTML = TRUE,\n    color = \"red\", dashStyle = \"Dash\", name = \"&lt;b&gt;&lt;i&gt;LCS&lt;/b&gt;&lt;/i&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_add_series(\n    data = dureza, \n    type = \"line\", hcaes(x = muestra, y = lc_S), useHTML = TRUE,\n    color = \"blue\", name = \"&lt;b&gt;&lt;i&gt;LC&lt;/b&gt;&lt;/i&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_add_series(\n    data = dureza, \n    type = \"line\", hcaes(x = muestra, y = lci_S), useHTML = TRUE,\n    color = \"red\", dashStyle = \"Dash\", name = \"&lt;b&gt;&lt;i&gt;LCI&lt;/b&gt;&lt;/i&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_add_series(\n    data = dureza, # Puntos de datos reales\n    type = \"line\", color = \"black\",\n    hcaes(x = muestra, y = desviacion),\n    marker = list(radius = 3, fillColor = \"blue\"), # Añadido fillColor para consistencia\n    useHTML = TRUE, name = \"&lt;b&gt;&lt;i&gt;S&lt;sub&gt;i&lt;/sub&gt;&lt;/i&gt;&lt;/b&gt;\",\n    dashStyle = \"Dash\",\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_xAxis(\n    title = list(\n      useHTML = TRUE,\n      text = \"&lt;b&gt;&lt;i&gt;Muestra (n&lt;sub&gt;i&lt;/sub&gt;)&lt;/i&gt;&lt;/b&gt;&lt;br&gt;\"\n    )\n  ) |&gt;\n  hc_yAxis(\n    title = list(\n      useHTML = TRUE,\n      text = \"&lt;b&gt;&lt;i&gt;Desviación estándar (S&lt;sub&gt;i&lt;/sub&gt;)&lt;/i&gt;&lt;/b&gt;&lt;br&gt;\")\n  ) |&gt;\n  hc_tooltip(crosshairs = TRUE, shared = TRUE) |&gt;\n  hc_plotOptions(series = list(animation = FALSE) )\n\n\n\n\n\n\n\n\nFigura 3.5: Diagrama \\(S\\) para la dureza Brinell del acero (kg/mm²) en la fase I con el paquete highcharter\n\n\n\n\nComo se puede observar en la Figura 3.5 se observa que el punto 6 esta fuera de los limites de control, se concluye que el proceso no esta bajo control estadistico en varianza. Por lo que suponiendo causas asignables se eliminara del diagrama para recalcular los limites y observar nuevamente el comportamiento del proceso.\n\n\nCódigo\nhighchart() |&gt;\n  hc_add_series(\n    data = dureza, # Usar datos auxiliares para los límites\n    hcaes(x = muestra, low = lc_X, high = lcs_X),\n    step = \"hv\", marker = list(enabled = FALSE, visible = FALSE),\n    type = \"arearange\", fillOpacity = 0.2, name = \"\",\n    color = \"green\",\n    showInLegend = FALSE, tooltip = list(pointFormat = \"{NULL}\")\n  ) |&gt;\n  hc_add_series(\n    data = dureza, # Usar datos auxiliares para los límites\n    hcaes(x = muestra, low = lci_X, high = lc_X),\n    step = \"hv\", marker = list(enabled = FALSE, visible = FALSE),\n    type = \"arearange\", fillOpacity = 0.2, name = \"\",\n    color = \"blue\",\n    showInLegend = FALSE, tooltip = list(pointFormat = \"{NULL}\")\n  ) |&gt;\n  hc_add_series(\n    data = dureza, # Usar datos auxiliares para los límites\n    type = \"line\", hcaes(x = muestra, y = lcs_X), useHTML = TRUE,\n    color = \"red\", dashStyle = \"Dash\", name = \"&lt;b&gt;&lt;i&gt;LCS&lt;/b&gt;&lt;/i&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_add_series(\n    data = dureza, # Usar datos auxiliares para los límites\n    type = \"line\", hcaes(x = muestra, y = lc_X), useHTML = TRUE,\n    color = \"blue\", name = \"&lt;b&gt;&lt;i&gt;LC&lt;/b&gt;&lt;/i&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_add_series(\n    data = dureza, # Usar datos auxiliares para los límites\n    type = \"line\", hcaes(x = muestra, y = lci_X), useHTML = TRUE,\n    color = \"red\", dashStyle = \"Dash\", name = \"&lt;b&gt;&lt;i&gt;LCI&lt;/b&gt;&lt;/i&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_add_series(\n    data = dureza, # Puntos de datos reales\n    type = \"line\", color = \"black\", hcaes(x = muestra, y = media),\n    marker = list(radius = 3, fillColor = \"blue\"),\n    useHTML = TRUE,\n    name = \"&lt;b&gt;&lt;i&gt;Media&lt;/i&gt;&lt;/b&gt;\", dashStyle = \"Dash\",\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_xAxis(\n    title = list(\n      useHTML = TRUE,\n      text = \"&lt;b&gt;&lt;i&gt;Muestra (n&lt;sub&gt;i&lt;/sub&gt;)&lt;/i&gt;&lt;/b&gt;&lt;br&gt;\"\n    )\n  ) |&gt;\n  hc_yAxis(\n    title = list(\n      useHTML = TRUE,\n      text = \"&lt;b&gt;&lt;i&gt;Media&lt;/i&gt;&lt;/b&gt;&lt;br&gt;\"\n    )\n  ) |&gt;\n  hc_tooltip(crosshairs = TRUE, shared = TRUE) |&gt;\n  hc_plotOptions(series = list(animation = FALSE) )\n\n\n\n\n\n\n\n\nFigura 3.6: Diagrama \\(\\bar{x}\\) para la dureza Brinell del acero (kg/mm²) en la fase I con el paquete highcharter\n\n\n\n\nSe puede observar en la Figura 3.6 que se tienen dos puntos fuera de los limites de control, siendo los puntos 8 y 18. Ahora bien, el punto 15 se encuentra muy cercano teniendo una diferencia con este de 0,46, lo cual es menor a unidad. Basado en uno de los criterios de General Electric, el cual establece que un punto que se encuentre muy cercano a uno de los limites debera considerarse como una advertencia de que el proceso no esta funcionando como deberia. Por lo que el proceso no se encuentra bajo control estadistico en su media, suponiendo causas asignables se procedera a eliminar los tres puntos de proceso, recalcular los limites y graficar nuevamente el diagrama.\nLos limites para el diagrama \\(S\\), serian ahora los siguientes:\n\n\nCódigo\ndureza &lt;- dureza[-c(6,8,15,18)]\n# Calculate control chart constants B_3 and B_4 for the S-chart\n# These constants depend on the sample size 'n' and SixSigma::ss.cc.getc4(n)\nB_3 &lt;- ifelse(\n  1 - 3 * sqrt(1 - SixSigma::ss.cc.getc4(n)^2) / SixSigma::ss.cc.getc4(n) &lt; 0, 0,\n  1 - 3 * sqrt(1 - SixSigma::ss.cc.getc4(n)^2) / SixSigma::ss.cc.getc4(n)\n)\nB_4 &lt;- 1 + 3 * sqrt(1 - SixSigma::ss.cc.getc4(n)^2) / SixSigma::ss.cc.getc4(n)\n\n\n\n# Calculate the overall average of the subgroup standard deviations (S-bar)\nS_barra &lt;- mean(dureza$desviacion)\n\n# Calculate the control limits for the S-chart\nlci_S &lt;- B_3 * S_barra # Lower Control Limit for S-chart\nlc_S &lt;- S_barra        # Center Line for S-chart\nlcs_S &lt;- B_4 * S_barra # Upper Control Limit for S-chart\n\n# Define the 'formato' function as it was used in your original snippet\n# (Assuming it formats numbers with commas as decimal separators and two digits)\nformato &lt;- function(x, digits = 4) {\n  formatC(x, format = \"f\", digits = digits, big.mark = \".\", decimal.mark = \",\")\n}\n\n# Print the calculated control limits\npaste0(\"LCI_S = \", formato(lci_S), \"    LC_S = \", formato(lc_S), \"    LCS_S = \", formato(lcs_S))\n\n\n[1] \"LCI_S = 4,7506    LC_S = 25,6667    LCS_S = 46,5827\"\n\n\n\n\nCódigo\nmedia_est &lt;- mean(dureza$media)\nA_3 &lt;- 3 / (sqrt(n) * SixSigma::ss.cc.getc4(n))\nlci_X &lt;- media_est - A_3 * S_barra\nlc_X &lt;-  media_est\nlcs_X &lt;- media_est + A_3 * S_barra\npaste0(\"LCI = \", formato(lci_X), \"    LC = \", formato(lc_X), \"    LCS = \", formato(lcs_X))\n\n\n[1] \"LCI = 528,8375    LC = 557,0476    LCS = 585,2577\"\n\n\n\n\nCódigo\nhighchart() |&gt;\n  hc_add_series(\n    data = dureza,\n    hcaes(x = muestra, low = lc_S, high = lcs_S),\n    step = \"hv\", marker = list(enabled = FALSE, visible = FALSE),\n    type = \"arearange\", fillOpacity = 0.2, name = \"\",\n    color = \"green\",\n    showInLegend = FALSE, tooltip = list(pointFormat = \"{NULL}\")\n  ) |&gt;\n  hc_add_series(\n    data = dureza, \n    hcaes(x = muestra, low = lci_S, high = lc_S),\n    step = \"hv\", marker = list(enabled = FALSE, visible = FALSE),\n    type = \"arearange\", fillOpacity = 0.2,\n    name = \"\", color = \"blue\",\n    showInLegend = FALSE, tooltip = list(pointFormat = \"{NULL}\")\n  ) |&gt;\n  hc_add_series(\n    data = dureza,\n    type = \"line\", hcaes(x = muestra, y = lcs_S), useHTML = TRUE,\n    color = \"red\", dashStyle = \"Dash\", name = \"&lt;b&gt;&lt;i&gt;LCS&lt;/b&gt;&lt;/i&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_add_series(\n    data = dureza, \n    type = \"line\", hcaes(x = muestra, y = lc_S), useHTML = TRUE,\n    color = \"blue\", name = \"&lt;b&gt;&lt;i&gt;LC&lt;/b&gt;&lt;/i&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_add_series(\n    data = dureza, \n    type = \"line\", hcaes(x = muestra, y = lci_S), useHTML = TRUE,\n    color = \"red\", dashStyle = \"Dash\", name = \"&lt;b&gt;&lt;i&gt;LCI&lt;/b&gt;&lt;/i&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_add_series(\n    data = dureza, # Puntos de datos reales\n    type = \"line\", color = \"black\",\n    hcaes(x = muestra, y = desviacion),\n    marker = list(radius = 3, fillColor = \"blue\"), # Añadido fillColor para consistencia\n    useHTML = TRUE, name = \"&lt;b&gt;&lt;i&gt;S&lt;sub&gt;i&lt;/sub&gt;&lt;/i&gt;&lt;/b&gt;\",\n    dashStyle = \"Dash\",\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_xAxis(\n    title = list(\n      useHTML = TRUE,\n      text = \"&lt;b&gt;&lt;i&gt;Muestra (n&lt;sub&gt;i&lt;/sub&gt;)&lt;/i&gt;&lt;/b&gt;&lt;br&gt;\"\n    )\n  ) |&gt;\n  hc_yAxis(\n    title = list(\n      useHTML = TRUE,\n      text = \"&lt;b&gt;&lt;i&gt;Desviación estándar (S&lt;sub&gt;i&lt;/sub&gt;)&lt;/i&gt;&lt;/b&gt;&lt;br&gt;\")\n  ) |&gt;\n  hc_tooltip(crosshairs = TRUE, shared = TRUE) |&gt;\n  hc_plotOptions(series = list(animation = FALSE) )\n\n\n\n\n\n\n\n\nFigura 3.7: Diagrama \\(S\\) para la dureza Brinell del acero (kg/mm²) en la fase I con el paquete highcharter\n\n\n\n\nComo se puede observar ninguno de los puntos se encuentra fuera de los limites de control.\n\n\nCódigo\nhighchart() |&gt;\n  hc_add_series(\n    data = dureza, # Usar datos auxiliares para los límites\n    hcaes(x = muestra, low = lc_X, high = lcs_X),\n    step = \"hv\", marker = list(enabled = FALSE, visible = FALSE),\n    type = \"arearange\", fillOpacity = 0.2, name = \"\",\n    color = \"green\",\n    showInLegend = FALSE, tooltip = list(pointFormat = \"{NULL}\")\n  ) |&gt;\n  hc_add_series(\n    data = dureza, # Usar datos auxiliares para los límites\n    hcaes(x = muestra, low = lci_X, high = lc_X),\n    step = \"hv\", marker = list(enabled = FALSE, visible = FALSE),\n    type = \"arearange\", fillOpacity = 0.2, name = \"\",\n    color = \"blue\",\n    showInLegend = FALSE, tooltip = list(pointFormat = \"{NULL}\")\n  ) |&gt;\n  hc_add_series(\n    data = dureza, # Usar datos auxiliares para los límites\n    type = \"line\", hcaes(x = muestra, y = lcs_X), useHTML = TRUE,\n    color = \"red\", dashStyle = \"Dash\", name = \"&lt;b&gt;&lt;i&gt;LCS&lt;/b&gt;&lt;/i&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_add_series(\n    data = dureza, # Usar datos auxiliares para los límites\n    type = \"line\", hcaes(x = muestra, y = lc_X), useHTML = TRUE,\n    color = \"blue\", name = \"&lt;b&gt;&lt;i&gt;LC&lt;/b&gt;&lt;/i&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_add_series(\n    data = dureza, # Usar datos auxiliares para los límites\n    type = \"line\", hcaes(x = muestra, y = lci_X), useHTML = TRUE,\n    color = \"red\", dashStyle = \"Dash\", name = \"&lt;b&gt;&lt;i&gt;LCI&lt;/b&gt;&lt;/i&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_add_series(\n    data = dureza, # Puntos de datos reales\n    type = \"line\", color = \"black\", hcaes(x = muestra, y = media),\n    marker = list(radius = 3, fillColor = \"blue\"),\n    useHTML = TRUE,\n    name = \"&lt;b&gt;&lt;i&gt;Media&lt;/i&gt;&lt;/b&gt;\", dashStyle = \"Dash\",\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_xAxis(\n    title = list(\n      useHTML = TRUE,\n      text = \"&lt;b&gt;&lt;i&gt;Muestra (n&lt;sub&gt;i&lt;/sub&gt;)&lt;/i&gt;&lt;/b&gt;&lt;br&gt;\"\n    )\n  ) |&gt;\n  hc_yAxis(\n    title = list(\n      useHTML = TRUE,\n      text = \"&lt;b&gt;&lt;i&gt;Media&lt;/i&gt;&lt;/b&gt;&lt;br&gt;\"\n    )\n  ) |&gt;\n  hc_tooltip(crosshairs = TRUE, shared = TRUE) |&gt;\n  hc_plotOptions(series = list(animation = FALSE) )\n\n\n\n\n\n\n\n\nFigura 3.8: Diagrama \\(\\bar{x}\\) para la dureza Brinell del acero (kg/mm²) en la fase I con el paquete highcharter\n\n\n\n\nIgualmente, como se puede observar ninguno de los puntos se encuentra fuera de los limites de control. Por lo que, dado que para ambos diagramas de control (Figura 3.7 y Figura 3.8) no se encuentran ahora puntos fuera de control, se puede decir entonces que la dureza Brinell de acero endurecido para herramientas, en kilogramos por milímetro cuadrado es estable tanto en media como en varianza.\n\n\n\n\n\n\n\n\n\n\n\nEjemplo 3.3 (Aplicación de los Diagramas \\(\\bar{x}\\) y \\(S\\) con tamaño de muestra variable.) Una empresa de producción de alimentos se encuentra interesada en supervisar la concentración de un conservante en los productos que ofrece, para ello toman entre 10 y 15 muestras de 20 lotes de producción distintos, midiendo la concentración del conservante en su respectiva unidad.\nLa Tabla 3.3 muestra las medias y las desviaciones que presentó cada lote inspeccionado, junto con su la cantidad de muestras que se tomó en el lote correspondiente.\n\n\n\n\nTabla 3.3: Número total de defectos en cada unidad de inspección\n\n\n\n\n\n\nLote\nMedia\nDesviación\nTamaño\n\n\n\n\n1\n1.76\n0.486\n11\n\n\n2\n1.55\n0.508\n12\n\n\n3\n1.79\n0.396\n14\n\n\n4\n1.73\n0.622\n14\n\n\n5\n1.74\n0.484\n10\n\n\n6\n1.68\n0.377\n15\n\n\n7\n1.84\n0.532\n13\n\n\n8\n1.88\n0.424\n12\n\n\n9\n1.83\n0.527\n14\n\n\n10\n1.89\n0.409\n11\n\n\n11\n1.76\n0.443\n12\n\n\n12\n1.76\n0.403\n15\n\n\n13\n1.85\n0.578\n10\n\n\n14\n1.51\n0.409\n13\n\n\n15\n2.08\n0.424\n14\n\n\n16\n1.85\n0.479\n11\n\n\n17\n1.69\n0.438\n10\n\n\n18\n1.90\n0.429\n12\n\n\n19\n1.84\n0.484\n15\n\n\n20\n1.62\n0.434\n13\n\n\n\n\n\n\n\n\n\n\nLos datos de este ejemplo fueron extraidos de Rendón (2013).\nPara la construcción del diagrama de control, se utilizará el criterio del tamaño de muestra promedio, calculado de la siguiente forma:\n\\[\n\\begin{equation}\n\\bar{n}= \\frac{\\sum_{i=1}^{m}n_i}{m}\n\\end{equation}\n\\tag{3.1}\\]\nEn R, el calculo se realiza de la siguiente forma:\n\n\nCódigo\nsumn &lt;- sum(datos_xstmv$tamano)\nm &lt;- 20\nnpro &lt;- round(sumn/m,0)\npaste(npro)\n\n\n[1] \"13\"\n\n\nLos limites de control para el diagrama \\(S\\) se obtienen de la siguiente forma: \\[\n\\begin{align*}\nLCI & = B_{3}\\left(\\bar{n} \\right)\\,\\bar{S} \\\\\nLC & = \\bar{S} \\\\\nLCS & = B_{4}\\left(\\bar{n} \\right)\\,\\bar{S}\n\\end{align*}\n\\tag{3.2}\\]\nDel mismo, se calculan con R utilizando el siguiente bloque de código:\n\n\nCódigo\nB_3 &lt;- ifelse(\n  1 - 3 * sqrt(1 - SixSigma::ss.cc.getc4(npro)^2) / SixSigma::ss.cc.getc4(npro) &lt; 0, 0,\n  1 - 3 * sqrt(1 - SixSigma::ss.cc.getc4(npro)^2) / SixSigma::ss.cc.getc4(npro)\n)\nB_4 &lt;- 1 + 3 * sqrt(1 - SixSigma::ss.cc.getc4(npro)^2) / SixSigma::ss.cc.getc4(npro)\n\nmedia_est &lt;- mean(datos_xstmv$medias)\nS_barra &lt;- mean(datos_xstmv$des)\nlci_S &lt;- B_3 * S_barra\nlc_S &lt;- S_barra\nlcs_S &lt;- B_4 * S_barra\npaste0(\"LCI = \", formato(lci_S), \"    LC = \", formato(lc_S), \"    LCS = \", formato(lcs_S))\n\n\n[1] \"LCI = 0,1772    LC = 0,4643    LCS = 0,7514\"\n\n\nLos limites de control para \\(\\bar{x}\\) vienen dados por la siguiente expresión:\n\\[\n\\begin{align*}\nLCI & = \\bar{\\bar{x}} - A_{3}\\left(\\bar{n} \\right)\\,\\bar{S}  \\\\\nLC & = \\bar{\\bar{x}} \\\\\nLCS & = \\bar{\\bar{x}} + A_{3}\\left(\\bar{n} \\right)\\,\\bar{S}\n\\end{align*}\n\\tag{3.3}\\]\nEn R, el calculo se realiza mediante el siguiente bloque de código:\n\n\nCódigo\nA_3 &lt;- 3 / (sqrt(npro) * SixSigma::ss.cc.getc4(npro))\nlci &lt;- media_est - A_3 * S_barra\nlc &lt;-  media_est\nlcs &lt;- media_est + A_3 * S_barra\npaste0(\"LCI = \", formato(lci), \"    LC = \", formato(lc), \"    LCS = \", formato(lcs))\n\n\n[1] \"LCI = 1,3831    LC = 1,7775    LCS = 2,1719\"\n\n\nLa representación gráfica de este diagrama se realiza de la siguiente forma:\n\nCódigo\n# Diagrama S en la fase 1\nS1 &lt;- qcc(\n  datos_xstmv$des,sizes = npro,limits = c(lci_S, lcs_S),\n  type = \"S\", plot = FALSE\n)\nplot(\n  S1,\n  add.stats = FALSE, label.limits = c(\"LCI\", \"LCS\"),\n  title = \"\", xlab = \"Lote\", ylab = \"Desviación estándar\",\n  chart.all = TRUE\n)\n\n# Diagrama xbarra en la fase 1\nxbarra_xs2 &lt;- qcc(\n  datos_xstmv$medias, sizes = npro,limits = c(lci, lcs),\n  type = \"xbar\",\n  plot = FALSE\n)\nplot(\n  xbarra_xs2,\n  add.stats = FALSE, label.limits = c(\"LCI\", \"LCS\"),\n  title = \"\", xlab = \"Lote\", ylab = \"Medias\",\n  chart.all = TRUE\n)\n\n\n\n\n\n\n\n\n\n\n\n\n(a) Diagrama \\(S\\) inicial\n\n\n\n\n\n\n\n\n\n\n\n(b) Diagrama \\(\\bar{x}\\) inicial\n\n\n\n\n\n\n\nFigura 3.9: Diagramas \\(\\bar{x}\\) y \\(S\\) para el diámetro interior (mm) de los anillos en las fases 1 y 2 con el paquete qcc\n\n\n\nSe observa en la Figura 3.9, especificamente en el diagrama de \\(S\\), que todos los puntos se encuentran dentro de los limites de control, por lo que se concluye que la varianza está bajo control y se puede utilizar la estimación de 0.4643 para controlar las futuras concentraciones de conservantes en los alimentos producidos. De igual forma, se observa en el diagrama de \\(\\bar{x}\\) que todos los puntos se encuentran bajo control, por lo que se concluye que el proceso funciona bajo causas fortuitas y puede ser utilizada la estimación de 1.7775 para supervisas las futuras concentraciones de conservantes en los alimentos producidos.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Diagramas de Control para Variables y Análisis de Indices de Capacidad de Procesos Aplicados con ${\\color{Blue} \\textbf{\\textsf{R}}}$</span>"
    ]
  },
  {
    "objectID": "variables_indices_cap.html#diagrama-de-control-para-la-mediabarx-y-la-desviación-estándars",
    "href": "variables_indices_cap.html#diagrama-de-control-para-la-mediabarx-y-la-desviación-estándars",
    "title": "2  Diagramas de Control para Variables y Análisis de Indices de Capacidad de Procesos Aplicados con \\({\\color{Blue} \\textbf{\\textsf{R}}}\\)",
    "section": "3.4 Diagrama de control para la Media(\\(\\bar{X}\\)) y la Desviación Estándar(\\(S\\))",
    "text": "3.4 Diagrama de control para la Media(\\(\\bar{X}\\)) y la Desviación Estándar(\\(S\\))\nPara el caso de la media y la desviación estándar, se utilizan los diagramas de control \\(\\bar{X}\\) y \\(S\\), respectivamente. Estos diagramas son útiles para monitorear la estabilidad del proceso en términos de su media y variabilidad. A continuación, se muestra un ejemplo de cómo construir estos diagramas a traves de un ejemplo práctico.\n\n\n\n\n\n\n\nEjemplo 3.2 (Aplicación del diagrama de control para la Media(\\(\\bar{X}\\)) y la Desviación Estándar(\\(S\\))) Se van a establecer gráficas de control para la dureza Brinell de acero endurecido para herramientas, en kilogramos por milímetro cuadrado. A continuación se muestran los datos para tamaños de subgrupo igual a 8. Determine la línea central y los límites de control tentativos para las gráficas \\(\\bar{x}\\) y \\(s\\). Suponga que los puntos fuera de control tienen causas asignables, y calcule los límites y línea central revisados. Este ejemplo fue tomado de Besterfield, Gutiérrez, y Dı́az (1995).\n\n\nCódigo\n# Crear el dataframe en R\nnumero_de_subgrupo &lt;- 1:25\nX_bar &lt;- c(540, 534, 545, 561, 576, 523, 571, 547, 584, 552, 541, 545, 546, 551, 522, 579, 549, 508, 569, 574, 563, 561, 548, 556, 553)\nS &lt;- c(26, 23, 24, 27, 25, 50, 29, 29, 23, 24, 28, 25, 26, 24, 29, 26, 28, 23, 22, 28, 33, 23, 25, 27, 23)\n\ndf_dureza &lt;- data.frame(NUMERO_DE_SUBGRUPO = numero_de_subgrupo, X_bar = X_bar, S = S)\n\ndureza &lt;- df_dureza |&gt;\n  dplyr::mutate(\n    muestra = numero_de_subgrupo\n  ) |&gt;\n  dplyr::rename(\n    media = X_bar,        \n    desviacion = S        \n  ) |&gt;\n  dplyr::select(\n    muestra,\n    media,\n    desviacion\n  ) |&gt;\n  data.table::as.data.table()\n\noptions(\n  reactable.language = reactableLang(\n    searchPlaceholder = \"Buscar...\",\n    pageNext = \"Siguiente\",\n    pagePrevious = \"Anterior\",\n    noData = \"No se encontraron entradas\",\n    pageInfo = \"{rowStart} de {rowEnd} de {rows} filas\"\n  )\n)\n\nreactable::reactable(\n  dureza,\n  columns = list(\n    muestra = colDef(header = \"Muestra\", align = \"right\"),\n    media = colDef(\n      header = \"\\\\( \\\\bar{x}_{i} \\\\)\", align = \"right\",\n      format = colFormat(\n        separators = TRUE, digits = 3, locales = \"es-ES\" \n      )\n    ),\n    desviacion = colDef(\n      header = \"\\\\( S_{i} \\\\)\", align = \"right\", \n      format = colFormat(\n        separators = TRUE, digits = 2, locales = \"es-ES\" \n      )\n    )\n  ),\n  striped = TRUE,\n  bordered = TRUE,\n  highlight = TRUE,\n  filterable = TRUE,\n  defaultColDef = colDef(align = \"center\")\n)\n\n\n\n\nTabla 3.2: Mediciones para la dureza Brinell de acero endurecido para herramientas, en kilogramos por milímetro cuadrado\n\n\n\n\n\n\n\n\n\n\nUna vez observados los datos, Se procederá ahora a calcular los limites para ambos diagramas de control, para lo cual se usara igualmente el paquete SixSigma que contiene las constantes necesarias para calcular los limites de control, recordando que es un estudio inicial por lo que no se tienen ni los parámetros ni estimaciones de los mismos.\nSe empezara calculando los limites del diagrama inicial \\(S\\). Los cuales vienen dados por: \\[\n\\begin{align*}\nLCS  & =  B_{4}\\,\\bar{S} \\\\\nLC  & =  \\bar{S}\\\\\nLCI  & = B_{3}\\,\\bar{S}\n\\end{align*}\n\\tag{3.3}\\]\nPor lo que son necesarios los valores de \\(B_{3}\\) y \\(B_{4}\\), pueden ubicarse en sus respectivas tablas, o ser calculados en R mediante el siguiente bloque de código:\n\n\nCódigo\n# Define el Tamaño de muestra \nn &lt;- 8\n\n# Calculo  de las constantes B_3 y B_4 para el diagrama de control S\nB_3 &lt;- ifelse(\n  1 - 3 * sqrt(1 - SixSigma::ss.cc.getc4(n)^2) / SixSigma::ss.cc.getc4(n) &lt; 0, 0,\n  1 - 3 * sqrt(1 - SixSigma::ss.cc.getc4(n)^2) / SixSigma::ss.cc.getc4(n)\n)\nB_4 &lt;- 1 + 3 * sqrt(1 - SixSigma::ss.cc.getc4(n)^2) / SixSigma::ss.cc.getc4(n)\npaste(\"B_3=\",B_3,\"   B_4=\",formato(B_4))\n\n\n[1] \"B_3= 0.185089597759645    B_4= 1,8149\"\n\n\nLos limites se calculan de la siguiente forma:\n\n\nCódigo\n# Calculo del promedio global de las desviaciones estandar\nS_barra &lt;- mean(dureza$desviacion)\n\n# Calculo de los limites de control para el diagrama S\nlci_S &lt;- B_3 * S_barra \nlc_S &lt;- S_barra        \nlcs_S &lt;- B_4 * S_barra \n\n# print los calculos de los limites de control\npaste0(\"LCI_S = \", formato(lci_S), \"    LC_S = \", formato(lc_S), \"    LCS_S = \", formato(lcs_S))\n\n\n[1] \"LCI_S = 4,9604    LC_S = 26,8000    LCS_S = 48,6396\"\n\n\nManualmente, el calculo es el siguiente:\n\\[\n\\begin{align*}\nLCS  & =  B_{4}\\,\\bar{S} = 1,8149*26,8000= 48,6396 \\\\\nLC  & =  \\bar{S}  = 26,8000 \\\\\nLCI  & = B_{3}\\,\\bar{S} = 0,1851*26,8000= 4,9604\n\\end{align*}\n\\]\nLos limites para el diagrama de control \\(\\bar{x}\\) se calculan de la siguiente forma: \\[\n\\begin{align*}\nLCI & = \\bar{\\bar{x}} - A_{3}\\,\\bar{S}  \\\\\nLC & = \\bar{\\bar{x}}  \\\\\nLCS & = \\bar{\\bar{x}} + A_{3}\\,\\bar{S}\n\\end{align*}\n\\tag{3.4}\\]\nMediante el siguiente bloque de código se obtienen los limites:\n\n\nCódigo\nmedia_est &lt;- mean(dureza$media)\nA_3 &lt;- 3 / (sqrt(n) * SixSigma::ss.cc.getc4(n))\nlci_X &lt;- media_est - A_3 * S_barra\nlc_X &lt;-  media_est\nlcs_X &lt;- media_est + A_3 * S_barra\npaste0(\"LCI = \", formato(lci_X), \"    LC = \", formato(lc_X), \"    LCS = \", formato(lcs_X))\n\n\n[1] \"LCI = 522,4643    LC = 551,9200    LCS = 581,3757\"\n\n\nManualmente, se obtienen mediante el siguiente calculo:\n\\[\n\\begin{align*}\nLCI & = \\bar{\\bar{x}} - A_{3}\\,\\bar{S} = 551,9200-1,0991*26,8000= 522,4643\\\\\nLC & = \\bar{\\bar{x}} = 551,9200 \\\\\nLCS & = \\bar{\\bar{x}} + A_{3}\\,\\bar{S} = 551,9200+1,0991*26,8000= 581,3757\n\\end{align*}\n\\] Una vez ya calculados los limites. A continuación se muestran cada uno de estos diagramas:\n\n\nCódigo\nhighchart() |&gt;\n  hc_add_series(\n    data = dureza,\n    hcaes(x = muestra, low = lc_S, high = lcs_S),\n    step = \"hv\", marker = list(enabled = FALSE, visible = FALSE),\n    type = \"arearange\", fillOpacity = 0.2, name = \"\",\n    color = \"green\",\n    showInLegend = FALSE, tooltip = list(pointFormat = \"{NULL}\")\n  ) |&gt;\n  hc_add_series(\n    data = dureza, \n    hcaes(x = muestra, low = lci_S, high = lc_S),\n    step = \"hv\", marker = list(enabled = FALSE, visible = FALSE),\n    type = \"arearange\", fillOpacity = 0.2,\n    name = \"\", color = \"blue\",\n    showInLegend = FALSE, tooltip = list(pointFormat = \"{NULL}\")\n  ) |&gt;\n  hc_add_series(\n    data = dureza,\n    type = \"line\", hcaes(x = muestra, y = lcs_S), useHTML = TRUE,\n    color = \"red\", dashStyle = \"Dash\", name = \"&lt;b&gt;&lt;i&gt;LCS&lt;/b&gt;&lt;/i&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_add_series(\n    data = dureza, \n    type = \"line\", hcaes(x = muestra, y = lc_S), useHTML = TRUE,\n    color = \"blue\", name = \"&lt;b&gt;&lt;i&gt;LC&lt;/b&gt;&lt;/i&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_add_series(\n    data = dureza, \n    type = \"line\", hcaes(x = muestra, y = lci_S), useHTML = TRUE,\n    color = \"red\", dashStyle = \"Dash\", name = \"&lt;b&gt;&lt;i&gt;LCI&lt;/b&gt;&lt;/i&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_add_series(\n    data = dureza, # Puntos de datos reales\n    type = \"line\", color = \"black\",\n    hcaes(x = muestra, y = desviacion),\n    marker = list(radius = 3, fillColor = \"blue\"), # Añadido fillColor para consistencia\n    useHTML = TRUE, name = \"&lt;b&gt;&lt;i&gt;S&lt;sub&gt;i&lt;/sub&gt;&lt;/i&gt;&lt;/b&gt;\",\n    dashStyle = \"Dash\",\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_xAxis(\n    title = list(\n      useHTML = TRUE,\n      text = \"&lt;b&gt;&lt;i&gt;Muestra (n&lt;sub&gt;i&lt;/sub&gt;)&lt;/i&gt;&lt;/b&gt;&lt;br&gt;\"\n    )\n  ) |&gt;\n  hc_yAxis(\n    title = list(\n      useHTML = TRUE,\n      text = \"&lt;b&gt;&lt;i&gt;Desviación estándar (S&lt;sub&gt;i&lt;/sub&gt;)&lt;/i&gt;&lt;/b&gt;&lt;br&gt;\")\n  ) |&gt;\n  hc_tooltip(crosshairs = TRUE, shared = TRUE) |&gt;\n  hc_plotOptions(series = list(animation = FALSE) )\n\n\n\n\n\n\n\n\nFigura 3.6: Diagrama \\(S\\) para la dureza Brinell del acero (kg/mm²) en la fase I con el paquete highcharter\n\n\n\n\nComo se puede observar en la Figura 3.6 se observa que el punto 6 esta fuera de los limites de control, se concluye que el proceso no esta bajo control estadistico en varianza. Por lo que suponiendo causas asignables se eliminara del diagrama para recalcular los limites y observar nuevamente el comportamiento del proceso.\n\n\nCódigo\nhighchart() |&gt;\n  hc_add_series(\n    data = dureza, \n    hcaes(x = muestra, low = lc_X, high = lcs_X),\n    step = \"hv\", marker = list(enabled = FALSE, visible = FALSE),\n    type = \"arearange\", fillOpacity = 0.2, name = \"\",\n    color = \"green\",\n    showInLegend = FALSE, tooltip = list(pointFormat = \"{NULL}\")\n  ) |&gt;\n  hc_add_series(\n    data = dureza, \n    hcaes(x = muestra, low = lci_X, high = lc_X),\n    step = \"hv\", marker = list(enabled = FALSE, visible = FALSE),\n    type = \"arearange\", fillOpacity = 0.2, name = \"\",\n    color = \"blue\",\n    showInLegend = FALSE, tooltip = list(pointFormat = \"{NULL}\")\n  ) |&gt;\n  hc_add_series(\n    data = dureza, \n    type = \"line\", hcaes(x = muestra, y = lcs_X), useHTML = TRUE,\n    color = \"red\", dashStyle = \"Dash\", name = \"&lt;b&gt;&lt;i&gt;LCS&lt;/b&gt;&lt;/i&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_add_series(\n    data = dureza, \n    type = \"line\", hcaes(x = muestra, y = lc_X), useHTML = TRUE,\n    color = \"blue\", name = \"&lt;b&gt;&lt;i&gt;LC&lt;/b&gt;&lt;/i&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_add_series(\n    data = dureza, \n    type = \"line\", hcaes(x = muestra, y = lci_X), useHTML = TRUE,\n    color = \"red\", dashStyle = \"Dash\", name = \"&lt;b&gt;&lt;i&gt;LCI&lt;/b&gt;&lt;/i&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_add_series(\n    data = dureza, # Puntos de datos reales\n    type = \"line\", color = \"black\", hcaes(x = muestra, y = media),\n    marker = list(radius = 3, fillColor = \"blue\"),\n    useHTML = TRUE,\n    name = \"&lt;b&gt;&lt;i&gt;Media&lt;/i&gt;&lt;/b&gt;\", dashStyle = \"Dash\",\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_xAxis(\n    title = list(\n      useHTML = TRUE,\n      text = \"&lt;b&gt;&lt;i&gt;Muestra (n&lt;sub&gt;i&lt;/sub&gt;)&lt;/i&gt;&lt;/b&gt;&lt;br&gt;\"\n    )\n  ) |&gt;\n  hc_yAxis(\n    title = list(\n      useHTML = TRUE,\n      text = \"&lt;b&gt;&lt;i&gt;Media&lt;/i&gt;&lt;/b&gt;&lt;br&gt;\"\n    )\n  ) |&gt;\n  hc_tooltip(crosshairs = TRUE, shared = TRUE) |&gt;\n  hc_plotOptions(series = list(animation = FALSE) )\n\n\n\n\n\n\n\n\nFigura 3.7: Diagrama \\(\\bar{x}\\) para la dureza Brinell del acero (kg/mm²) en la fase I con el paquete highcharter\n\n\n\n\nSe puede observar en la Figura 3.7 que se tienen dos puntos fuera de los limites de control, siendo los puntos 8 y 18. Ahora bien, el punto 15 se encuentra muy cercano teniendo una diferencia con este de 0,46, lo cual es menor a unidad. Basado en uno de los criterios de General Electric, el cual establece que un punto que se encuentre muy cercano a uno de los limites debera considerarse como una advertencia de que el proceso no esta funcionando como deberia. Por lo que el proceso no se encuentra bajo control estadistico en su media, suponiendo causas asignables se procedera a eliminar los tres puntos de proceso, recalcular los limites y graficar nuevamente el diagrama.\nLos nuevos limites para el diagrama \\(S\\), se calculan en el siguiente bloque de código:\n\n\nCódigo\ndureza &lt;- dureza[-c(6,8,15,18)]\n# Calculo grafico de control constants B_3 y B_4 para el diagrama S\n# These constants depend on the Tamaño de muestra 'n' y SixSigma::ss.cc.getc4(n)\nB_3 &lt;- ifelse(\n  1 - 3 * sqrt(1 - SixSigma::ss.cc.getc4(n)^2) / SixSigma::ss.cc.getc4(n) &lt; 0, 0,\n  1 - 3 * sqrt(1 - SixSigma::ss.cc.getc4(n)^2) / SixSigma::ss.cc.getc4(n)\n)\nB_4 &lt;- 1 + 3 * sqrt(1 - SixSigma::ss.cc.getc4(n)^2) / SixSigma::ss.cc.getc4(n)\n\n# Calculo del promedio global de the subgroup standard deviations (S-bar)\nS_barra &lt;- mean(dureza$desviacion)\n\n# Calculo los limites de control para el diagrama S\nlci_S &lt;- B_3 * S_barra \nlc_S &lt;- S_barra       \nlcs_S &lt;- B_4 * S_barra \n\n# Define the 'formato' function as it was used in  original snippet\n# (Assuming it formats numbers with commas as decimal separators y two digits)\nformato &lt;- function(x, digits = 4) {\n  formatC(x, format = \"f\", digits = digits, big.mark = \".\", decimal.mark = \",\")\n}\n\n# print the Calculod control limits\npaste0(\"LCI_S = \", formato(lci_S), \"    LC_S = \", formato(lc_S), \"    LCS_S = \", formato(lcs_S))\n\n\n[1] \"LCI_S = 4,7506    LC_S = 25,6667    LCS_S = 46,5827\"\n\n\nPor otro lado, los nuevos limites para el diagrama \\(\\bar{X}\\), se calculan en el siguiente bloque de código:\n\n\nCódigo\nmedia_est &lt;- mean(dureza$media)\nA_3 &lt;- 3 / (sqrt(n) * SixSigma::ss.cc.getc4(n))\nlci_X &lt;- media_est - A_3 * S_barra\nlc_X &lt;-  media_est\nlcs_X &lt;- media_est + A_3 * S_barra\npaste0(\"LCI = \", formato(lci_X), \"    LC = \", formato(lc_X), \"    LCS = \", formato(lcs_X))\n\n\n[1] \"LCI = 528,8375    LC = 557,0476    LCS = 585,2577\"\n\n\nA continuación se muestran los diagramas de control:\n\n\nCódigo\nhighchart() |&gt;\n  hc_add_series(\n    data = dureza,\n    hcaes(x = muestra, low = lc_S, high = lcs_S),\n    step = \"hv\", marker = list(enabled = FALSE, visible = FALSE),\n    type = \"arearange\", fillOpacity = 0.2, name = \"\",\n    color = \"green\",\n    showInLegend = FALSE, tooltip = list(pointFormat = \"{NULL}\")\n  ) |&gt;\n  hc_add_series(\n    data = dureza, \n    hcaes(x = muestra, low = lci_S, high = lc_S),\n    step = \"hv\", marker = list(enabled = FALSE, visible = FALSE),\n    type = \"arearange\", fillOpacity = 0.2,\n    name = \"\", color = \"blue\",\n    showInLegend = FALSE, tooltip = list(pointFormat = \"{NULL}\")\n  ) |&gt;\n  hc_add_series(\n    data = dureza,\n    type = \"line\", hcaes(x = muestra, y = lcs_S), useHTML = TRUE,\n    color = \"red\", dashStyle = \"Dash\", name = \"&lt;b&gt;&lt;i&gt;LCS&lt;/b&gt;&lt;/i&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_add_series(\n    data = dureza, \n    type = \"line\", hcaes(x = muestra, y = lc_S), useHTML = TRUE,\n    color = \"blue\", name = \"&lt;b&gt;&lt;i&gt;LC&lt;/b&gt;&lt;/i&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_add_series(\n    data = dureza, \n    type = \"line\", hcaes(x = muestra, y = lci_S), useHTML = TRUE,\n    color = \"red\", dashStyle = \"Dash\", name = \"&lt;b&gt;&lt;i&gt;LCI&lt;/b&gt;&lt;/i&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_add_series(\n    data = dureza, # Puntos de datos reales\n    type = \"line\", color = \"black\",\n    hcaes(x = muestra, y = desviacion),\n    marker = list(radius = 3, fillColor = \"blue\"), # Añadido fillColor para consistencia\n    useHTML = TRUE, name = \"&lt;b&gt;&lt;i&gt;S&lt;sub&gt;i&lt;/sub&gt;&lt;/i&gt;&lt;/b&gt;\",\n    dashStyle = \"Dash\",\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_xAxis(\n    title = list(\n      useHTML = TRUE,\n      text = \"&lt;b&gt;&lt;i&gt;Muestra (n&lt;sub&gt;i&lt;/sub&gt;)&lt;/i&gt;&lt;/b&gt;&lt;br&gt;\"\n    )\n  ) |&gt;\n  hc_yAxis(\n    title = list(\n      useHTML = TRUE,\n      text = \"&lt;b&gt;&lt;i&gt;Desviación estándar (S&lt;sub&gt;i&lt;/sub&gt;)&lt;/i&gt;&lt;/b&gt;&lt;br&gt;\")\n  ) |&gt;\n  hc_tooltip(crosshairs = TRUE, shared = TRUE) |&gt;\n  hc_plotOptions(series = list(animation = FALSE) )\n\n\n\n\n\n\n\n\nFigura 3.8: Diagrama \\(S\\) para la dureza Brinell del acero (kg/mm²) en la fase I con el paquete highcharter\n\n\n\n\nComo se puede observar en la Figura 3.8 ninguno de los puntos se encuentra fuera de los limites de control.\n\n\nCódigo\nhighchart() |&gt;\n  hc_add_series(\n    data = dureza, \n    hcaes(x = muestra, low = lc_X, high = lcs_X),\n    step = \"hv\", marker = list(enabled = FALSE, visible = FALSE),\n    type = \"arearange\", fillOpacity = 0.2, name = \"\",\n    color = \"green\",\n    showInLegend = FALSE, tooltip = list(pointFormat = \"{NULL}\")\n  ) |&gt;\n  hc_add_series(\n    data = dureza, \n    hcaes(x = muestra, low = lci_X, high = lc_X),\n    step = \"hv\", marker = list(enabled = FALSE, visible = FALSE),\n    type = \"arearange\", fillOpacity = 0.2, name = \"\",\n    color = \"blue\",\n    showInLegend = FALSE, tooltip = list(pointFormat = \"{NULL}\")\n  ) |&gt;\n  hc_add_series(\n    data = dureza, \n    type = \"line\", hcaes(x = muestra, y = lcs_X), useHTML = TRUE,\n    color = \"red\", dashStyle = \"Dash\", name = \"&lt;b&gt;&lt;i&gt;LCS&lt;/b&gt;&lt;/i&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_add_series(\n    data = dureza, \n    type = \"line\", hcaes(x = muestra, y = lc_X), useHTML = TRUE,\n    color = \"blue\", name = \"&lt;b&gt;&lt;i&gt;LC&lt;/b&gt;&lt;/i&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_add_series(\n    data = dureza, \n    type = \"line\", hcaes(x = muestra, y = lci_X), useHTML = TRUE,\n    color = \"red\", dashStyle = \"Dash\", name = \"&lt;b&gt;&lt;i&gt;LCI&lt;/b&gt;&lt;/i&gt;\",\n    step = \"hv\", marker = list(enabled = FALSE),\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_add_series(\n    data = dureza, # Puntos de datos reales\n    type = \"line\", color = \"black\", hcaes(x = muestra, y = media),\n    marker = list(radius = 3, fillColor = \"blue\"),\n    useHTML = TRUE,\n    name = \"&lt;b&gt;&lt;i&gt;Media&lt;/i&gt;&lt;/b&gt;\", dashStyle = \"Dash\",\n    tooltip = list(valueDecimals = 2)\n  ) |&gt;\n  hc_xAxis(\n    title = list(\n      useHTML = TRUE,\n      text = \"&lt;b&gt;&lt;i&gt;Muestra (n&lt;sub&gt;i&lt;/sub&gt;)&lt;/i&gt;&lt;/b&gt;&lt;br&gt;\"\n    )\n  ) |&gt;\n  hc_yAxis(\n    title = list(\n      useHTML = TRUE,\n      text = \"&lt;b&gt;&lt;i&gt;Media&lt;/i&gt;&lt;/b&gt;&lt;br&gt;\"\n    )\n  ) |&gt;\n  hc_tooltip(crosshairs = TRUE, shared = TRUE) |&gt;\n  hc_plotOptions(series = list(animation = FALSE) )\n\n\n\n\n\n\n\n\nFigura 3.9: Diagrama \\(\\bar{x}\\) para la dureza Brinell del acero (kg/mm²) en la fase I con el paquete highcharter\n\n\n\n\nIgualmente, como se puede observar ninguno de los puntos se encuentra fuera de los limites de control. Por lo que, dado que para ambos diagramas de control (Figura 3.8 y Figura 3.9) no se encuentran ahora puntos fuera de control, se puede decir entonces que la dureza Brinell de acero endurecido para herramientas, en kilogramos por milímetro cuadrado es estable tanto en media como en varianza.\n\n3.4.1 Capacidad del Proceso\nPara determinar la capacidad del proceso estabilizado, se informa que la especificación superior (LSE) para la dureza Brinell es de 600 kg/mm² y la especificación inferior (LIE) es de 500 kg/mm². Con estos datos y las propiedades del proceso que has determinado (media del proceso revisada y desviación estándar estimada a partir del rango promedio revisado), calcula los índices de capacidad del proceso (\\(C_p\\) y \\(C_{pk}\\)) y evalúa qué tan bien está operando el proceso en relación con las especificaciones.\nPara empezar, una vez determinado que el proceso se encuentra bajo control estadistico , se procede a calcular los indices de capacidad del proceso, por este motivo se supondrá que los datos siguen una distribución normal.\nLos limites de tolerancia natural fueron los establecidos anteriormente, siendo estos \\(528,8375\\) y \\(585,2577\\).\n\n\nCódigo\nX_bar &lt;- dureza$media\nS &lt;- dureza$desviacion\n# Establecer los límites de especificación\nspec.limits &lt;- c(500, 600)\n\n# Calcular la media del rango revisada\nS_barra &lt;- mean(S)\n\n# ESTO ES CRÍTICO: Estimar la desviación estándar del proceso (sigma) a partir de R_barra\n# Usamos d2(n) para convertir el rango promedio en una estimación de sigma\nsd_estimado_proceso &lt;- S_barra / SixSigma::ss.cc.getd2(n)\n\nxbar_chart_obj &lt;- qcc(X_bar, type = \"xbar\", sizes = n, plot = FALSE,\n                      std.dev = sd_estimado_proceso)\ncapability &lt;- process.capability(xbar_chart_obj, spec.limits = spec.limits , print = FALSE)\n\n# Calcular la porción caída (esto debería ser consistente con 'capability$exp' ahora)\n# mean_data es la media del proceso\nmean_data &lt;- mean(X_bar) # Usar la media de las X_bar revisadas\n\nlower_limit &lt;- spec.limits[1]\nupper_limit &lt;- spec.limits[2]\n\n# Proporción de unidades por debajo del límite inferior\nportion_below &lt;- pnorm(lower_limit, mean = mean_data, sd = sd_estimado_proceso)\n\n# Proporción de unidades por encima del límite superior\nportion_above &lt;- 1 - pnorm(upper_limit, mean = mean_data, sd = sd_estimado_proceso)\n\n# Porción caída total\nportion_fallen &lt;- portion_below + portion_above\n\nportion_fallen &lt;- sum(capability$exp)\n\n# Mostrar la porción caída\ncat(\"Porción caída:\", formato(portion_fallen), \"\\n\")\n\n\nPorción caída: 0,0000 \n\n\n\n\n\n\n\n\nFigura 3.10: Capacidad del proceso\n\n\n\n\n\nEl análisis de capacidad del proceso para la dureza Brinell de acero endurecido para herramientas revela que el desempeño es altamente capaz y robusto.\nEl índice de capacidad potencial del proceso (\\(C_p\\)) de 1.85 indica una excelente capacidad potencial. Esto sugiere que la variabilidad intrínseca del proceso es significativamente menor que la amplitud de las especificaciones. Un \\(C_p\\) mayor a 1.33 es generalmente considerado altamente adecuado para el trabajo, lo que significa que el proceso puede cumplir consistentemente con los límites de dureza Brinell establecidos.\nEl índice de capacidad real del proceso (\\(C_{pk}\\)) de 1.59 confirma la gran capacidad del proceso. Este valor, determinado por el \\(C_{pU}\\) (1.59 vs \\(C_{pL}\\) 2.11), revela que el proceso está bien centrado dentro de los límites de especificación, aunque con una ligera tendencia hacia el límite superior. Un \\(C_{pk}\\) superior a 1.33 es una señal de un proceso altamente capaz y robusto, con un riesgo muy bajo de producir mediciones de dureza fuera de las especificaciones.\nEl índice de capacidad de Taguchi (\\(C_{pm}\\)) de 1.46 corrobora la solidez del proceso al considerar no solo la variabilidad y la centración, sino también la desviación respecto al valor objetivo (Target = 550 kg/mm²). Este valor alto sugiere que la salida del proceso (media observada de 557.0476 kg/mm²) está razonablemente cerca del objetivo, y la variabilidad es baja, lo que garantiza una alta calidad y consistencia.\nLa porción caída esperada (Exp&lt;LSL 0% y Exp&gt;USL 0%) es de 0% en ambos lados de las especificaciones. Esto significa que se espera que ninguna de las mediciones de dureza Brinell esté fuera de los límites de especificación. La porción observada fue también del 0% (Obs&lt;LSL 0%, Obs&gt;USL 0%) en las 21 muestras, lo que refuerza la conclusión de que el proceso es extremadamente capaz y estable, produciendo constantemente resultados dentro de los requisitos de dureza.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Diagramas de Control para Variables y Análisis de Indices de Capacidad de Procesos Aplicados con ${\\color{Blue} \\textbf{\\textsf{R}}}$</span>"
    ]
  },
  {
    "objectID": "referencias.html",
    "href": "referencias.html",
    "title": "Referencias",
    "section": "",
    "text": "Campos Robles, Emmanuel. 1995. “Control Estadı́stico\nde Calidad: Una Recopilación de técnicas\nAplicables a La Supervisión En Los Procesos de\nProducción.”\n\n\nKnuth, Donald E. 1984. “Literate Programming.” Comput.\nJ. 27 (2): 97–111. https://doi.org/10.1093/comjnl/27.2.97.\n\n\nRendón, Hernán. 2013. “Control Estadı́stico de\nCalidad.” Medellı́n: Universidad Nacional de\nColombia.",
    "crumbs": [
      "Referencias"
    ]
  },
  {
    "objectID": "variables_indices_cap.html#diagrama-de-control-para-la-mediabarx-y-la-desviación-estándars-con-tamaño-de-muestra-variable",
    "href": "variables_indices_cap.html#diagrama-de-control-para-la-mediabarx-y-la-desviación-estándars-con-tamaño-de-muestra-variable",
    "title": "2  Diagramas de Control para Variables y Análisis de Indices de Capacidad de Procesos Aplicados con \\({\\color{Blue} \\textbf{\\textsf{R}}}\\)",
    "section": "3.5 Diagrama de control para la Media(\\(\\bar{X}\\)) y la Desviación Estándar(\\(S\\)) con tamaño de muestra variable",
    "text": "3.5 Diagrama de control para la Media(\\(\\bar{X}\\)) y la Desviación Estándar(\\(S\\)) con tamaño de muestra variable\n\n\n\n\n\n\n\nEjemplo 3.3 (Aplicación de los Diagramas \\(\\bar{x}\\) y \\(S\\) con tamaño de muestra variable.) Una empresa de producción de alimentos se encuentra interesada en supervisar la concentración de un conservante en los productos que derece, para ello toman entre 10 y 15 muestras de 20 lotes de producción distintos, midiendo la concentración del conservante en su respectiva unidad.\nLa Tabla 3.3 muestra las medias y las desviaciones que presentó cada lote inspeccionado, junto con su la cantidad de muestras que se tomó en el lote correspondiente. Este ejemplo fue tomado de Rendón (2013).\n\n\nCódigo\ndatos_xstmv &lt;- tibble(\n  obs=c(1:20),\nmedias=c(1.76, 1.55, 1.79, 1.73, 1.74, 1.68, 1.84, 1.88, 1.83, 1.89, 1.76, 1.76, 1.85, 1.51, 2.08, 1.85, 1.69, 1.90, 1.84, 1.62\n  ),\ndes=c(0.486, 0.508, 0.396, 0.622, 0.484, 0.377, 0.532, 0.424, 0.527, 0.409, 0.443, 0.403, 0.578, 0.409, 0.424, 0.479, 0.438, 0.429, 0.484, 0.434\n  ),\ntamano=c(11L, 12L, 14L, 14L, 10L, 15L, 13L, 12L, 14L, 11L, 12L, 15L, 10L, 13L, 14L, 11L, 10L, 12L, 15L, 13L\n  )\n)\n\nknitr::kable(\n  datos_xstmv,\n  booktabs = TRUE,\n  format = \"html\",\n  col.names = c(\n    \"Lote\", \"Media\", \"Desviación\", \"Tamaño\"\n  ),\n  align = \"cc\",\n  escape = FALSE,\n) \n\n\n\n\nTabla 3.3: Número total de defectos en cada unidad de inspección\n\n\n\n\n\n\nLote\nMedia\nDesviación\nTamaño\n\n\n\n\n1\n1.76\n0.486\n11\n\n\n2\n1.55\n0.508\n12\n\n\n3\n1.79\n0.396\n14\n\n\n4\n1.73\n0.622\n14\n\n\n5\n1.74\n0.484\n10\n\n\n6\n1.68\n0.377\n15\n\n\n7\n1.84\n0.532\n13\n\n\n8\n1.88\n0.424\n12\n\n\n9\n1.83\n0.527\n14\n\n\n10\n1.89\n0.409\n11\n\n\n11\n1.76\n0.443\n12\n\n\n12\n1.76\n0.403\n15\n\n\n13\n1.85\n0.578\n10\n\n\n14\n1.51\n0.409\n13\n\n\n15\n2.08\n0.424\n14\n\n\n16\n1.85\n0.479\n11\n\n\n17\n1.69\n0.438\n10\n\n\n18\n1.90\n0.429\n12\n\n\n19\n1.84\n0.484\n15\n\n\n20\n1.62\n0.434\n13\n\n\n\n\n\n\n\n\n\n\nPara la construcción del diagrama de control, se utilizará el criterio del tamaño de muestra promedio, calculado de la siguiente forma:\n\\[\n\\begin{equation}\n\\bar{n}= \\frac{\\sum_{i=1}^{m}n_i}{m}\n\\end{equation}\n\\tag{3.5}\\]\nEn R, el calculo se realiza de la siguiente forma:\n\n\nCódigo\nsumn &lt;- sum(datos_xstmv$tamano)\nm &lt;- 20\nnpro &lt;- round(sumn/m,0)\npaste(npro)\n\n\n[1] \"13\"\n\n\nLos limites de control para el diagrama \\(S\\) se obtienen de la siguiente forma: \\[\n\\begin{align*}\nLCI & = B_{3}\\left(\\bar{n} \\right)\\,\\bar{S} \\\\\nLC & = \\bar{S} \\\\\nLCS & = B_{4}\\left(\\bar{n} \\right)\\,\\bar{S}\n\\end{align*}\n\\tag{3.6}\\]\nDel mismo, se calculan con R utilizando el siguiente bloque de código:\n\n\nCódigo\nB_3 &lt;- ifelse(\n  1 - 3 * sqrt(1 - SixSigma::ss.cc.getc4(npro)^2) / SixSigma::ss.cc.getc4(npro) &lt; 0, 0,\n  1 - 3 * sqrt(1 - SixSigma::ss.cc.getc4(npro)^2) / SixSigma::ss.cc.getc4(npro)\n)\nB_4 &lt;- 1 + 3 * sqrt(1 - SixSigma::ss.cc.getc4(npro)^2) / SixSigma::ss.cc.getc4(npro)\n\nmedia_est &lt;- mean(datos_xstmv$medias)\nS_barra &lt;- mean(datos_xstmv$des)\nlci_S &lt;- B_3 * S_barra\nlc_S &lt;- S_barra\nlcs_S &lt;- B_4 * S_barra\npaste0(\"LCI = \", formato(lci_S), \"    LC = \", formato(lc_S), \"    LCS = \", formato(lcs_S))\n\n\n[1] \"LCI = 0,1772    LC = 0,4643    LCS = 0,7514\"\n\n\nLos limites de control para \\(\\bar{x}\\) vienen dados por la siguiente expresión:\n\\[\n\\begin{align*}\nLCI & = \\bar{\\bar{x}} - A_{3}\\left(\\bar{n} \\right)\\,\\bar{S}  \\\\\nLC & = \\bar{\\bar{x}} \\\\\nLCS & = \\bar{\\bar{x}} + A_{3}\\left(\\bar{n} \\right)\\,\\bar{S}\n\\end{align*}\n\\tag{3.7}\\]\nEn R, el calculo se realiza mediante el siguiente bloque de código:\n\n\nCódigo\nA_3 &lt;- 3 / (sqrt(npro) * SixSigma::ss.cc.getc4(npro))\nlci &lt;- media_est - A_3 * S_barra\nlc &lt;-  media_est\nlcs &lt;- media_est + A_3 * S_barra\npaste0(\"LCI = \", formato(lci), \"    LC = \", formato(lc), \"    LCS = \", formato(lcs))\n\n\n[1] \"LCI = 1,3831    LC = 1,7775    LCS = 2,1719\"\n\n\nLa representación gráfica de este diagrama se observa en la Figura 3.11:\n\nCódigo\n# Diagrama S en la fase 1\nS1 &lt;- qcc(\n  datos_xstmv$des,sizes = npro,limits = c(lci_S, lcs_S),\n  type = \"S\", plot = FALSE\n)\nplot(\n  S1,\n  add.stats = FALSE, label.limits = c(\"LCI\", \"LCS\"),\n  title = \"\", xlab = \"Lote\", ylab = \"Desviación estándar\",\n  chart.all = TRUE\n)\n\n# Diagrama xbarra en la fase 1\nxbarra_xs2 &lt;- qcc(\n  datos_xstmv$medias, sizes = npro,limits = c(lci, lcs),\n  type = \"xbar\",\n  plot = FALSE\n)\nplot(\n  xbarra_xs2,\n  add.stats = FALSE, label.limits = c(\"LCI\", \"LCS\"),\n  title = \"\", xlab = \"Lote\", ylab = \"Medias\",\n  chart.all = TRUE\n)\n\n\n\n\n\n\n\n\n\n\n\n\n(a) Diagrama \\(S\\) inicial\n\n\n\n\n\n\n\n\n\n\n\n(b) Diagrama \\(\\bar{x}\\) inicial\n\n\n\n\n\n\n\nFigura 3.11: Diagramas \\(\\bar{x}\\) y \\(S\\) para la cantidad de conservante por lote con el paquete qcc\n\n\n\nSe observa que tanto el diagrama de control de la desviación estándar (\\(S\\)) como el diagrama de control de la media (\\(\\bar{X}\\)), como se muestra en la Figura Figura 3.11, tienen todos sus puntos dentro de los límites de control.\nEsto indica que la variabilidad del proceso está bajo control estadístico, permitiendo utilizar la estimación de \\(\\sigma\\) (la desviación estándar del proceso) para el monitoreo futuro. De manera similar, el centro del proceso también está bajo control estadístico, operando bajo causas fortuitas. Por lo tanto, la estimación de \\(\\mu\\) (la media del proceso) puede emplearse para supervisar las futuras concentraciones de conservantes en los alimentos producidos.\nEn resumen, el proceso de concentración de conservantes en los alimentos se encuentra en estado de control estadístico, tanto en su variabilidad como en su promedio, lo que permite la utilización de las estimaciones actuales para su supervisión y mejora continua.\n\n3.5.1 Capacidad del Proceso\nPara determinar la capacidad del proceso estabilizado, se informa que la especificación superior (LSE) para la concentración de conservante es de 2.0 y la especificación inferior (LIE) es de 1.0. Con estos datos y las propiedades del proceso que has determinado (media del proceso revisada y desviación estándar estimada a partir del rango promedio revisado), calcula los índices de capacidad del proceso (\\(C_p\\) y \\(C_{pk}\\)) y evalúa qué tan bien está operando el proceso en relación con las especificaciones.\nLos límites de tolerancia natural fueron los establecidos anteriormente, siendo estos \\(1,3831\\) y \\(2,1719\\).\n\n\nCódigo\nX_bar &lt;- datos_xstmv$medias\nS &lt;- datos_xstmv$des\n# Establecer los límites de especificación\nspec.limits &lt;- c(1, 2)\n\n# Calcular la media del rango revisada\nS_barra &lt;- mean(S)\n\n# ESTO ES CRÍTICO: Estimar la desviación estándar del proceso (sigma) a partir de R_barra\n# Usamos d2(n) para convertir el rango promedio en una estimación de sigma\nsd_estimado_proceso &lt;- S_barra / SixSigma::ss.cc.getd2(npro)\n\nxbar_chart_obj &lt;- qcc(X_bar, type = \"xbar\", sizes = npro, plot = FALSE,\n                      std.dev = sd_estimado_proceso)\ncapability &lt;- process.capability(xbar_chart_obj, spec.limits = spec.limits , print = FALSE)\n\n# Calcular la porción caída (esto debería ser consistente con 'capability$exp' ahora)\n# mean_data es la media del proceso\nmean_data &lt;- mean(X_bar) # Usar la media de las X_bar revisadas\n\nlower_limit &lt;- spec.limits[1]\nupper_limit &lt;- spec.limits[2]\n\n# Proporción de unidades por debajo del límite inferior\nportion_below &lt;- pnorm(lower_limit, mean = mean_data, sd = sd_estimado_proceso)\n\n# Proporción de unidades por encima del límite superior\nportion_above &lt;- 1 - pnorm(upper_limit, mean = mean_data, sd = sd_estimado_proceso)\n\n# Porción caída total\nportion_fallen &lt;- portion_below + portion_above\n\nportion_fallen &lt;- sum(capability$exp)\n\n# Mostrar la porción caída\ncat(\"Porción caída:\", formato(portion_fallen), \"\\n\")\n\n\nPorción caída: 0,0549 \n\n\n\n\n\n\n\n\nFigura 3.12: Capacidad del proceso\n\n\n\n\n\nEl análisis de capacidad del proceso para la concentración de conservantes en los productos alimenticios revela un desempeño con oportunidades significativas de mejora.\nEl índice de capacidad potencial del proceso (\\(C_p\\)) de 1.2 indica una capacidad potencial aceptable, pero no óptima. Esto sugiere que la variabilidad intrínseca del proceso, si estuviera perfectamente centrado, apenas cabe dentro de la amplitud de las especificaciones. Aunque un \\(C_p\\) de 1.2 está por encima del umbral de 1.0 (que Montgomery considera “no adecuado”), aún no alcanza los niveles deseables de 1.33 o 1.67 para procesos de clase mundial, lo que significa que la variabilidad es aún considerable en relación con la tolerancia.\nEl índice de capacidad real del proceso (\\(C_{pk}\\)) de 0.533 es la principal preocupación en este análisis. Al ser significativamente menor que 1.0, y en este caso determinado por \\(C_{pU}\\) (0.533 vs \\(C_{pL}\\) 1.86), revela que el proceso está mal centrado y muestra una fuerte tendencia hacia el Límite Superior de Especificación (USL). Este valor, muy por debajo de 1.0, confirma que el proceso no es capaz de cumplir consistentemente con los requisitos de concentración, ya que una parte sustancial de la distribución se extiende más allá del límite superior.\nEl índice de capacidad de Taguchi (\\(C_{pm}\\)) de 0.537 corrobora la deficiencia del proceso. Este valor, cercano al \\(C_{pk}\\), refleja que la desviación del proceso no solo es notable en relación con las especificaciones, sino que también está desalineado con el valor objetivo (Target = 1.5). La media del proceso (1.7775) se ha desplazado considerablemente del objetivo, lo que penaliza fuertemente este índice y refuerza la necesidad urgente de reajustar la centración del proceso.\nLa porción caída esperada (Exp&gt;USL 5.5%) es de 5.5% por encima del límite superior. Esto significa que aproximadamente el 5.5% de los lotes de producción se espera que tengan una concentración de conservante por encima del límite permitido. Aunque la porción observada fue del 0% por debajo del LSL y 5% por encima del USL en las 20 muestras (Obs&lt;LSL 0%, Obs&gt;USL 5%), la alta expectativa de defectos subraya la importancia crítica de implementar medidas correctivas inmediatas para reducir la concentración promedio y su variabilidad, asegurando así que los productos cumplan con las normativas de conservantes.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Diagramas de Control para Variables y Análisis de Indices de Capacidad de Procesos Aplicados con ${\\color{Blue} \\textbf{\\textsf{R}}}$</span>"
    ]
  }
]